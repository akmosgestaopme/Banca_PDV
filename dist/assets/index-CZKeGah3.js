(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function t5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var K1={exports:{}},qh={},X1={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=Symbol.for("react.element"),r5=Symbol.for("react.portal"),s5=Symbol.for("react.fragment"),n5=Symbol.for("react.strict_mode"),a5=Symbol.for("react.profiler"),i5=Symbol.for("react.provider"),o5=Symbol.for("react.context"),l5=Symbol.for("react.forward_ref"),c5=Symbol.for("react.suspense"),d5=Symbol.for("react.memo"),u5=Symbol.for("react.lazy"),Gg=Symbol.iterator;function h5(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var Q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z1=Object.assign,e2={};function Dl(t,e,r){this.props=t,this.context=e,this.refs=e2,this.updater=r||Q1}Dl.prototype.isReactComponent={};Dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t2(){}t2.prototype=Dl.prototype;function fp(t,e,r){this.props=t,this.context=e,this.refs=e2,this.updater=r||Q1}var mp=fp.prototype=new t2;mp.constructor=fp;Z1(mp,Dl.prototype);mp.isPureReactComponent=!0;var Jg=Array.isArray,r2=Object.prototype.hasOwnProperty,pp={current:null},s2={key:!0,ref:!0,__self:!0,__source:!0};function n2(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)r2.call(e,n)&&!s2.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var d=Array(l),h=0;h<l;h++)d[h]=arguments[h+2];a.children=d}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:yd,type:t,key:i,ref:o,props:a,_owner:pp.current}}function f5(t,e){return{$$typeof:yd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===yd}function m5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Yg=/\/+/g;function i0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m5(""+t.key):e.toString(36)}function Vu(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yd:case r5:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+i0(o,0):n,Jg(a)?(r="",t!=null&&(r=t.replace(Yg,"$&/")+"/"),Vu(a,e,r,"",function(h){return h})):a!=null&&(gp(a)&&(a=f5(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Yg,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",Jg(t))for(var l=0;l<t.length;l++){i=t[l];var d=n+i0(i,l);o+=Vu(i,e,r,d,a)}else if(d=h5(t),typeof d=="function")for(t=d.call(t),l=0;!(i=t.next()).done;)i=i.value,d=n+i0(i,l++),o+=Vu(i,e,r,d,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xu(t,e,r){if(t==null)return t;var n=[],a=0;return Vu(t,n,"","",function(i){return e.call(r,i,a++)}),n}function p5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var as={current:null},Hu={transition:null},g5={ReactCurrentDispatcher:as,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:pp};function a2(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:xu,forEach:function(t,e,r){xu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=Dl;mt.Fragment=s5;mt.Profiler=a5;mt.PureComponent=fp;mt.StrictMode=n5;mt.Suspense=c5;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g5;mt.act=a2;mt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Z1({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pp.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in e)r2.call(e,d)&&!s2.hasOwnProperty(d)&&(n[d]=e[d]===void 0&&l!==void 0?l[d]:e[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var h=0;h<d;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:yd,type:t.type,key:a,ref:i,props:n,_owner:o}};mt.createContext=function(t){return t={$$typeof:o5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:i5,_context:t},t.Consumer=t};mt.createElement=n2;mt.createFactory=function(t){var e=n2.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:l5,render:t}};mt.isValidElement=gp;mt.lazy=function(t){return{$$typeof:u5,_payload:{_status:-1,_result:t},_init:p5}};mt.memo=function(t,e){return{$$typeof:d5,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};mt.unstable_act=a2;mt.useCallback=function(t,e){return as.current.useCallback(t,e)};mt.useContext=function(t){return as.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return as.current.useDeferredValue(t)};mt.useEffect=function(t,e){return as.current.useEffect(t,e)};mt.useId=function(){return as.current.useId()};mt.useImperativeHandle=function(t,e,r){return as.current.useImperativeHandle(t,e,r)};mt.useInsertionEffect=function(t,e){return as.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return as.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return as.current.useMemo(t,e)};mt.useReducer=function(t,e,r){return as.current.useReducer(t,e,r)};mt.useRef=function(t){return as.current.useRef(t)};mt.useState=function(t){return as.current.useState(t)};mt.useSyncExternalStore=function(t,e,r){return as.current.useSyncExternalStore(t,e,r)};mt.useTransition=function(){return as.current.useTransition()};mt.version="18.3.1";X1.exports=mt;var de=X1.exports;const x5=e5(de);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5=de,v5=Symbol.for("react.element"),b5=Symbol.for("react.fragment"),w5=Object.prototype.hasOwnProperty,j5=y5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N5={key:!0,ref:!0,__self:!0,__source:!0};function i2(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)w5.call(e,n)&&!N5.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:v5,type:t,key:i,ref:o,props:a,_owner:j5.current}}qh.Fragment=b5;qh.jsx=i2;qh.jsxs=i2;K1.exports=qh;var s=K1.exports,o2={exports:{}},Ts={},l2={exports:{}},c2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,W){var G=R.length;R.push(W);e:for(;0<G;){var ue=G-1>>>1,b=R[ue];if(0<a(b,W))R[ue]=W,R[G]=b,G=ue;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var W=R[0],G=R.pop();if(G!==W){R[0]=G;e:for(var ue=0,b=R.length,q=b>>>1;ue<q;){var F=2*(ue+1)-1,te=R[F],Z=F+1,pe=R[Z];if(0>a(te,G))Z<b&&0>a(pe,te)?(R[ue]=pe,R[Z]=G,ue=Z):(R[ue]=te,R[F]=G,ue=F);else if(Z<b&&0>a(pe,G))R[ue]=pe,R[Z]=G,ue=Z;else break e}}return W}function a(R,W){var G=R.sortIndex-W.sortIndex;return G!==0?G:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],h=[],f=1,g=null,y=3,p=!1,S=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(R){for(var W=r(h);W!==null;){if(W.callback===null)n(h);else if(W.startTime<=R)n(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=r(h)}}function A(R){if(_=!1,N(R),!S)if(r(d)!==null)S=!0,re(k);else{var W=r(h);W!==null&&ne(A,W.startTime-R)}}function k(R,W){S=!1,_&&(_=!1,w(E),E=-1),p=!0;var G=y;try{for(N(W),g=r(d);g!==null&&(!(g.expirationTime>W)||R&&!T());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,y=g.priorityLevel;var b=ue(g.expirationTime<=W);W=t.unstable_now(),typeof b=="function"?g.callback=b:g===r(d)&&n(d),N(W)}else n(d);g=r(d)}if(g!==null)var q=!0;else{var F=r(h);F!==null&&ne(A,F.startTime-W),q=!1}return q}finally{g=null,y=G,p=!1}}var U=!1,M=null,E=-1,H=5,se=-1;function T(){return!(t.unstable_now()-se<H)}function L(){if(M!==null){var R=t.unstable_now();se=R;var W=!0;try{W=M(!0,R)}finally{W?$():(U=!1,M=null)}}else U=!1}var $;if(typeof v=="function")$=function(){v(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=L,$=function(){Y.postMessage(null)}}else $=function(){O(L,0)};function re(R){M=R,U||(U=!0,$())}function ne(R,W){E=O(function(){R(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,re(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(R){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var G=y;y=W;try{return R()}finally{y=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=y;y=R;try{return W()}finally{y=G}},t.unstable_scheduleCallback=function(R,W,G){var ue=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ue+G:ue):G=ue,R){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=G+b,R={id:f++,callback:W,priorityLevel:R,startTime:G,expirationTime:b,sortIndex:-1},G>ue?(R.sortIndex=G,e(h,R),r(d)===null&&R===r(h)&&(_?(w(E),E=-1):_=!0,ne(A,G-ue))):(R.sortIndex=b,e(d,R),S||p||(S=!0,re(k))),R},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(R){var W=y;return function(){var G=y;y=W;try{return R.apply(this,arguments)}finally{y=G}}}})(c2);l2.exports=c2;var k5=l2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5=de,Fs=k5;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d2=new Set,Qc={};function co(t,e){_l(t,e),_l(t+"Capture",e)}function _l(t,e){for(Qc[t]=e,t=0;t<e.length;t++)d2.add(e[t])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X0=Object.prototype.hasOwnProperty,_5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kg={},Xg={};function C5(t){return X0.call(Xg,t)?!0:X0.call(Kg,t)?!1:_5.test(t)?Xg[t]=!0:(Kg[t]=!0,!1)}function A5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P5(t,e,r,n){if(e===null||typeof e>"u"||A5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function is(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mr[t]=new is(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mr[e]=new is(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mr[t]=new is(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mr[t]=new is(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mr[t]=new is(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mr[t]=new is(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mr[t]=new is(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mr[t]=new is(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mr[t]=new is(t,5,!1,t.toLowerCase(),null,!1,!1)});var xp=/[\-:]([a-z])/g;function yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xp,yp);Mr[e]=new is(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xp,yp);Mr[e]=new is(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xp,yp);Mr[e]=new is(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mr[t]=new is(t,1,!1,t.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mr[t]=new is(t,1,!1,t.toLowerCase(),null,!0,!0)});function vp(t,e,r,n){var a=Mr.hasOwnProperty(e)?Mr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P5(e,r,a,n)&&(r=null),n||a===null?C5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var La=S5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),rl=Symbol.for("react.portal"),sl=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Q0=Symbol.for("react.profiler"),u2=Symbol.for("react.provider"),h2=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),f2=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function vc(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,o0;function Fc(t){if(o0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);o0=e&&e[1]||""}return`
`+o0+t}var l0=!1;function c0(t,e){if(!t||l0)return"";l0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var a=h.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var d=`
`+a[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=l);break}}}finally{l0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fc(t):""}function L5(t){switch(t.tag){case 5:return Fc(t.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return t=c0(t.type,!1),t;case 11:return t=c0(t.type.render,!1),t;case 1:return t=c0(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sl:return"Fragment";case rl:return"Portal";case Q0:return"Profiler";case bp:return"StrictMode";case Z0:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h2:return(t.displayName||"Context")+".Consumer";case u2:return(t._context.displayName||"Context")+".Provider";case wp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jp:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case Qa:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function E5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I5(t){var e=m2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vu(t){t._valueTracker||(t._valueTracker=I5(t))}function p2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=m2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rm(t,e){var r=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=gi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g2(t,e){e=e.checked,e!=null&&vp(t,"checked",e,!1)}function sm(t,e){g2(t,e);var r=gi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nm(t,e.type,r):e.hasOwnProperty("defaultValue")&&nm(t,e.type,gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function nm(t,e,r){(e!=="number"||lh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Tc=Array.isArray;function pl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gi(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(Tc(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:gi(r)}}function x2(t,e){var r=gi(e.value),n=gi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,v2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F5=["Webkit","ms","Moz","O"];Object.keys(zc).forEach(function(t){F5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zc[e]=zc[t]})});function b2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zc.hasOwnProperty(t)&&zc[t]?(""+e).trim():e+"px"}function w2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=b2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var T5=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(T5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function Np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dm=null,gl=null,xl=null;function sx(t){if(t=wd(t)){if(typeof dm!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=Wh(e),dm(t.stateNode,t.type,e))}}function j2(t){gl?xl?xl.push(t):xl=[t]:gl=t}function N2(){if(gl){var t=gl,e=xl;if(xl=gl=null,sx(t),e)for(t=0;t<e.length;t++)sx(e[t])}}function k2(t,e){return t(e)}function S2(){}var d0=!1;function _2(t,e,r){if(d0)return t(e,r);d0=!0;try{return k2(t,e,r)}finally{d0=!1,(gl!==null||xl!==null)&&(S2(),N2())}}function ed(t,e){var r=t.stateNode;if(r===null)return null;var n=Wh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var um=!1;if(_a)try{var bc={};Object.defineProperty(bc,"passive",{get:function(){um=!0}}),window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{um=!1}function D5(t,e,r,n,a,i,o,l,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var $c=!1,ch=null,dh=!1,hm=null,O5={onError:function(t){$c=!0,ch=t}};function M5(t,e,r,n,a,i,o,l,d){$c=!1,ch=null,D5.apply(O5,arguments)}function z5(t,e,r,n,a,i,o,l,d){if(M5.apply(this,arguments),$c){if($c){var h=ch;$c=!1,ch=null}else throw Error(Le(198));dh||(dh=!0,hm=h)}}function uo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function C2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nx(t){if(uo(t)!==t)throw Error(Le(188))}function $5(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return nx(a),t;if(i===n)return nx(a),e;i=i.sibling}throw Error(Le(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function A2(t){return t=$5(t),t!==null?P2(t):null}function P2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P2(t);if(e!==null)return e;t=t.sibling}return null}var L2=Fs.unstable_scheduleCallback,ax=Fs.unstable_cancelCallback,R5=Fs.unstable_shouldYield,q5=Fs.unstable_requestPaint,dr=Fs.unstable_now,B5=Fs.unstable_getCurrentPriorityLevel,kp=Fs.unstable_ImmediatePriority,E2=Fs.unstable_UserBlockingPriority,uh=Fs.unstable_NormalPriority,U5=Fs.unstable_LowPriority,I2=Fs.unstable_IdlePriority,Bh=null,Qn=null;function V5(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:G5,H5=Math.log,W5=Math.LN2;function G5(t){return t>>>=0,t===0?32:31-(H5(t)/W5|0)|0}var wu=64,ju=4194304;function Dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Dc(l):(i&=o,i!==0&&(n=Dc(i)))}else o=r&~a,o!==0?n=Dc(o):i!==0&&(n=Dc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-kn(e),a=1<<r,n|=t[r],e&=~a;return n}function J5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),l=1<<o,d=a[o];d===-1?(!(l&r)||l&n)&&(a[o]=J5(l,e)):d<=e&&(t.expiredLanes|=l),i&=~l}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F2(){var t=wu;return wu<<=1,!(wu&4194240)&&(wu=64),t}function u0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=r}function K5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-kn(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function Sp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-kn(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var At=0;function T2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D2,_p,O2,M2,z2,mm=!1,Nu=[],ii=null,oi=null,li=null,td=new Map,rd=new Map,ei=[],X5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ix(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(e.pointerId)}}function wc(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=wd(e),e!==null&&_p(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Q5(t,e,r,n,a){switch(e){case"focusin":return ii=wc(ii,t,e,r,n,a),!0;case"dragenter":return oi=wc(oi,t,e,r,n,a),!0;case"mouseover":return li=wc(li,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return td.set(i,wc(td.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,rd.set(i,wc(rd.get(i)||null,t,e,r,n,a)),!0}return!1}function $2(t){var e=Ji(t.target);if(e!==null){var r=uo(e);if(r!==null){if(e=r.tag,e===13){if(e=C2(r),e!==null){t.blockedOn=e,z2(t.priority,function(){O2(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);cm=n,r.target.dispatchEvent(n),cm=null}else return e=wd(r),e!==null&&_p(e),t.blockedOn=r,!1;e.shift()}return!0}function ox(t,e,r){Wu(t)&&r.delete(e)}function Z5(){mm=!1,ii!==null&&Wu(ii)&&(ii=null),oi!==null&&Wu(oi)&&(oi=null),li!==null&&Wu(li)&&(li=null),td.forEach(ox),rd.forEach(ox)}function jc(t,e){t.blockedOn===e&&(t.blockedOn=null,mm||(mm=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,Z5)))}function sd(t){function e(a){return jc(a,t)}if(0<Nu.length){jc(Nu[0],t);for(var r=1;r<Nu.length;r++){var n=Nu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ii!==null&&jc(ii,t),oi!==null&&jc(oi,t),li!==null&&jc(li,t),td.forEach(e),rd.forEach(e),r=0;r<ei.length;r++)n=ei[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ei.length&&(r=ei[0],r.blockedOn===null);)$2(r),r.blockedOn===null&&ei.shift()}var yl=La.ReactCurrentBatchConfig,fh=!0;function ew(t,e,r,n){var a=At,i=yl.transition;yl.transition=null;try{At=1,Cp(t,e,r,n)}finally{At=a,yl.transition=i}}function tw(t,e,r,n){var a=At,i=yl.transition;yl.transition=null;try{At=4,Cp(t,e,r,n)}finally{At=a,yl.transition=i}}function Cp(t,e,r,n){if(fh){var a=pm(t,e,r,n);if(a===null)w0(t,e,n,mh,r),ix(t,n);else if(Q5(a,t,e,r,n))n.stopPropagation();else if(ix(t,n),e&4&&-1<X5.indexOf(t)){for(;a!==null;){var i=wd(a);if(i!==null&&D2(i),i=pm(t,e,r,n),i===null&&w0(t,e,n,mh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else w0(t,e,n,null,r)}}var mh=null;function pm(t,e,r,n){if(mh=null,t=Np(n),t=Ji(t),t!==null)if(e=uo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=C2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mh=t,null}function R2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B5()){case kp:return 1;case E2:return 4;case uh:case U5:return 16;case I2:return 536870912;default:return 16}default:return 16}}var si=null,Ap=null,Gu=null;function q2(){if(Gu)return Gu;var t,e=Ap,r=e.length,n,a="value"in si?si.value:si.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Gu=a.slice(t,1<n?1-n:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function lx(){return!1}function Ds(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ku:lx,this.isPropagationStopped=lx,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pp=Ds(Ol),bd=Qt({},Ol,{view:0,detail:0}),rw=Ds(bd),h0,f0,Nc,Uh=Qt({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nc&&(Nc&&t.type==="mousemove"?(h0=t.screenX-Nc.screenX,f0=t.screenY-Nc.screenY):f0=h0=0,Nc=t),h0)},movementY:function(t){return"movementY"in t?t.movementY:f0}}),cx=Ds(Uh),sw=Qt({},Uh,{dataTransfer:0}),nw=Ds(sw),aw=Qt({},bd,{relatedTarget:0}),m0=Ds(aw),iw=Qt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),ow=Ds(iw),lw=Qt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cw=Ds(lw),dw=Qt({},Ol,{data:0}),dx=Ds(dw),uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fw[t])?!!e[t]:!1}function Lp(){return mw}var pw=Qt({},bd,{key:function(t){if(t.key){var e=uw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gw=Ds(pw),xw=Qt({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ux=Ds(xw),yw=Qt({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),vw=Ds(yw),bw=Qt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),ww=Ds(bw),jw=Qt({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nw=Ds(jw),kw=[9,13,27,32],Ep=_a&&"CompositionEvent"in window,Rc=null;_a&&"documentMode"in document&&(Rc=document.documentMode);var Sw=_a&&"TextEvent"in window&&!Rc,B2=_a&&(!Ep||Rc&&8<Rc&&11>=Rc),hx=" ",fx=!1;function U2(t,e){switch(t){case"keyup":return kw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function _w(t,e){switch(t){case"compositionend":return V2(e);case"keypress":return e.which!==32?null:(fx=!0,hx);case"textInput":return t=e.data,t===hx&&fx?null:t;default:return null}}function Cw(t,e){if(nl)return t==="compositionend"||!Ep&&U2(t,e)?(t=q2(),Gu=Ap=si=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B2&&e.locale!=="ko"?null:e.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Aw[t.type]:e==="textarea"}function H2(t,e,r,n){j2(n),e=ph(e,"onChange"),0<e.length&&(r=new Pp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qc=null,nd=null;function Pw(t){ry(t,0)}function Vh(t){var e=ol(t);if(p2(e))return t}function Lw(t,e){if(t==="change")return e}var W2=!1;if(_a){var p0;if(_a){var g0="oninput"in document;if(!g0){var px=document.createElement("div");px.setAttribute("oninput","return;"),g0=typeof px.oninput=="function"}p0=g0}else p0=!1;W2=p0&&(!document.documentMode||9<document.documentMode)}function gx(){qc&&(qc.detachEvent("onpropertychange",G2),nd=qc=null)}function G2(t){if(t.propertyName==="value"&&Vh(nd)){var e=[];H2(e,nd,t,Np(t)),_2(Pw,e)}}function Ew(t,e,r){t==="focusin"?(gx(),qc=e,nd=r,qc.attachEvent("onpropertychange",G2)):t==="focusout"&&gx()}function Iw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(nd)}function Fw(t,e){if(t==="click")return Vh(e)}function Tw(t,e){if(t==="input"||t==="change")return Vh(e)}function Dw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:Dw;function ad(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!X0.call(e,a)||!_n(t[a],e[a]))return!1}return!0}function xx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yx(t,e){var r=xx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xx(r)}}function J2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y2(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lh(t.document)}return e}function Ip(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ow(t){var e=Y2(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&J2(r.ownerDocument.documentElement,r)){if(n!==null&&Ip(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=yx(r,i);var o=yx(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mw=_a&&"documentMode"in document&&11>=document.documentMode,al=null,gm=null,Bc=null,xm=!1;function vx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xm||al==null||al!==lh(n)||(n=al,"selectionStart"in n&&Ip(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bc&&ad(Bc,n)||(Bc=n,n=ph(gm,"onSelect"),0<n.length&&(e=new Pp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=al)))}function Su(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var il={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},x0={},K2={};_a&&(K2=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Hh(t){if(x0[t])return x0[t];if(!il[t])return t;var e=il[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in K2)return x0[t]=e[r];return t}var X2=Hh("animationend"),Q2=Hh("animationiteration"),Z2=Hh("animationstart"),ey=Hh("transitionend"),ty=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(t,e){ty.set(t,e),co(e,[t])}for(var y0=0;y0<bx.length;y0++){var v0=bx[y0],zw=v0.toLowerCase(),$w=v0[0].toUpperCase()+v0.slice(1);ji(zw,"on"+$w)}ji(X2,"onAnimationEnd");ji(Q2,"onAnimationIteration");ji(Z2,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(ey,"onTransitionEnd");_l("onMouseEnter",["mouseout","mouseover"]);_l("onMouseLeave",["mouseout","mouseover"]);_l("onPointerEnter",["pointerout","pointerover"]);_l("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function wx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,z5(n,e,void 0,t),t.currentTarget=null}function ry(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,h=l.currentTarget;if(l=l.listener,d!==i&&a.isPropagationStopped())break e;wx(a,l,h),i=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,h=l.currentTarget,l=l.listener,d!==i&&a.isPropagationStopped())break e;wx(a,l,h),i=d}}}if(dh)throw t=hm,dh=!1,hm=null,t}function Rt(t,e){var r=e[jm];r===void 0&&(r=e[jm]=new Set);var n=t+"__bubble";r.has(n)||(sy(e,t,2,!1),r.add(n))}function b0(t,e,r){var n=0;e&&(n|=4),sy(r,t,n,e)}var _u="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[_u]){t[_u]=!0,d2.forEach(function(r){r!=="selectionchange"&&(Rw.has(r)||b0(r,!1,t),b0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_u]||(e[_u]=!0,b0("selectionchange",!1,e))}}function sy(t,e,r,n){switch(R2(e)){case 1:var a=ew;break;case 4:a=tw;break;default:a=Cp}r=a.bind(null,e,r,t),a=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function w0(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ji(l),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}l=l.parentNode}}n=n.return}_2(function(){var h=i,f=Np(r),g=[];e:{var y=ty.get(t);if(y!==void 0){var p=Pp,S=t;switch(t){case"keypress":if(Ju(r)===0)break e;case"keydown":case"keyup":p=gw;break;case"focusin":S="focus",p=m0;break;case"focusout":S="blur",p=m0;break;case"beforeblur":case"afterblur":p=m0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vw;break;case X2:case Q2:case Z2:p=ow;break;case ey:p=ww;break;case"scroll":p=rw;break;case"wheel":p=Nw;break;case"copy":case"cut":case"paste":p=cw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ux}var _=(e&4)!==0,O=!_&&t==="scroll",w=_?y!==null?y+"Capture":null:y;_=[];for(var v=h,N;v!==null;){N=v;var A=N.stateNode;if(N.tag===5&&A!==null&&(N=A,w!==null&&(A=ed(v,w),A!=null&&_.push(od(v,A,N)))),O)break;v=v.return}0<_.length&&(y=new p(y,S,null,r,f),g.push({event:y,listeners:_}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",y&&r!==cm&&(S=r.relatedTarget||r.fromElement)&&(Ji(S)||S[Ca]))break e;if((p||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,p?(S=r.relatedTarget||r.toElement,p=h,S=S?Ji(S):null,S!==null&&(O=uo(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=h),p!==S)){if(_=cx,A="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=ux,A="onPointerLeave",w="onPointerEnter",v="pointer"),O=p==null?y:ol(p),N=S==null?y:ol(S),y=new _(A,v+"leave",p,r,f),y.target=O,y.relatedTarget=N,A=null,Ji(f)===h&&(_=new _(w,v+"enter",S,r,f),_.target=N,_.relatedTarget=O,A=_),O=A,p&&S)t:{for(_=p,w=S,v=0,N=_;N;N=Uo(N))v++;for(N=0,A=w;A;A=Uo(A))N++;for(;0<v-N;)_=Uo(_),v--;for(;0<N-v;)w=Uo(w),N--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=Uo(_),w=Uo(w)}_=null}else _=null;p!==null&&jx(g,y,p,_,!1),S!==null&&O!==null&&jx(g,O,S,_,!0)}}e:{if(y=h?ol(h):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var k=Lw;else if(mx(y))if(W2)k=Tw;else{k=Iw;var U=Ew}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=Fw);if(k&&(k=k(t,h))){H2(g,k,r,f);break e}U&&U(t,y,h),t==="focusout"&&(U=y._wrapperState)&&U.controlled&&y.type==="number"&&nm(y,"number",y.value)}switch(U=h?ol(h):window,t){case"focusin":(mx(U)||U.contentEditable==="true")&&(al=U,gm=h,Bc=null);break;case"focusout":Bc=gm=al=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,vx(g,r,f);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":vx(g,r,f)}var M;if(Ep)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else nl?U2(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(B2&&r.locale!=="ko"&&(nl||E!=="onCompositionStart"?E==="onCompositionEnd"&&nl&&(M=q2()):(si=f,Ap="value"in si?si.value:si.textContent,nl=!0)),U=ph(h,E),0<U.length&&(E=new dx(E,t,null,r,f),g.push({event:E,listeners:U}),M?E.data=M:(M=V2(r),M!==null&&(E.data=M)))),(M=Sw?_w(t,r):Cw(t,r))&&(h=ph(h,"onBeforeInput"),0<h.length&&(f=new dx("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:h}),f.data=M))}ry(g,e)})}function od(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ph(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ed(t,r),i!=null&&n.unshift(od(t,i,a)),i=ed(t,e),i!=null&&n.push(od(t,i,a))),t=t.return}return n}function Uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jx(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,h=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&h!==null&&(l=h,a?(d=ed(r,i),d!=null&&o.unshift(od(r,d,l))):a||(d=ed(r,i),d!=null&&o.push(od(r,d,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var qw=/\r\n?/g,Bw=/\u0000|\uFFFD/g;function Nx(t){return(typeof t=="string"?t:""+t).replace(qw,`
`).replace(Bw,"")}function Cu(t,e,r){if(e=Nx(e),Nx(t)!==e&&r)throw Error(Le(425))}function gh(){}var ym=null,vm=null;function bm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(t){return kx.resolve(null).then(t).catch(Hw)}:wm;function Hw(t){setTimeout(function(){throw t})}function j0(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),sd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);sd(e)}function ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ml,ld="__reactProps$"+Ml,Ca="__reactContainer$"+Ml,jm="__reactEvents$"+Ml,Ww="__reactListeners$"+Ml,Gw="__reactHandles$"+Ml;function Ji(t){var e=t[Gn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ca]||r[Gn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Sx(t);t!==null;){if(r=t[Gn])return r;t=Sx(t)}return e}t=r,r=t.parentNode}return null}function wd(t){return t=t[Gn]||t[Ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function Wh(t){return t[ld]||null}var Nm=[],ll=-1;function Ni(t){return{current:t}}function Bt(t){0>ll||(t.current=Nm[ll],Nm[ll]=null,ll--)}function zt(t,e){ll++,Nm[ll]=t.current,t.current=e}var xi={},Xr=Ni(xi),ys=Ni(!1),so=xi;function Cl(t,e){var r=t.type.contextTypes;if(!r)return xi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function vs(t){return t=t.childContextTypes,t!=null}function xh(){Bt(ys),Bt(Xr)}function _x(t,e,r){if(Xr.current!==xi)throw Error(Le(168));zt(Xr,e),zt(ys,r)}function ny(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(Le(108,E5(t)||"Unknown",a));return Qt({},r,n)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xi,so=Xr.current,zt(Xr,t),zt(ys,ys.current),!0}function Cx(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=ny(t,e,so),n.__reactInternalMemoizedMergedChildContext=t,Bt(ys),Bt(Xr),zt(Xr,t)):Bt(ys),zt(ys,r)}var ba=null,Gh=!1,N0=!1;function ay(t){ba===null?ba=[t]:ba.push(t)}function Jw(t){Gh=!0,ay(t)}function ki(){if(!N0&&ba!==null){N0=!0;var t=0,e=At;try{var r=ba;for(At=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ba=null,Gh=!1}catch(a){throw ba!==null&&(ba=ba.slice(t+1)),L2(kp,ki),a}finally{At=e,N0=!1}}return null}var cl=[],dl=0,vh=null,bh=0,Vs=[],Hs=0,no=null,wa=1,ja="";function qi(t,e){cl[dl++]=bh,cl[dl++]=vh,vh=t,bh=e}function iy(t,e,r){Vs[Hs++]=wa,Vs[Hs++]=ja,Vs[Hs++]=no,no=t;var n=wa;t=ja;var a=32-kn(n)-1;n&=~(1<<a),r+=1;var i=32-kn(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,wa=1<<32-kn(e)+a|r<<a|n,ja=i+t}else wa=1<<i|r<<a|n,ja=t}function Fp(t){t.return!==null&&(qi(t,1),iy(t,1,0))}function Tp(t){for(;t===vh;)vh=cl[--dl],cl[dl]=null,bh=cl[--dl],cl[dl]=null;for(;t===no;)no=Vs[--Hs],Vs[Hs]=null,ja=Vs[--Hs],Vs[Hs]=null,wa=Vs[--Hs],Vs[Hs]=null}var Es=null,Ps=null,Ht=!1,wn=null;function oy(t,e){var r=Ws(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ax(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Es=t,Ps=ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Es=t,Ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=no!==null?{id:wa,overflow:ja}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ws(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Es=t,Ps=null,!0):!1;default:return!1}}function km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(Ht){var e=Ps;if(e){var r=e;if(!Ax(t,e)){if(km(t))throw Error(Le(418));e=ci(r.nextSibling);var n=Es;e&&Ax(t,e)?oy(n,r):(t.flags=t.flags&-4097|2,Ht=!1,Es=t)}}else{if(km(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Ht=!1,Es=t}}}function Px(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Es=t}function Au(t){if(t!==Es)return!1;if(!Ht)return Px(t),Ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bm(t.type,t.memoizedProps)),e&&(e=Ps)){if(km(t))throw ly(),Error(Le(418));for(;e;)oy(t,e),e=ci(e.nextSibling)}if(Px(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ps=ci(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ps=null}}else Ps=Es?ci(t.stateNode.nextSibling):null;return!0}function ly(){for(var t=Ps;t;)t=ci(t.nextSibling)}function Al(){Ps=Es=null,Ht=!1}function Dp(t){wn===null?wn=[t]:wn.push(t)}var Yw=La.ReactCurrentBatchConfig;function kc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lx(t){var e=t._init;return e(t._payload)}function cy(t){function e(w,v){if(t){var N=w.deletions;N===null?(w.deletions=[v],w.flags|=16):N.push(v)}}function r(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function a(w,v){return w=fi(w,v),w.index=0,w.sibling=null,w}function i(w,v,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<v?(w.flags|=2,v):N):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,N,A){return v===null||v.tag!==6?(v=L0(N,w.mode,A),v.return=w,v):(v=a(v,N),v.return=w,v)}function d(w,v,N,A){var k=N.type;return k===sl?f(w,v,N.props.children,A,N.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qa&&Lx(k)===v.type)?(A=a(v,N.props),A.ref=kc(w,v,N),A.return=w,A):(A=th(N.type,N.key,N.props,null,w.mode,A),A.ref=kc(w,v,N),A.return=w,A)}function h(w,v,N,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=E0(N,w.mode,A),v.return=w,v):(v=a(v,N.children||[]),v.return=w,v)}function f(w,v,N,A,k){return v===null||v.tag!==7?(v=eo(N,w.mode,A,k),v.return=w,v):(v=a(v,N),v.return=w,v)}function g(w,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=L0(""+v,w.mode,N),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yu:return N=th(v.type,v.key,v.props,null,w.mode,N),N.ref=kc(w,null,v),N.return=w,N;case rl:return v=E0(v,w.mode,N),v.return=w,v;case Qa:var A=v._init;return g(w,A(v._payload),N)}if(Tc(v)||vc(v))return v=eo(v,w.mode,N,null),v.return=w,v;Pu(w,v)}return null}function y(w,v,N,A){var k=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return k!==null?null:l(w,v,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yu:return N.key===k?d(w,v,N,A):null;case rl:return N.key===k?h(w,v,N,A):null;case Qa:return k=N._init,y(w,v,k(N._payload),A)}if(Tc(N)||vc(N))return k!==null?null:f(w,v,N,A,null);Pu(w,N)}return null}function p(w,v,N,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(N)||null,l(v,w,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case yu:return w=w.get(A.key===null?N:A.key)||null,d(v,w,A,k);case rl:return w=w.get(A.key===null?N:A.key)||null,h(v,w,A,k);case Qa:var U=A._init;return p(w,v,N,U(A._payload),k)}if(Tc(A)||vc(A))return w=w.get(N)||null,f(v,w,A,k,null);Pu(v,A)}return null}function S(w,v,N,A){for(var k=null,U=null,M=v,E=v=0,H=null;M!==null&&E<N.length;E++){M.index>E?(H=M,M=null):H=M.sibling;var se=y(w,M,N[E],A);if(se===null){M===null&&(M=H);break}t&&M&&se.alternate===null&&e(w,M),v=i(se,v,E),U===null?k=se:U.sibling=se,U=se,M=H}if(E===N.length)return r(w,M),Ht&&qi(w,E),k;if(M===null){for(;E<N.length;E++)M=g(w,N[E],A),M!==null&&(v=i(M,v,E),U===null?k=M:U.sibling=M,U=M);return Ht&&qi(w,E),k}for(M=n(w,M);E<N.length;E++)H=p(M,w,E,N[E],A),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?E:H.key),v=i(H,v,E),U===null?k=H:U.sibling=H,U=H);return t&&M.forEach(function(T){return e(w,T)}),Ht&&qi(w,E),k}function _(w,v,N,A){var k=vc(N);if(typeof k!="function")throw Error(Le(150));if(N=k.call(N),N==null)throw Error(Le(151));for(var U=k=null,M=v,E=v=0,H=null,se=N.next();M!==null&&!se.done;E++,se=N.next()){M.index>E?(H=M,M=null):H=M.sibling;var T=y(w,M,se.value,A);if(T===null){M===null&&(M=H);break}t&&M&&T.alternate===null&&e(w,M),v=i(T,v,E),U===null?k=T:U.sibling=T,U=T,M=H}if(se.done)return r(w,M),Ht&&qi(w,E),k;if(M===null){for(;!se.done;E++,se=N.next())se=g(w,se.value,A),se!==null&&(v=i(se,v,E),U===null?k=se:U.sibling=se,U=se);return Ht&&qi(w,E),k}for(M=n(w,M);!se.done;E++,se=N.next())se=p(M,w,E,se.value,A),se!==null&&(t&&se.alternate!==null&&M.delete(se.key===null?E:se.key),v=i(se,v,E),U===null?k=se:U.sibling=se,U=se);return t&&M.forEach(function(L){return e(w,L)}),Ht&&qi(w,E),k}function O(w,v,N,A){if(typeof N=="object"&&N!==null&&N.type===sl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case yu:e:{for(var k=N.key,U=v;U!==null;){if(U.key===k){if(k=N.type,k===sl){if(U.tag===7){r(w,U.sibling),v=a(U,N.props.children),v.return=w,w=v;break e}}else if(U.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qa&&Lx(k)===U.type){r(w,U.sibling),v=a(U,N.props),v.ref=kc(w,U,N),v.return=w,w=v;break e}r(w,U);break}else e(w,U);U=U.sibling}N.type===sl?(v=eo(N.props.children,w.mode,A,N.key),v.return=w,w=v):(A=th(N.type,N.key,N.props,null,w.mode,A),A.ref=kc(w,v,N),A.return=w,w=A)}return o(w);case rl:e:{for(U=N.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){r(w,v.sibling),v=a(v,N.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else e(w,v);v=v.sibling}v=E0(N,w.mode,A),v.return=w,w=v}return o(w);case Qa:return U=N._init,O(w,v,U(N._payload),A)}if(Tc(N))return S(w,v,N,A);if(vc(N))return _(w,v,N,A);Pu(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(r(w,v.sibling),v=a(v,N),v.return=w,w=v):(r(w,v),v=L0(N,w.mode,A),v.return=w,w=v),o(w)):r(w,v)}return O}var Pl=cy(!0),dy=cy(!1),wh=Ni(null),jh=null,ul=null,Op=null;function Mp(){Op=ul=jh=null}function zp(t){var e=wh.current;Bt(wh),t._currentValue=e}function _m(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vl(t,e){jh=t,Op=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xs=!0),t.firstContext=null)}function Qs(t){var e=t._currentValue;if(Op!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(jh===null)throw Error(Le(308));ul=t,jh.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var Yi=null;function $p(t){Yi===null?Yi=[t]:Yi.push(t)}function uy(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,$p(e)):(r.next=a.next,a.next=r),e.interleaved=r,Aa(t,n)}function Aa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Za=!1;function Rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Aa(t,r)}return a=n.interleaved,a===null?(e.next=e,$p(n)):(e.next=a.next,a.next=e),n.interleaved=e,Aa(t,r)}function Yu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Sp(t,r)}}function Ex(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Nh(t,e,r,n){var a=t.updateQueue;Za=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,h=d.next;d.next=null,o===null?i=h:o.next=h,o=d;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=d))}if(i!==null){var g=a.baseState;o=0,f=h=d=null,l=i;do{var y=l.lane,p=l.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,_=l;switch(y=e,p=r,_.tag){case 1:if(S=_.payload,typeof S=="function"){g=S.call(p,g,y);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,y=typeof S=="function"?S.call(p,g,y):S,y==null)break e;g=Qt({},g,y);break e;case 2:Za=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=a.effects,y===null?a.effects=[l]:y.push(l))}else p={eventTime:p,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=p,d=g):f=f.next=p,o|=y;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;y=l,l=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(f===null&&(d=g),a.baseState=d,a.firstBaseUpdate=h,a.lastBaseUpdate=f,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);io|=o,t.lanes=o,t.memoizedState=g}}function Ix(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Le(191,a));a.call(n)}}}var jd={},Zn=Ni(jd),cd=Ni(jd),dd=Ni(jd);function Ki(t){if(t===jd)throw Error(Le(174));return t}function qp(t,e){switch(zt(dd,e),zt(cd,t),zt(Zn,jd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=im(e,t)}Bt(Zn),zt(Zn,e)}function Ll(){Bt(Zn),Bt(cd),Bt(dd)}function fy(t){Ki(dd.current);var e=Ki(Zn.current),r=im(e,t.type);e!==r&&(zt(cd,t),zt(Zn,r))}function Bp(t){cd.current===t&&(Bt(Zn),Bt(cd))}var Yt=Ni(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var k0=[];function Up(){for(var t=0;t<k0.length;t++)k0[t]._workInProgressVersionPrimary=null;k0.length=0}var Ku=La.ReactCurrentDispatcher,S0=La.ReactCurrentBatchConfig,ao=0,Kt=null,Nr=null,Pr=null,Sh=!1,Uc=!1,ud=0,Kw=0;function qr(){throw Error(Le(321))}function Vp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!_n(t[r],e[r]))return!1;return!0}function Hp(t,e,r,n,a,i){if(ao=i,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ku.current=t===null||t.memoizedState===null?ej:tj,t=r(n,a),Uc){i=0;do{if(Uc=!1,ud=0,25<=i)throw Error(Le(301));i+=1,Pr=Nr=null,e.updateQueue=null,Ku.current=rj,t=r(n,a)}while(Uc)}if(Ku.current=_h,e=Nr!==null&&Nr.next!==null,ao=0,Pr=Nr=Kt=null,Sh=!1,e)throw Error(Le(300));return t}function Wp(){var t=ud!==0;return ud=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Kt.memoizedState=Pr=t:Pr=Pr.next=t,Pr}function Zs(){if(Nr===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=Nr.next;var e=Pr===null?Kt.memoizedState:Pr.next;if(e!==null)Pr=e,Nr=t;else{if(t===null)throw Error(Le(310));Nr=t,t={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Pr===null?Kt.memoizedState=Pr=t:Pr=Pr.next=t}return Pr}function hd(t,e){return typeof e=="function"?e(t):e}function _0(t){var e=Zs(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=Nr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,d=null,h=i;do{var f=h.lane;if((ao&f)===f)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(l=d=g,o=n):d=d.next=g,Kt.lanes|=f,io|=f}h=h.next}while(h!==null&&h!==i);d===null?o=n:d.next=l,_n(n,e.memoizedState)||(xs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=d,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Kt.lanes|=i,io|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function C0(t){var e=Zs(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);_n(i,e.memoizedState)||(xs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function my(){}function py(t,e){var r=Kt,n=Zs(),a=e(),i=!_n(n.memoizedState,a);if(i&&(n.memoizedState=a,xs=!0),n=n.queue,Gp(yy.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Pr!==null&&Pr.memoizedState.tag&1){if(r.flags|=2048,fd(9,xy.bind(null,r,n,a,e),void 0,null),Er===null)throw Error(Le(349));ao&30||gy(r,e,a)}return a}function gy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xy(t,e,r,n){e.value=r,e.getSnapshot=n,vy(e)&&by(t)}function yy(t,e,r){return r(function(){vy(e)&&by(t)})}function vy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!_n(t,r)}catch{return!0}}function by(t){var e=Aa(t,1);e!==null&&Sn(e,t,1,-1)}function Fx(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:t},e.queue=t,t=t.dispatch=Zw.bind(null,Kt,t),[e.memoizedState,t]}function fd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wy(){return Zs().memoizedState}function Xu(t,e,r,n){var a=Hn();Kt.flags|=t,a.memoizedState=fd(1|e,r,void 0,n===void 0?null:n)}function Jh(t,e,r,n){var a=Zs();n=n===void 0?null:n;var i=void 0;if(Nr!==null){var o=Nr.memoizedState;if(i=o.destroy,n!==null&&Vp(n,o.deps)){a.memoizedState=fd(e,r,i,n);return}}Kt.flags|=t,a.memoizedState=fd(1|e,r,i,n)}function Tx(t,e){return Xu(8390656,8,t,e)}function Gp(t,e){return Jh(2048,8,t,e)}function jy(t,e){return Jh(4,2,t,e)}function Ny(t,e){return Jh(4,4,t,e)}function ky(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sy(t,e,r){return r=r!=null?r.concat([t]):null,Jh(4,4,ky.bind(null,e,t),r)}function Jp(){}function _y(t,e){var r=Zs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Cy(t,e){var r=Zs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Vp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ay(t,e,r){return ao&21?(_n(r,e)||(r=F2(),Kt.lanes|=r,io|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xs=!0),t.memoizedState=r)}function Xw(t,e){var r=At;At=r!==0&&4>r?r:4,t(!0);var n=S0.transition;S0.transition={};try{t(!1),e()}finally{At=r,S0.transition=n}}function Py(){return Zs().memoizedState}function Qw(t,e,r){var n=hi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ly(t))Ey(e,r);else if(r=uy(t,e,r,n),r!==null){var a=ss();Sn(r,t,n,a),Iy(r,e,n)}}function Zw(t,e,r){var n=hi(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ly(t))Ey(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,_n(l,o)){var d=e.interleaved;d===null?(a.next=a,$p(e)):(a.next=d.next,d.next=a),e.interleaved=a;return}}catch{}finally{}r=uy(t,e,a,n),r!==null&&(a=ss(),Sn(r,t,n,a),Iy(r,e,n))}}function Ly(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function Ey(t,e){Uc=Sh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Iy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Sp(t,r)}}var _h={readContext:Qs,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},ej={readContext:Qs,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Qs,useEffect:Tx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xu(4194308,4,ky.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var r=Hn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Hn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Qw.bind(null,Kt,t),[n.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:Fx,useDebugValue:Jp,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=Fx(!1),e=t[0];return t=Xw.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kt,a=Hn();if(Ht){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),Er===null)throw Error(Le(349));ao&30||gy(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,Tx(yy.bind(null,n,i,t),[t]),n.flags|=2048,fd(9,xy.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Hn(),e=Er.identifierPrefix;if(Ht){var r=ja,n=wa;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ud++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Kw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tj={readContext:Qs,useCallback:_y,useContext:Qs,useEffect:Gp,useImperativeHandle:Sy,useInsertionEffect:jy,useLayoutEffect:Ny,useMemo:Cy,useReducer:_0,useRef:wy,useState:function(){return _0(hd)},useDebugValue:Jp,useDeferredValue:function(t){var e=Zs();return Ay(e,Nr.memoizedState,t)},useTransition:function(){var t=_0(hd)[0],e=Zs().memoizedState;return[t,e]},useMutableSource:my,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1},rj={readContext:Qs,useCallback:_y,useContext:Qs,useEffect:Gp,useImperativeHandle:Sy,useInsertionEffect:jy,useLayoutEffect:Ny,useMemo:Cy,useReducer:C0,useRef:wy,useState:function(){return C0(hd)},useDebugValue:Jp,useDeferredValue:function(t){var e=Zs();return Nr===null?e.memoizedState=t:Ay(e,Nr.memoizedState,t)},useTransition:function(){var t=C0(hd)[0],e=Zs().memoizedState;return[t,e]},useMutableSource:my,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Cm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yh={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ss(),a=hi(t),i=Sa(n,a);i.payload=e,r!=null&&(i.callback=r),e=di(t,i,a),e!==null&&(Sn(e,t,a,n),Yu(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ss(),a=hi(t),i=Sa(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=di(t,i,a),e!==null&&(Sn(e,t,a,n),Yu(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ss(),n=hi(t),a=Sa(r,n);a.tag=2,e!=null&&(a.callback=e),e=di(t,a,n),e!==null&&(Sn(e,t,n,r),Yu(e,t,n))}};function Dx(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ad(r,n)||!ad(a,i):!0}function Fy(t,e,r){var n=!1,a=xi,i=e.contextType;return typeof i=="object"&&i!==null?i=Qs(i):(a=vs(e)?so:Xr.current,n=e.contextTypes,i=(n=n!=null)?Cl(t,a):xi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ox(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function Am(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Rp(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Qs(i):(i=vs(e)?so:Xr.current,a.context=Cl(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cm(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Yh.enqueueReplaceState(a,a.state,null),Nh(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function El(t,e){try{var r="",n=e;do r+=L5(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function A0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var sj=typeof WeakMap=="function"?WeakMap:Map;function Ty(t,e,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ah||(Ah=!0,$m=n),Pm(t,e)},r}function Dy(t,e,r){r=Sa(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Pm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pm(t,e),typeof n!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Mx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new sj;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=xj.bind(null,t,e,r),e.then(t,t))}function zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $x(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sa(-1,1),e.tag=2,di(r,e,1))),r.lanes|=1),t)}var nj=La.ReactCurrentOwner,xs=!1;function ts(t,e,r,n){e.child=t===null?dy(e,null,r,n):Pl(e,t.child,r,n)}function Rx(t,e,r,n,a){r=r.render;var i=e.ref;return vl(e,a),n=Hp(t,e,r,n,i,a),r=Wp(),t!==null&&!xs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Pa(t,e,a)):(Ht&&r&&Fp(e),e.flags|=1,ts(t,e,n,a),e.child)}function qx(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!rg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Oy(t,e,i,n,a)):(t=th(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ad,r(o,n)&&t.ref===e.ref)return Pa(t,e,a)}return e.flags|=1,t=fi(i,n),t.ref=e.ref,t.return=e,e.child=t}function Oy(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(ad(i,n)&&t.ref===e.ref)if(xs=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(xs=!0);else return e.lanes=t.lanes,Pa(t,e,a)}return Lm(t,e,r,n,a)}function My(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(fl,As),As|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zt(fl,As),As|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zt(fl,As),As|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,zt(fl,As),As|=n;return ts(t,e,a,r),e.child}function zy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,r,n,a){var i=vs(r)?so:Xr.current;return i=Cl(e,i),vl(e,a),r=Hp(t,e,r,n,i,a),n=Wp(),t!==null&&!xs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Pa(t,e,a)):(Ht&&n&&Fp(e),e.flags|=1,ts(t,e,r,a),e.child)}function Bx(t,e,r,n,a){if(vs(r)){var i=!0;yh(e)}else i=!1;if(vl(e,a),e.stateNode===null)Qu(t,e),Fy(e,r,n),Am(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var d=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Qs(h):(h=vs(r)?so:Xr.current,h=Cl(e,h));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==h)&&Ox(e,o,n,h),Za=!1;var y=e.memoizedState;o.state=y,Nh(e,n,o,a),d=e.memoizedState,l!==n||y!==d||ys.current||Za?(typeof f=="function"&&(Cm(e,r,f,n),d=e.memoizedState),(l=Za||Dx(e,r,l,n,y,d,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,hy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:xn(e.type,l),o.props=h,g=e.pendingProps,y=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Qs(d):(d=vs(r)?so:Xr.current,d=Cl(e,d));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||y!==d)&&Ox(e,o,n,d),Za=!1,y=e.memoizedState,o.state=y,Nh(e,n,o,a);var S=e.memoizedState;l!==g||y!==S||ys.current||Za?(typeof p=="function"&&(Cm(e,r,p,n),S=e.memoizedState),(h=Za||Dx(e,r,h,n,y,S,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,S,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,S,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),o.props=n,o.state=S,o.context=d,n=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return Em(t,e,r,n,i,a)}function Em(t,e,r,n,a,i){zy(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&Cx(e,r,!1),Pa(t,e,i);n=e.stateNode,nj.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Pl(e,t.child,null,i),e.child=Pl(e,null,l,i)):ts(t,e,l,i),e.memoizedState=n.state,a&&Cx(e,r,!0),e.child}function $y(t){var e=t.stateNode;e.pendingContext?_x(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_x(t,e.context,!1),qp(t,e.containerInfo)}function Ux(t,e,r,n,a){return Al(),Dp(a),e.flags|=256,ts(t,e,r,n),e.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ry(t,e,r){var n=e.pendingProps,a=Yt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),zt(Yt,a&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qh(o,n,0,null),t=eo(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fm(r),e.memoizedState=Im,t):Yp(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return aj(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=d,e.deletions=null):(n=fi(a,d),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=fi(l,i):(i=eo(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Fm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Im,n}return i=t.child,t=i.sibling,n=fi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Yp(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,r,n){return n!==null&&Dp(n),Pl(e,t.child,null,r),t=Yp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aj(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=A0(Error(Le(422))),Lu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Qh({mode:"visible",children:n.children},a,0,null),i=eo(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Pl(e,t.child,null,o),e.child.memoizedState=Fm(o),e.memoizedState=Im,i);if(!(e.mode&1))return Lu(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Le(419)),n=A0(i,n,void 0),Lu(t,e,o,n)}if(l=(o&t.childLanes)!==0,xs||l){if(n=Er,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Aa(t,a),Sn(n,t,a,-1))}return tg(),n=A0(Error(Le(421))),Lu(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=yj.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Ps=ci(a.nextSibling),Es=e,Ht=!0,wn=null,t!==null&&(Vs[Hs++]=wa,Vs[Hs++]=ja,Vs[Hs++]=no,wa=t.id,ja=t.overflow,no=e),e=Yp(e,n.children),e.flags|=4096,e)}function Vx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_m(t.return,e,r)}function P0(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function qy(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(ts(t,e,n.children,r),n=Yt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vx(t,r,e);else if(t.tag===19)Vx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(zt(Yt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&kh(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),P0(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&kh(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}P0(e,!0,r,null,i);break;case"together":P0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),io|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=fi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=fi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ij(t,e,r){switch(e.tag){case 3:$y(e),Al();break;case 5:fy(e);break;case 1:vs(e.type)&&yh(e);break;case 4:qp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;zt(wh,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(zt(Yt,Yt.current&1),e.flags|=128,null):r&e.child.childLanes?Ry(t,e,r):(zt(Yt,Yt.current&1),t=Pa(t,e,r),t!==null?t.sibling:null);zt(Yt,Yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qy(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zt(Yt,Yt.current),n)break;return null;case 22:case 23:return e.lanes=0,My(t,e,r)}return Pa(t,e,r)}var By,Tm,Uy,Vy;By=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tm=function(){};Uy=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ki(Zn.current);var i=null;switch(r){case"input":a=rm(t,a),n=rm(t,n),i=[];break;case"select":a=Qt({},a,{value:void 0}),n=Qt({},n,{value:void 0}),i=[];break;case"textarea":a=am(t,a),n=am(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gh)}om(r,n);var o;r=null;for(h in a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var l=a[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Qc.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in n){var d=n[h];if(l=a!=null?a[h]:void 0,n.hasOwnProperty(h)&&d!==l&&(d!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Rt("scroll",t),i||l===d||(i=[])):(i=i||[]).push(h,d))}r&&(i=i||[]).push("style",r);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};Vy=function(t,e,r,n){r!==n&&(e.flags|=4)};function Sc(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Br(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function oj(t,e,r){var n=e.pendingProps;switch(Tp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(e),null;case 1:return vs(e.type)&&xh(),Br(e),null;case 3:return n=e.stateNode,Ll(),Bt(ys),Bt(Xr),Up(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(Bm(wn),wn=null))),Tm(t,e),Br(e),null;case 5:Bp(e);var a=Ki(dd.current);if(r=e.type,t!==null&&e.stateNode!=null)Uy(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return Br(e),null}if(t=Ki(Zn.current),Au(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Gn]=e,n[ld]=i,t=(e.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Oc.length;a++)Rt(Oc[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Zg(n,i),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Rt("invalid",n);break;case"textarea":tx(n,i),Rt("invalid",n)}om(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Cu(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Cu(n.textContent,l,t),a=["children",""+l]):Qc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Rt("scroll",n)}switch(r){case"input":vu(n),ex(n,i,!0);break;case"textarea":vu(n),rx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gh)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y2(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Gn]=e,t[ld]=n,By(t,e,!1,!1),e.stateNode=t;e:{switch(o=lm(r,n),r){case"dialog":Rt("cancel",t),Rt("close",t),a=n;break;case"iframe":case"object":case"embed":Rt("load",t),a=n;break;case"video":case"audio":for(a=0;a<Oc.length;a++)Rt(Oc[a],t);a=n;break;case"source":Rt("error",t),a=n;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),a=n;break;case"details":Rt("toggle",t),a=n;break;case"input":Zg(t,n),a=rm(t,n),Rt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Qt({},n,{value:void 0}),Rt("invalid",t);break;case"textarea":tx(t,n),a=am(t,n),Rt("invalid",t);break;default:a=n}om(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?w2(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&v2(t,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Zc(t,d):typeof d=="number"&&Zc(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qc.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Rt("scroll",t):d!=null&&vp(t,i,d,o))}switch(r){case"input":vu(t),ex(t,n,!1);break;case"textarea":vu(t),rx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+gi(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?pl(t,!!n.multiple,i,!1):n.defaultValue!=null&&pl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=gh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Br(e),null;case 6:if(t&&e.stateNode!=null)Vy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=Ki(dd.current),Ki(Zn.current),Au(e)){if(n=e.stateNode,r=e.memoizedProps,n[Gn]=e,(i=n.nodeValue!==r)&&(t=Es,t!==null))switch(t.tag){case 3:Cu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gn]=e,e.stateNode=n}return Br(e),null;case 13:if(Bt(Yt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ht&&Ps!==null&&e.mode&1&&!(e.flags&128))ly(),Al(),e.flags|=98560,i=!1;else if(i=Au(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Le(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Le(317));i[Gn]=e}else Al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Br(e),i=!1}else wn!==null&&(Bm(wn),wn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?kr===0&&(kr=3):tg())),e.updateQueue!==null&&(e.flags|=4),Br(e),null);case 4:return Ll(),Tm(t,e),t===null&&id(e.stateNode.containerInfo),Br(e),null;case 10:return zp(e.type._context),Br(e),null;case 17:return vs(e.type)&&xh(),Br(e),null;case 19:if(Bt(Yt),i=e.memoizedState,i===null)return Br(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Sc(i,!1);else{if(kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kh(t),o!==null){for(e.flags|=128,Sc(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return zt(Yt,Yt.current&1|2),e.child}t=t.sibling}i.tail!==null&&dr()>Il&&(e.flags|=128,n=!0,Sc(i,!1),e.lanes=4194304)}else{if(!n)if(t=kh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Sc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ht)return Br(e),null}else 2*dr()-i.renderingStartTime>Il&&r!==1073741824&&(e.flags|=128,n=!0,Sc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dr(),e.sibling=null,r=Yt.current,zt(Yt,n?r&1|2:r&1),e):(Br(e),null);case 22:case 23:return eg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?As&1073741824&&(Br(e),e.subtreeFlags&6&&(e.flags|=8192)):Br(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function lj(t,e){switch(Tp(e),e.tag){case 1:return vs(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ll(),Bt(ys),Bt(Xr),Up(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bp(e),null;case 13:if(Bt(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));Al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Yt),null;case 4:return Ll(),null;case 10:return zp(e.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var Eu=!1,Gr=!1,cj=typeof WeakSet=="function"?WeakSet:Set,Be=null;function hl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nr(t,e,n)}else r.current=null}function Dm(t,e,r){try{r()}catch(n){nr(t,e,n)}}var Hx=!1;function dj(t,e){if(ym=fh,t=Y2(),Ip(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,h=0,f=0,g=t,y=null;t:for(;;){for(var p;g!==r||a!==0&&g.nodeType!==3||(l=o+a),g!==i||n!==0&&g.nodeType!==3||(d=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(p=g.firstChild)!==null;)y=g,g=p;for(;;){if(g===t)break t;if(y===r&&++h===a&&(l=o),y===i&&++f===n&&(d=o),(p=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=p}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(vm={focusedElem:t,selectionRange:r},fh=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,O=S.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:xn(e.type,_),O);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(A){nr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return S=Hx,Hx=!1,S}function Vc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Dm(e,r,i)}a=a.next}while(a!==n)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Om(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Hy(t){var e=t.alternate;e!==null&&(t.alternate=null,Hy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[ld],delete e[jm],delete e[Ww],delete e[Gw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wy(t){return t.tag===5||t.tag===3||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gh));else if(n!==4&&(t=t.child,t!==null))for(Mm(t,e,r),t=t.sibling;t!==null;)Mm(t,e,r),t=t.sibling}function zm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(zm(t,e,r),t=t.sibling;t!==null;)zm(t,e,r),t=t.sibling}var Dr=null,vn=!1;function Ha(t,e,r){for(r=r.child;r!==null;)Gy(t,e,r),r=r.sibling}function Gy(t,e,r){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Bh,r)}catch{}switch(r.tag){case 5:Gr||hl(r,e);case 6:var n=Dr,a=vn;Dr=null,Ha(t,e,r),Dr=n,vn=a,Dr!==null&&(vn?(t=Dr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(vn?(t=Dr,r=r.stateNode,t.nodeType===8?j0(t.parentNode,r):t.nodeType===1&&j0(t,r),sd(t)):j0(Dr,r.stateNode));break;case 4:n=Dr,a=vn,Dr=r.stateNode.containerInfo,vn=!0,Ha(t,e,r),Dr=n,vn=a;break;case 0:case 11:case 14:case 15:if(!Gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dm(r,e,o),a=a.next}while(a!==n)}Ha(t,e,r);break;case 1:if(!Gr&&(hl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nr(r,e,l)}Ha(t,e,r);break;case 21:Ha(t,e,r);break;case 22:r.mode&1?(Gr=(n=Gr)||r.memoizedState!==null,Ha(t,e,r),Gr=n):Ha(t,e,r);break;default:Ha(t,e,r)}}function Gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cj),e.forEach(function(n){var a=vj.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Dr=l.stateNode,vn=!1;break e;case 3:Dr=l.stateNode.containerInfo,vn=!0;break e;case 4:Dr=l.stateNode.containerInfo,vn=!0;break e}l=l.return}if(Dr===null)throw Error(Le(160));Gy(i,o,a),Dr=null,vn=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(h){nr(a,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jy(e,t),e=e.sibling}function Jy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Un(t),n&4){try{Vc(3,t,t.return),Kh(3,t)}catch(_){nr(t,t.return,_)}try{Vc(5,t,t.return)}catch(_){nr(t,t.return,_)}}break;case 1:fn(e,t),Un(t),n&512&&r!==null&&hl(r,r.return);break;case 5:if(fn(e,t),Un(t),n&512&&r!==null&&hl(r,r.return),t.flags&32){var a=t.stateNode;try{Zc(a,"")}catch(_){nr(t,t.return,_)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&g2(a,i),lm(l,o);var h=lm(l,i);for(o=0;o<d.length;o+=2){var f=d[o],g=d[o+1];f==="style"?w2(a,g):f==="dangerouslySetInnerHTML"?v2(a,g):f==="children"?Zc(a,g):vp(a,f,g,h)}switch(l){case"input":sm(a,i);break;case"textarea":x2(a,i);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?pl(a,!!i.multiple,p,!1):y!==!!i.multiple&&(i.defaultValue!=null?pl(a,!!i.multiple,i.defaultValue,!0):pl(a,!!i.multiple,i.multiple?[]:"",!1))}a[ld]=i}catch(_){nr(t,t.return,_)}}break;case 6:if(fn(e,t),Un(t),n&4){if(t.stateNode===null)throw Error(Le(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(_){nr(t,t.return,_)}}break;case 3:if(fn(e,t),Un(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sd(e.containerInfo)}catch(_){nr(t,t.return,_)}break;case 4:fn(e,t),Un(t);break;case 13:fn(e,t),Un(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Qp=dr())),n&4&&Gx(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Gr=(h=Gr)||f,fn(e,t),Gr=h):fn(e,t),Un(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Be=t,f=t.child;f!==null;){for(g=Be=f;Be!==null;){switch(y=Be,p=y.child,y.tag){case 0:case 11:case 14:case 15:Vc(4,y,y.return);break;case 1:hl(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(_){nr(n,r,_)}}break;case 5:hl(y,y.return);break;case 22:if(y.memoizedState!==null){Yx(g);continue}}p!==null?(p.return=y,Be=p):Yx(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{a=g.stateNode,h?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,d=g.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=b2("display",o))}catch(_){nr(t,t.return,_)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(_){nr(t,t.return,_)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:fn(e,t),Un(t),n&4&&Gx(t);break;case 21:break;default:fn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Wy(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Zc(a,""),n.flags&=-33);var i=Wx(t);zm(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Wx(t);Mm(t,l,o);break;default:throw Error(Le(161))}}catch(d){nr(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uj(t,e,r){Be=t,Yy(t)}function Yy(t,e,r){for(var n=(t.mode&1)!==0;Be!==null;){var a=Be,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Eu;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Gr;l=Eu;var h=Gr;if(Eu=o,(Gr=d)&&!h)for(Be=a;Be!==null;)o=Be,d=o.child,o.tag===22&&o.memoizedState!==null?Kx(a):d!==null?(d.return=o,Be=d):Kx(a);for(;i!==null;)Be=i,Yy(i),i=i.sibling;Be=a,Eu=l,Gr=h}Jx(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Be=i):Jx(t)}}function Jx(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gr||Kh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:xn(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ix(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ix(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&sd(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Gr||e.flags&512&&Om(e)}catch(y){nr(e,e.return,y)}}if(e===t){Be=null;break}if(r=e.sibling,r!==null){r.return=e.return,Be=r;break}Be=e.return}}function Yx(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Be=r;break}Be=e.return}}function Kx(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kh(4,e)}catch(d){nr(e,r,d)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(d){nr(e,a,d)}}var i=e.return;try{Om(e)}catch(d){nr(e,i,d)}break;case 5:var o=e.return;try{Om(e)}catch(d){nr(e,o,d)}}}catch(d){nr(e,e.return,d)}if(e===t){Be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Be=l;break}Be=e.return}}var hj=Math.ceil,Ch=La.ReactCurrentDispatcher,Kp=La.ReactCurrentOwner,Js=La.ReactCurrentBatchConfig,vt=0,Er=null,vr=null,Or=0,As=0,fl=Ni(0),kr=0,md=null,io=0,Xh=0,Xp=0,Hc=null,ps=null,Qp=0,Il=1/0,xa=null,Ah=!1,$m=null,ui=null,Iu=!1,ni=null,Ph=0,Wc=0,Rm=null,Zu=-1,eh=0;function ss(){return vt&6?dr():Zu!==-1?Zu:Zu=dr()}function hi(t){return t.mode&1?vt&2&&Or!==0?Or&-Or:Yw.transition!==null?(eh===0&&(eh=F2()),eh):(t=At,t!==0||(t=window.event,t=t===void 0?16:R2(t.type)),t):1}function Sn(t,e,r,n){if(50<Wc)throw Wc=0,Rm=null,Error(Le(185));vd(t,r,n),(!(vt&2)||t!==Er)&&(t===Er&&(!(vt&2)&&(Xh|=r),kr===4&&ti(t,Or)),bs(t,n),r===1&&vt===0&&!(e.mode&1)&&(Il=dr()+500,Gh&&ki()))}function bs(t,e){var r=t.callbackNode;Y5(t,e);var n=hh(t,t===Er?Or:0);if(n===0)r!==null&&ax(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ax(r),e===1)t.tag===0?Jw(Xx.bind(null,t)):ay(Xx.bind(null,t)),Vw(function(){!(vt&6)&&ki()}),r=null;else{switch(T2(n)){case 1:r=kp;break;case 4:r=E2;break;case 16:r=uh;break;case 536870912:r=I2;break;default:r=uh}r=sv(r,Ky.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ky(t,e){if(Zu=-1,eh=0,vt&6)throw Error(Le(327));var r=t.callbackNode;if(bl()&&t.callbackNode!==r)return null;var n=hh(t,t===Er?Or:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lh(t,n);else{e=n;var a=vt;vt|=2;var i=Qy();(Er!==t||Or!==e)&&(xa=null,Il=dr()+500,Zi(t,e));do try{pj();break}catch(l){Xy(t,l)}while(!0);Mp(),Ch.current=i,vt=a,vr!==null?e=0:(Er=null,Or=0,e=kr)}if(e!==0){if(e===2&&(a=fm(t),a!==0&&(n=a,e=qm(t,a))),e===1)throw r=md,Zi(t,0),ti(t,n),bs(t,dr()),r;if(e===6)ti(t,n);else{if(a=t.current.alternate,!(n&30)&&!fj(a)&&(e=Lh(t,n),e===2&&(i=fm(t),i!==0&&(n=i,e=qm(t,i))),e===1))throw r=md,Zi(t,0),ti(t,n),bs(t,dr()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:Bi(t,ps,xa);break;case 3:if(ti(t,n),(n&130023424)===n&&(e=Qp+500-dr(),10<e)){if(hh(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){ss(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=wm(Bi.bind(null,t,ps,xa),e);break}Bi(t,ps,xa);break;case 4:if(ti(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-kn(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hj(n/1960))-n,10<n){t.timeoutHandle=wm(Bi.bind(null,t,ps,xa),n);break}Bi(t,ps,xa);break;case 5:Bi(t,ps,xa);break;default:throw Error(Le(329))}}}return bs(t,dr()),t.callbackNode===r?Ky.bind(null,t):null}function qm(t,e){var r=Hc;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=Lh(t,e),t!==2&&(e=ps,ps=r,e!==null&&Bm(e)),t}function Bm(t){ps===null?ps=t:ps.push.apply(ps,t)}function fj(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!_n(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ti(t,e){for(e&=~Xp,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-kn(e),n=1<<r;t[r]=-1,e&=~n}}function Xx(t){if(vt&6)throw Error(Le(327));bl();var e=hh(t,0);if(!(e&1))return bs(t,dr()),null;var r=Lh(t,e);if(t.tag!==0&&r===2){var n=fm(t);n!==0&&(e=n,r=qm(t,n))}if(r===1)throw r=md,Zi(t,0),ti(t,e),bs(t,dr()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,ps,xa),bs(t,dr()),null}function Zp(t,e){var r=vt;vt|=1;try{return t(e)}finally{vt=r,vt===0&&(Il=dr()+500,Gh&&ki())}}function oo(t){ni!==null&&ni.tag===0&&!(vt&6)&&bl();var e=vt;vt|=1;var r=Js.transition,n=At;try{if(Js.transition=null,At=1,t)return t()}finally{At=n,Js.transition=r,vt=e,!(vt&6)&&ki()}}function eg(){As=fl.current,Bt(fl)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Uw(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(Tp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xh();break;case 3:Ll(),Bt(ys),Bt(Xr),Up();break;case 5:Bp(n);break;case 4:Ll();break;case 13:Bt(Yt);break;case 19:Bt(Yt);break;case 10:zp(n.type._context);break;case 22:case 23:eg()}r=r.return}if(Er=t,vr=t=fi(t.current,null),Or=As=e,kr=0,md=null,Xp=Xh=io=0,ps=Hc=null,Yi!==null){for(e=0;e<Yi.length;e++)if(r=Yi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Yi=null}return t}function Xy(t,e){do{var r=vr;try{if(Mp(),Ku.current=_h,Sh){for(var n=Kt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Sh=!1}if(ao=0,Pr=Nr=Kt=null,Uc=!1,ud=0,Kp.current=null,r===null||r.return===null){kr=1,md=e,vr=null;break}e:{var i=t,o=r.return,l=r,d=e;if(e=Or,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=zx(o);if(p!==null){p.flags&=-257,$x(p,o,l,i,e),p.mode&1&&Mx(i,h,e),e=p,d=h;var S=e.updateQueue;if(S===null){var _=new Set;_.add(d),e.updateQueue=_}else S.add(d);break e}else{if(!(e&1)){Mx(i,h,e),tg();break e}d=Error(Le(426))}}else if(Ht&&l.mode&1){var O=zx(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),$x(O,o,l,i,e),Dp(El(d,l));break e}}i=d=El(d,l),kr!==4&&(kr=2),Hc===null?Hc=[i]:Hc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Ty(i,d,e);Ex(i,w);break e;case 1:l=d;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ui===null||!ui.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=Dy(i,l,e);Ex(i,A);break e}}i=i.return}while(i!==null)}ev(r)}catch(k){e=k,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(!0)}function Qy(){var t=Ch.current;return Ch.current=_h,t===null?_h:t}function tg(){(kr===0||kr===3||kr===2)&&(kr=4),Er===null||!(io&268435455)&&!(Xh&268435455)||ti(Er,Or)}function Lh(t,e){var r=vt;vt|=2;var n=Qy();(Er!==t||Or!==e)&&(xa=null,Zi(t,e));do try{mj();break}catch(a){Xy(t,a)}while(!0);if(Mp(),vt=r,Ch.current=n,vr!==null)throw Error(Le(261));return Er=null,Or=0,kr}function mj(){for(;vr!==null;)Zy(vr)}function pj(){for(;vr!==null&&!R5();)Zy(vr)}function Zy(t){var e=rv(t.alternate,t,As);t.memoizedProps=t.pendingProps,e===null?ev(t):vr=e,Kp.current=null}function ev(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=lj(r,e),r!==null){r.flags&=32767,vr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kr=6,vr=null;return}}else if(r=oj(r,e,As),r!==null){vr=r;return}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);kr===0&&(kr=5)}function Bi(t,e,r){var n=At,a=Js.transition;try{Js.transition=null,At=1,gj(t,e,r,n)}finally{Js.transition=a,At=n}return null}function gj(t,e,r,n){do bl();while(ni!==null);if(vt&6)throw Error(Le(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(K5(t,i),t===Er&&(vr=Er=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Iu||(Iu=!0,sv(uh,function(){return bl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Js.transition,Js.transition=null;var o=At;At=1;var l=vt;vt|=4,Kp.current=null,dj(t,r),Jy(r,t),Ow(vm),fh=!!ym,vm=ym=null,t.current=r,uj(r),q5(),vt=l,At=o,Js.transition=i}else t.current=r;if(Iu&&(Iu=!1,ni=t,Ph=a),i=t.pendingLanes,i===0&&(ui=null),V5(r.stateNode),bs(t,dr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ah)throw Ah=!1,t=$m,$m=null,t;return Ph&1&&t.tag!==0&&bl(),i=t.pendingLanes,i&1?t===Rm?Wc++:(Wc=0,Rm=t):Wc=0,ki(),null}function bl(){if(ni!==null){var t=T2(Ph),e=Js.transition,r=At;try{if(Js.transition=null,At=16>t?16:t,ni===null)var n=!1;else{if(t=ni,ni=null,Ph=0,vt&6)throw Error(Le(331));var a=vt;for(vt|=4,Be=t.current;Be!==null;){var i=Be,o=i.child;if(Be.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var h=l[d];for(Be=h;Be!==null;){var f=Be;switch(f.tag){case 0:case 11:case 15:Vc(8,f,i)}var g=f.child;if(g!==null)g.return=f,Be=g;else for(;Be!==null;){f=Be;var y=f.sibling,p=f.return;if(Hy(f),f===h){Be=null;break}if(y!==null){y.return=p,Be=y;break}Be=p}}}var S=i.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var O=_.sibling;_.sibling=null,_=O}while(_!==null)}}Be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Be=o;else e:for(;Be!==null;){if(i=Be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Be=w;break e}Be=i.return}}var v=t.current;for(Be=v;Be!==null;){o=Be;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Be=N;else e:for(o=v;Be!==null;){if(l=Be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kh(9,l)}}catch(k){nr(l,l.return,k)}if(l===o){Be=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,Be=A;break e}Be=l.return}}if(vt=a,ki(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Bh,t)}catch{}n=!0}return n}finally{At=r,Js.transition=e}}return!1}function Qx(t,e,r){e=El(r,e),e=Ty(t,e,1),t=di(t,e,1),e=ss(),t!==null&&(vd(t,1,e),bs(t,e))}function nr(t,e,r){if(t.tag===3)Qx(t,t,r);else for(;e!==null;){if(e.tag===3){Qx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ui===null||!ui.has(n))){t=El(r,t),t=Dy(e,t,1),e=di(e,t,1),t=ss(),e!==null&&(vd(e,1,t),bs(e,t));break}}e=e.return}}function xj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ss(),t.pingedLanes|=t.suspendedLanes&r,Er===t&&(Or&r)===r&&(kr===4||kr===3&&(Or&130023424)===Or&&500>dr()-Qp?Zi(t,0):Xp|=r),bs(t,e)}function tv(t,e){e===0&&(t.mode&1?(e=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):e=1);var r=ss();t=Aa(t,e),t!==null&&(vd(t,e,r),bs(t,r))}function yj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),tv(t,r)}function vj(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),tv(t,r)}var rv;rv=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ys.current)xs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xs=!1,ij(t,e,r);xs=!!(t.flags&131072)}else xs=!1,Ht&&e.flags&1048576&&iy(e,bh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qu(t,e),t=e.pendingProps;var a=Cl(e,Xr.current);vl(e,r),a=Hp(null,e,n,t,a,r);var i=Wp();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vs(n)?(i=!0,yh(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Rp(e),a.updater=Yh,e.stateNode=a,a._reactInternals=e,Am(e,n,t,r),e=Em(null,e,n,!0,i,r)):(e.tag=0,Ht&&i&&Fp(e),ts(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qu(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=wj(n),t=xn(n,t),a){case 0:e=Lm(null,e,n,t,r);break e;case 1:e=Bx(null,e,n,t,r);break e;case 11:e=Rx(null,e,n,t,r);break e;case 14:e=qx(null,e,n,xn(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xn(n,a),Lm(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xn(n,a),Bx(t,e,n,a,r);case 3:e:{if($y(e),t===null)throw Error(Le(387));n=e.pendingProps,i=e.memoizedState,a=i.element,hy(t,e),Nh(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=El(Error(Le(423)),e),e=Ux(t,e,n,r,a);break e}else if(n!==a){a=El(Error(Le(424)),e),e=Ux(t,e,n,r,a);break e}else for(Ps=ci(e.stateNode.containerInfo.firstChild),Es=e,Ht=!0,wn=null,r=dy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Al(),n===a){e=Pa(t,e,r);break e}ts(t,e,n,r)}e=e.child}return e;case 5:return fy(e),t===null&&Sm(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,bm(n,a)?o=null:i!==null&&bm(n,i)&&(e.flags|=32),zy(t,e),ts(t,e,o,r),e.child;case 6:return t===null&&Sm(e),null;case 13:return Ry(t,e,r);case 4:return qp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Pl(e,null,n,r):ts(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xn(n,a),Rx(t,e,n,a,r);case 7:return ts(t,e,e.pendingProps,r),e.child;case 8:return ts(t,e,e.pendingProps.children,r),e.child;case 12:return ts(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,zt(wh,n._currentValue),n._currentValue=o,i!==null)if(_n(i.value,o)){if(i.children===a.children&&!ys.current){e=Pa(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=Sa(-1,r&-r),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?d.next=d:(d.next=f.next,f.next=d),h.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),_m(i.return,r,e),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Le(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),_m(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ts(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,vl(e,r),a=Qs(a),n=n(a),e.flags|=1,ts(t,e,n,r),e.child;case 14:return n=e.type,a=xn(n,e.pendingProps),a=xn(n.type,a),qx(t,e,n,a,r);case 15:return Oy(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xn(n,a),Qu(t,e),e.tag=1,vs(n)?(t=!0,yh(e)):t=!1,vl(e,r),Fy(e,n,a),Am(e,n,a,r),Em(null,e,n,!0,t,r);case 19:return qy(t,e,r);case 22:return My(t,e,r)}throw Error(Le(156,e.tag))};function sv(t,e){return L2(t,e)}function bj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(t,e,r,n){return new bj(t,e,r,n)}function rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wj(t){if(typeof t=="function")return rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wp)return 11;if(t===jp)return 14}return 2}function fi(t,e){var r=t.alternate;return r===null?(r=Ws(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function th(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")rg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sl:return eo(r.children,a,i,e);case bp:o=8,a|=8;break;case Q0:return t=Ws(12,r,e,a|2),t.elementType=Q0,t.lanes=i,t;case Z0:return t=Ws(13,r,e,a),t.elementType=Z0,t.lanes=i,t;case em:return t=Ws(19,r,e,a),t.elementType=em,t.lanes=i,t;case f2:return Qh(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u2:o=10;break e;case h2:o=9;break e;case wp:o=11;break e;case jp:o=14;break e;case Qa:o=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Ws(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function eo(t,e,r,n){return t=Ws(7,t,n,e),t.lanes=r,t}function Qh(t,e,r,n){return t=Ws(22,t,n,e),t.elementType=f2,t.lanes=r,t.stateNode={isHidden:!1},t}function L0(t,e,r){return t=Ws(6,t,null,e),t.lanes=r,t}function E0(t,e,r){return e=Ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jj(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u0(0),this.expirationTimes=u0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sg(t,e,r,n,a,i,o,l,d){return t=new jj(t,e,r,l,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ws(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(i),t}function Nj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nv(t){if(!t)return xi;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(vs(r))return ny(t,r,e)}return e}function av(t,e,r,n,a,i,o,l,d){return t=sg(r,n,!0,t,a,i,o,l,d),t.context=nv(null),r=t.current,n=ss(),a=hi(r),i=Sa(n,a),i.callback=e??null,di(r,i,a),t.current.lanes=a,vd(t,a,n),bs(t,n),t}function Zh(t,e,r,n){var a=e.current,i=ss(),o=hi(a);return r=nv(r),e.context===null?e.context=r:e.pendingContext=r,e=Sa(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=di(a,e,o),t!==null&&(Sn(t,a,o,i),Yu(t,a,o)),o}function Eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ng(t,e){Zx(t,e),(t=t.alternate)&&Zx(t,e)}function kj(){return null}var iv=typeof reportError=="function"?reportError:function(t){console.error(t)};function ag(t){this._internalRoot=t}ef.prototype.render=ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));Zh(t,e,null,null)};ef.prototype.unmount=ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Zh(null,t,null,null)}),e[Ca]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=M2();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ei.length&&e!==0&&e<ei[r].priority;r++);ei.splice(r,0,t),r===0&&$2(t)}};function ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e1(){}function Sj(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var h=Eh(o);i.call(h)}}var o=av(e,n,t,0,null,!1,!1,"",e1);return t._reactRootContainer=o,t[Ca]=o.current,id(t.nodeType===8?t.parentNode:t),oo(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var h=Eh(d);l.call(h)}}var d=sg(t,0,!1,null,null,!1,!1,"",e1);return t._reactRootContainer=d,t[Ca]=d.current,id(t.nodeType===8?t.parentNode:t),oo(function(){Zh(e,d,r,n)}),d}function rf(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var d=Eh(o);l.call(d)}}Zh(e,o,t,a)}else o=Sj(r,e,t,a,n);return Eh(o)}D2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dc(e.pendingLanes);r!==0&&(Sp(e,r|1),bs(e,dr()),!(vt&6)&&(Il=dr()+500,ki()))}break;case 13:oo(function(){var n=Aa(t,1);if(n!==null){var a=ss();Sn(n,t,1,a)}}),ng(t,1)}};_p=function(t){if(t.tag===13){var e=Aa(t,134217728);if(e!==null){var r=ss();Sn(e,t,134217728,r)}ng(t,134217728)}};O2=function(t){if(t.tag===13){var e=hi(t),r=Aa(t,e);if(r!==null){var n=ss();Sn(r,t,e,n)}ng(t,e)}};M2=function(){return At};z2=function(t,e){var r=At;try{return At=t,e()}finally{At=r}};dm=function(t,e,r){switch(e){case"input":if(sm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Wh(n);if(!a)throw Error(Le(90));p2(n),sm(n,a)}}}break;case"textarea":x2(t,r);break;case"select":e=r.value,e!=null&&pl(t,!!r.multiple,e,!1)}};k2=Zp;S2=oo;var _j={usingClientEntryPoint:!1,Events:[wd,ol,Wh,j2,N2,Zp]},_c={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cj={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:La.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A2(t),t===null?null:t.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Bh=Fu.inject(Cj),Qn=Fu}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_j;Ts.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(e))throw Error(Le(200));return Nj(t,e,null,r)};Ts.createRoot=function(t,e){if(!ig(t))throw Error(Le(299));var r=!1,n="",a=iv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=sg(t,1,!1,null,null,r,!1,n,a),t[Ca]=e.current,id(t.nodeType===8?t.parentNode:t),new ag(e)};Ts.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=A2(e),t=t===null?null:t.stateNode,t};Ts.flushSync=function(t){return oo(t)};Ts.hydrate=function(t,e,r){if(!tf(e))throw Error(Le(200));return rf(null,t,e,!0,r)};Ts.hydrateRoot=function(t,e,r){if(!ig(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=iv;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=av(e,null,t,1,r??null,a,!1,i,o),t[Ca]=e.current,id(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new ef(e)};Ts.render=function(t,e,r){if(!tf(e))throw Error(Le(200));return rf(null,t,e,!1,r)};Ts.unmountComponentAtNode=function(t){if(!tf(t))throw Error(Le(40));return t._reactRootContainer?(oo(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ca]=null})}),!0):!1};Ts.unstable_batchedUpdates=Zp;Ts.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tf(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return rf(t,e,r,!1,n)};Ts.version="18.3.1-next-f1338f8080-20240426";function ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ov)}catch(t){console.error(t)}}ov(),o2.exports=Ts;var Aj=o2.exports,lv,t1=Aj;lv=t1.createRoot,t1.hydrateRoot;const Pj="modulepreload",Lj=function(t){return"/"+t},r1={},yi=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(d=>{if(d=Lj(d),d in r1)return;r1[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Pj,h||(g.as="script"),g.crossOrigin="",g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((y,p)=>{g.addEventListener("load",y),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ej=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yi(async()=>{const{default:n}=await Promise.resolve().then(()=>zl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class og extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ij extends og{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s1 extends og{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class n1 extends og{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Um;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Um||(Um={}));var Fj=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};class Tj{constructor(e,{headers:r={},customFetch:n,region:a=Um.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Ej(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Fj(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${e}`);d&&d!=="any"&&(l["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const g=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:f}).catch(_=>{throw new Ij(_)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new s1(g);if(!g.ok)throw new n1(g);let p=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),S;return p==="application/json"?S=yield g.json():p==="application/octet-stream"?S=yield g.blob():p==="text/event-stream"?S=g:p==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof n1||a instanceof s1?a.context:void 0}}})}}var gs={},lg={},sf={},Nd={},nf={},af={},Dj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fl=Dj();const Oj=Fl.fetch,cv=Fl.fetch.bind(Fl),dv=Fl.Headers,Mj=Fl.Request,zj=Fl.Response,zl=Object.freeze(Object.defineProperty({__proto__:null,Headers:dv,Request:Mj,Response:zj,default:cv,fetch:Oj},Symbol.toStringTag,{value:"Module"})),$j=t5(zl);var of={};Object.defineProperty(of,"__esModule",{value:!0});let Rj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};of.default=Rj;var uv=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(af,"__esModule",{value:!0});const qj=uv($j),Bj=uv(of);let Uj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,d;let h=null,f=null,g=null,y=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=w:f=JSON.parse(w))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&O&&O.length>1&&(g=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,y=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const _=await i.text();try{h=JSON.parse(_),Array.isArray(h)&&i.status===404&&(f=[],h=null,y=200,p="OK")}catch{i.status===404&&_===""?(y=204,p="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,y=200,p="OK"),h&&this.shouldThrowOnError)throw new Bj.default(h)}return{error:h,data:f,count:g,status:y,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,d;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(d=i==null?void 0:i.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};af.default=Uj;var Vj=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nf,"__esModule",{value:!0});const Hj=Vj(af);let Wj=class extends Hj.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const d=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${h}"; options=${d};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nf.default=Wj;var Gj=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nd,"__esModule",{value:!0});const Jj=Gj(nf);let Yj=class extends Jj.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Nd.default=Yj;var Kj=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sf,"__esModule",{value:!0});const Cc=Kj(Nd);let Xj=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Cc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(o.length>0){const l=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new Cc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const d=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new Cc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Cc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Cc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sf.default=Xj;var lf={},cf={};Object.defineProperty(cf,"__esModule",{value:!0});cf.version=void 0;cf.version="0.0.0-automated";Object.defineProperty(lf,"__esModule",{value:!0});lf.DEFAULT_HEADERS=void 0;const Qj=cf;lf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Qj.version}`};var hv=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lg,"__esModule",{value:!0});const Zj=hv(sf),eN=hv(Nd),tN=lf;let rN=class fv{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},tN.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new Zj.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let d;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(o="POST",d=r);const h=Object.assign({},this.headers);return i&&(h.Prefer=`count=${i}`),new eN.default({method:o,url:l,headers:h,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};lg.default=rN;var $l=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});gs.PostgrestError=gs.PostgrestBuilder=gs.PostgrestTransformBuilder=gs.PostgrestFilterBuilder=gs.PostgrestQueryBuilder=gs.PostgrestClient=void 0;const mv=$l(lg);gs.PostgrestClient=mv.default;const pv=$l(sf);gs.PostgrestQueryBuilder=pv.default;const gv=$l(Nd);gs.PostgrestFilterBuilder=gv.default;const xv=$l(nf);gs.PostgrestTransformBuilder=xv.default;const yv=$l(af);gs.PostgrestBuilder=yv.default;const vv=$l(of);gs.PostgrestError=vv.default;var sN=gs.default={PostgrestClient:mv.default,PostgrestQueryBuilder:pv.default,PostgrestFilterBuilder:gv.default,PostgrestTransformBuilder:xv.default,PostgrestBuilder:yv.default,PostgrestError:vv.default};const{PostgrestClient:nN,PostgrestQueryBuilder:t8,PostgrestFilterBuilder:r8,PostgrestTransformBuilder:s8,PostgrestBuilder:n8,PostgrestError:a8}=sN;class aN{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const a=this.dynamicRequire("undici");if(a&&a.WebSocket)return{type:"native",constructor:a.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const a=this.dynamicRequire("ws");if(a)return{type:"ws",constructor:(r=a.WebSocket)!==null&&r!==void 0?r:a};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iN="2.15.0",oN=`realtime-js/${iN}`,lN="1.0.0",Vm=1e4,cN=1e3,dN=100;var Gc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gc||(Gc={}));var jr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jr||(jr={}));var bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bn||(bn={}));var Hm;(function(t){t.websocket="websocket"})(Hm||(Hm={}));var Wi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wi||(Wi={}));class uN{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const d=n.decode(e.slice(o,o+i));o=o+i;const h=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:d,payload:h}}}class bv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Mt||(Mt={}));const a1=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=hN(o,t,e,a),i),{})},hN=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?wv(i,o):Wm(o)},wv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gN(e,r)}switch(t){case Mt.bool:return fN(e);case Mt.float4:case Mt.float8:case Mt.int2:case Mt.int4:case Mt.int8:case Mt.numeric:case Mt.oid:return mN(e);case Mt.json:case Mt.jsonb:return pN(e);case Mt.timestamp:return xN(e);case Mt.abstime:case Mt.date:case Mt.daterange:case Mt.int4range:case Mt.int8range:case Mt.money:case Mt.reltime:case Mt.text:case Mt.time:case Mt.timestamptz:case Mt.timetz:case Mt.tsrange:case Mt.tstzrange:return Wm(e);default:return Wm(e)}},Wm=t=>t,fN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},gN=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>wv(e,l))}return t},xN=t=>typeof t=="string"?t.replace(" ","T"):t,jv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class I0{constructor(e,r,n={},a=Vm){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var i1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(i1||(i1={}));class Jc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=Jc.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jc.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},d={};return this.map(i,(h,f)=>{o[h]||(d[h]=f)}),this.map(o,(h,f)=>{const g=i[h];if(g){const y=f.map(O=>O.presence_ref),p=g.map(O=>O.presence_ref),S=f.filter(O=>p.indexOf(O.presence_ref)<0),_=g.filter(O=>y.indexOf(O.presence_ref)<0);S.length>0&&(l[h]=S),_.length>0&&(d[h]=_)}else l[h]=f}),this.syncDiff(i,{joins:l,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,d)=>{var h;const f=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(d),f.length>0){const g=e[l].map(p=>p.presence_ref),y=f.filter(p=>g.indexOf(p.presence_ref)<0);e[l].unshift(...y)}n(l,f,d)}),this.map(o,(l,d)=>{let h=e[l];if(!h)return;const f=d.map(g=>g.presence_ref);h=h.filter(g=>f.indexOf(g.presence_ref)<0),e[l]=h,a(l,h,d),h.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var o1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(o1||(o1={}));var Yc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yc||(Yc={}));var ya;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ya||(ya={}));class cg{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new I0(this,bn.join,this.params,this.timeout),this.rejoinTimer=new bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Jc(this),this.broadcastEndpointURL=jv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==jr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[Yc.PRESENCE]&&this.bindings[Yc.PRESENCE].length>0,f={},g={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(ya.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ya.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var p;if(this.socket.setAuth(),y===void 0){e==null||e(ya.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(p=S==null?void 0:S.length)!==null&&p!==void 0?p:0,O=[];for(let w=0;w<_;w++){const v=S[w],{filter:{event:N,schema:A,table:k,filter:U}}=v,M=y&&y[w];if(M&&M.event===N&&M.schema===A&&M.table===k&&M.filter===U)O.push(Object.assign(Object.assign({},v),{id:M.id}));else{this.unsubscribe(),this.state=jr.errored,e==null||e(ya.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(ya.SUBSCRIBED);return}}).receive("error",y=>{this.state=jr.errored,e==null||e(ya.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ya.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===jr.joined&&e===Yc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new I0(this,bn.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new I0(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:d,leave:h,join:f}=bn;if(n&&[l,d,h,f].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var S,_,O;return((S=p.filter)===null||S===void 0?void 0:S.event)==="*"||((O=(_=p.filter)===null||_===void 0?void 0:_.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(p=>p.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var S,_,O,w,v,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const A=p.id,k=(S=p.filter)===null||S===void 0?void 0:S.event;return A&&((_=r.ids)===null||_===void 0?void 0:_.includes(A))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const A=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return A==="*"||A===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:O,commit_timestamp:w,type:v,errors:N}=S;y=Object.assign(Object.assign({},{schema:_,table:O,commit_timestamp:w,eventType:v,new:{},old:{},errors:N}),this._getPayloadRecords(S))}p.callback(y,n)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cg.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bn.close,{},e)}_onError(e){this._on(bn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=a1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=a1(e.columns,e.old_record)),r}}const l1=()=>{},Tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yN=[1e3,2e3,5e3,1e4],vN=1e4,bN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wN{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vm,this.transport=null,this.heartbeatIntervalMs=Tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=l1,this.ref=0,this.reconnectTimer=null,this.logger=l1,this.conn=null,this.sendBuffer=[],this.serializer=new uN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>yi(async()=>{const{default:l}=await Promise.resolve().then(()=>zl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Hm.websocket}`,this.httpEndpoint=jv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aN.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lN}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gc.connecting:return Wi.Connecting;case Gc.open:return Wi.Open;case Gc.closing:return Wi.Closing;default:return Wi.Closed}}isConnected(){return this.connectionState()===Wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new cg(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${l}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([bN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:oN};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,l,d,h;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Vm,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Tu.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>yN[f-1]||vN,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(f,g)=>g(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ar(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jN extends dg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gm extends dg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var NN=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};const Nv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yi(async()=>{const{default:n}=await Promise.resolve().then(()=>zl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kN=()=>NN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>zl),void 0)).Response:Response}),Jm=t=>{if(Array.isArray(t))return t.map(r=>Jm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Jm(n)}),e},SN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ho=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};const F0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_N=(t,e,r)=>ho(void 0,void 0,void 0,function*(){const n=yield kN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new jN(F0(a),i,o))}).catch(a=>{e(new Gm(F0(a),a))}):e(new Gm(F0(t),t))}),CN=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(SN(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function kd(t,e,r,n,a,i){return ho(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,CN(e,n,a,i)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>_N(d,l,n))})})}function Ih(t,e,r,n){return ho(this,void 0,void 0,function*(){return kd(t,"GET",e,r,n)})}function va(t,e,r,n,a){return ho(this,void 0,void 0,function*(){return kd(t,"POST",e,n,a,r)})}function Ym(t,e,r,n,a){return ho(this,void 0,void 0,function*(){return kd(t,"PUT",e,n,a,r)})}function AN(t,e,r,n){return ho(this,void 0,void 0,function*(){return kd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kv(t,e,r,n,a){return ho(this,void 0,void 0,function*(){return kd(t,"DELETE",e,n,a,r)})}var fs=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};const PN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LN{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Nv(a)}uploadOrUpdate(e,r,n,a){return fs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},c1),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const h=this._removeEmptyFolders(r),f=this._getFinalPath(h),g=yield(e=="PUT"?Ym:va)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}upload(e,r,n){return fs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return fs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:c1.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const g=yield Ym(this.fetch,l.toString(),d,{headers:f});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(Ar(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return fs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield va(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new dg("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}update(e,r,n){return fs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return fs(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ar(a))return{data:null,error:a};throw a}})}copy(e,r,n){return fs(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ar(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return fs(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield va(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Ar(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return fs(this,void 0,void 0,function*(){try{const a=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Ar(a))return{data:null,error:a};throw a}})}download(e,r){return fs(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ih(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ar(l))return{data:null,error:l};throw l}})}info(e){return fs(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ih(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jm(n),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}exists(e){return fs(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield AN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ar(n)&&n instanceof Gm){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}remove(e){return fs(this,void 0,void 0,function*(){try{return{data:yield kv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}list(e,r,n){return fs(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},PN),r),{prefix:e||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Ar(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const EN="2.10.4",IN={"X-Client-Info":`storage-js/${EN}`};var Vo=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};class FN{constructor(e,r={},n,a){const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},IN),r),this.fetch=Nv(n)}listBuckets(){return Vo(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ar(e))return{data:null,error:e};throw e}})}getBucket(e){return Vo(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Vo(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Vo(this,void 0,void 0,function*(){try{return{data:yield Ym(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Vo(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Vo(this,void 0,void 0,function*(){try{return{data:yield kv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}}class TN extends FN{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new LN(this.url,this.headers,e,this.fetch)}}const DN="2.54.0";let Mc="";typeof Deno<"u"?Mc="deno":typeof document<"u"?Mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mc="react-native":Mc="node";const ON={"X-Client-Info":`supabase-js-${Mc}/${DN}`},MN={headers:ON},zN={schema:"public"},$N={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RN={};var qN=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};const BN=t=>{let e;return t?e=t:typeof fetch>"u"?e=cv:e=fetch,(...r)=>e(...r)},UN=()=>typeof Headers>"u"?dv:Headers,VN=(t,e,r)=>{const n=BN(r),a=UN();return(i,o)=>qN(void 0,void 0,void 0,function*(){var l;const d=(l=yield e())!==null&&l!==void 0?l:t;let h=new a(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},o),{headers:h}))})};var HN=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};function WN(t){return t.endsWith("/")?t:t+"/"}function GN(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:d,auth:h,realtime:f,global:g}=e,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>HN(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const Sv="2.71.1",Qo=30*1e3,Km=3,T0=Km*Qo,JN="http://localhost:9999",YN="supabase.auth.token",KN={"X-Client-Info":`gotrue-js/${Sv}`},Xm="X-Supabase-Api-Version",_v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QN=10*60*1e3;class ug extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function lt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ZN extends ug{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e4(t){return lt(t)&&t.name==="AuthApiError"}class Cv extends ug{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Si extends ug{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Ka extends Si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t4(t){return lt(t)&&t.name==="AuthSessionMissingError"}class Du extends Si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends Si{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mu extends Si{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r4(t){return lt(t)&&t.name==="AuthImplicitGrantRedirectError"}class d1 extends Si{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qm extends Si{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function D0(t){return lt(t)&&t.name==="AuthRetryableFetchError"}class u1 extends Si{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zm extends Si{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),h1=` 	
\r=`.split(""),s4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<h1.length;e+=1)t[h1[e].charCodeAt(0)]=-2;for(let e=0;e<Fh.length;e+=1)t[Fh[e].charCodeAt(0)]=e;return t})();function f1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Fh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Fh[n]),e.queuedBits-=6}}function Av(t,e,r){const n=s4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function m1(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{i4(o,n,r)};for(let o=0;o<t.length;o+=1)Av(t.charCodeAt(o),a,i);return e.join("")}function n4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function a4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}n4(n,e)}}function i4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function o4(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Av(t.charCodeAt(a),r,n);return new Uint8Array(e)}function l4(t){const e=[];return a4(t,r=>e.push(r)),new Uint8Array(e)}function c4(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>f1(a,r,n)),f1(null,r,n),e.join("")}function d4(t){return Math.round(Date.now()/1e3)+t}function u4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const gn=()=>typeof window<"u"&&typeof document<"u",$i={tested:!1,writable:!1},Pv=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($i.tested)return $i.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$i.tested=!0,$i.writable=!0}catch{$i.tested=!0,$i.writable=!1}return $i.writable};function h4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const Lv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yi(async()=>{const{default:n}=await Promise.resolve().then(()=>zl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},f4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ri=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wa=async(t,e)=>{await t.removeItem(e)};class df{constructor(){this.promise=new df.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}df.promiseConstructor=Promise;function O0(t){const e=t.split(".");if(e.length!==3)throw new Zm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!XN.test(e[n]))throw new Zm("JWT not in base64url format");return{header:JSON.parse(m1(e[0])),payload:JSON.parse(m1(e[1])),signature:o4(e[2]),raw:{header:e[0],payload:e[1]}}}async function m4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p4(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function g4(t){return("0"+t.toString(16)).substr(-2)}function x4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,g4).join("")}async function y4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function v4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await y4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(t,e,r=!1){const n=x4();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Zo(t,`${e}-code-verifier`,a);const i=await v4(n);return[i,n===i?"plain":"s256"]}const b4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function w4(t){const e=t.headers.get(Xm);if(!e||!e.match(b4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function j4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function N4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wo(t){if(!k4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function M0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p1(t){return JSON.parse(JSON.stringify(t))}var S4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Ui=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_4=[502,503,504];async function g1(t){var e;if(!f4(t))throw new Qm(Ui(t),0);if(_4.includes(t.status))throw new Qm(Ui(t),t.status);let r;try{r=await t.json()}catch(i){throw new Cv(Ui(i),i)}let n;const a=w4(t);if(a&&a.getTime()>=_v["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new u1(Ui(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ka}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new u1(Ui(r),t.status,r.weak_password.reasons);throw new ZN(Ui(r),t.status||500,n)}const C4=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ft(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Xm]||(i[Xm]=_v["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await A4(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function A4(t,e,r,n,a,i){const o=C4(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new Qm(Ui(d),0)}if(l.ok||await g1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(d){await g1(d)}}function ga(t){var e;let r=null;I4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=d4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function x1(t){const e=ga(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ri(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function P4(t){return{data:t,error:null}}function L4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=S4(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function E4(t){return t}function I4(t){return t.access_token&&t.refresh_token&&t.expires_in}const z0=["global","local","others"];var F4=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class T4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Lv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=z0[0]){if(z0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${z0.join(", ")}`);try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ri})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=F4(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:L4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(lt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ri})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,d;try{const h={nextPage:null,lastPage:0,total:0},f=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:E4});if(f.error)throw f.error;const g=await f.json(),y=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(d=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return p.length>0&&(p.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);h[`${O}Page`]=_}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(lt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Wo(e);try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ri})}catch(r){if(lt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Wo(e);try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ri})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Wo(e);try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ri})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wo(e.userId);try{const{data:r,error:n}=await ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Wo(e.userId),Wo(e.id);try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}}function y1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function D4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Go={debug:!!(globalThis&&Pv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ev extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class O4 extends Ev{}async function M4(t,e,r){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new O4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Go.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}D4();const z4={url:JN,storageKey:YN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function v1(t,e,r){return await r()}const Jo={};class pd{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},z4),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new T4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Lv(a.fetch),this.lock=a.lock||v1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:gn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=M4:this.lock=v1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Pv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=y1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=y1(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jo[this.storageKey]=Object.assign(Object.assign({},Jo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=h4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),gn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r4(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return lt(r)?{error:r}:{error:new Cv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:ga}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(lt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:f,password:g,options:y}=e;let p=null,S=null;this.flowType==="pkce"&&([p,S]=await Ho(this.storage,this.storageKey)),i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:f,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:S},xform:ga})}else if("phone"in e){const{phone:f,password:g,options:y}=e;i=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:ga})}else throw new Ou("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(lt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:x1})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:x1})}else throw new Ou("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Du}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(lt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,o,l,d,h,f,g,y,p;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:O,wallet:w,statement:v,options:N}=e;let A;if(gn())if(typeof w=="object")A=w;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))A=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const k=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const U=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let M;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")M=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)M=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(n=N==null?void 0:N.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=N==null?void 0:N.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(f=N==null?void 0:N.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const U=await A.signMessage(new TextEncoder().encode(S),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=U}}try{const{data:O,error:w}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:c4(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ga});if(w)throw w;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Du}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:w})}catch(O){if(lt(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const r=await Ri(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ga});if(await Wa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Du}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(lt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ga}),{data:d,error:h}=l;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Du}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(lt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:d}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ho(this.storage,this.storageKey));const{error:g}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:d}=e,{data:h,error:f}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new Ou("You must provide either an email or phone number.")}catch(l){if(lt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ga});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,h=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(lt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ho(this.storage,this.storageKey)),await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:P4})}catch(i){if(lt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ka;const{error:a}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(lt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await ft(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await ft(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ou("You must provide either an email or phone number and a type")}catch(r){if(lt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<T0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ri(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=M0()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,f)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,f))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ri}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ka}:await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ri})})}catch(r){if(lt(r))return t4(r)&&(await this._removeSession(),await Wa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ka;const o=a.session;let l=null,d=null;this.flowType==="pkce"&&e.email!=null&&([l,d]=await Ho(this.storage,this.storageKey));const{data:h,error:f}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:ri});if(f)throw f;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(lt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ka;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=O0(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(lt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ka;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(lt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!gn())throw new Mu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new d1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new d1("No code detected.");const{data:v,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:h}=e;if(!i||!l||!o||!h)throw new Mu("No session defined in URL");const f=Math.round(Date.now()/1e3),g=parseInt(l);let y=f+g;d&&(y=parseInt(d));const p=y-f;p*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${g}s`);const S=y-g;f-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,f):f-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,f);const{data:_,error:O}=await this._getUser(i);if(O)throw O;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:g,expires_at:y,refresh_token:o,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(lt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ri(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(e4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Wa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=u4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ho(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(lt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,d,h,f;const{data:g,error:y}=i;if(y)throw y;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return gn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(lt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p4(async a=>(a>0&&await m4(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ga})),(a,i)=>{const o=200*Math.pow(2,a);return i&&D0(i)&&Date.now()+o-n<Qo})}catch(n){if(this._debug(r,"error",n),lt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ri(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Zo(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:M0()}else if(a&&!a.user&&!a.user){const o=await Ri(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Wa(this.storage,this.storageKey+"-user"),await Zo(this.storage,this.storageKey,a)):a.user=M0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<T0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${T0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),D0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ka;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new df;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ka;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),lt(i)){const o={session:null,error:i};return D0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=p1(a);await Zo(this.storage,this.storageKey,i)}else{const a=p1(r);await Zo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Wa(this.storage,this.storageKey),await Wa(this.storage,this.storageKey+"-code-verifier"),await Wa(this.storage,this.storageKey+"-user"),this.userStorage&&await Wa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qo}ms, refresh threshold is ${Km} ticks`),a<=Km&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ev)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ho(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:h}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(lt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(lt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(lt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=O0(a.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+QN>a)return n;const{data:i,error:o}=await ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:S}=await this.getSession();if(S||!p.session)return{data:null,error:S};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:d}}=O0(n);r!=null&&r.allowExpired||j4(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const f=N4(a.alg),g=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,g,o,l4(`${l}.${d}`)))throw new Zm("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}}}pd.nextInstanceID=0;const $4=pd;class R4 extends $4{constructor(e){super(e)}}var q4=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function d(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?i(f.value):a(f.value).then(l,d)}h((n=n.apply(t,e||[])).next())})};class B4{constructor(e,r,n){var a,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=WN(e),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:zN,realtime:RN,auth:Object.assign(Object.assign({},$N),{storageKey:h}),global:MN},g=GN(n??{},f);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=g.auth)!==null&&o!==void 0?o:{},this.headers,g.global.fetch),this.fetch=VN(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new nN(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new TN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Tj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return q4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:d},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R4({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:d,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const U4=(t,e,r)=>new B4(t,e,r);function V4(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}V4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const H4="https://ttcgkdkueujjzgixrdlz.supabase.co",W4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0Y2drZGt1ZXVqanpnaXhyZGx6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4NzMzNTksImV4cCI6MjA3MDQ0OTM1OX0.WczAHb9WiXAel0GiuxosyCQg3FnkcKb42czylOIqi5E",ms=U4(H4,W4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}});class G4{async createUser(e){const{data:r,error:n}=await ms.from("users").insert({nome:e.nome,usuario:e.usuario,senha:e.senha,tipo:e.tipo,ativo:e.ativo}).select().single();if(n)throw n;return{id:r.id,nome:r.nome,usuario:r.usuario,senha:r.senha,tipo:r.tipo,ativo:r.ativo,criadoEm:r.created_at}}async getAllUsers(){const{data:e,error:r}=await ms.from("users").select("*").order("nome");if(r)throw r;return e.map(n=>({id:n.id,nome:n.nome,usuario:n.usuario,senha:n.senha,tipo:n.tipo,ativo:n.ativo,criadoEm:n.created_at}))}async updateUser(e,r){const{error:n}=await ms.from("users").update({nome:r.nome,usuario:r.usuario,senha:r.senha,tipo:r.tipo,ativo:r.ativo}).eq("id",e);return!n}async getUserByCredentials(e,r){const{data:n,error:a}=await ms.from("users").select("*").eq("usuario",e).eq("senha",r).eq("ativo",!0).single();return a||!n?null:{id:n.id,nome:n.nome,usuario:n.usuario,senha:n.senha,tipo:n.tipo,ativo:n.ativo,criadoEm:n.created_at}}async createProduct(e){const{data:r,error:n}=await ms.from("products").insert({nome:e.nome,codigo:e.codigo,codigo_barras:e.codigoBarras,preco:e.preco,categoria:e.categoria,estoque:e.estoque,estoque_minimo:e.estoqueMinimo,supplier_id:e.fornecedorId,foto:e.foto,ativo:e.ativo}).select().single();if(n)throw n;return{id:r.id,nome:r.nome,codigo:r.codigo,codigoBarras:r.codigo_barras,preco:r.preco,categoria:r.categoria,estoque:r.estoque,estoqueMinimo:r.estoque_minimo,fornecedorId:r.supplier_id,foto:r.foto,ativo:r.ativo,criadoEm:r.created_at}}async getAllProducts(){const{data:e,error:r}=await ms.from("products").select("*").order("nome");if(r)throw r;return e.map(n=>({id:n.id,nome:n.nome,codigo:n.codigo,codigoBarras:n.codigo_barras,preco:n.preco,categoria:n.categoria,estoque:n.estoque,estoqueMinimo:n.estoque_minimo,fornecedorId:n.supplier_id,foto:n.foto,ativo:n.ativo,criadoEm:n.created_at}))}async updateProduct(e,r){const{error:n}=await ms.from("products").update({nome:r.nome,codigo:r.codigo,codigo_barras:r.codigoBarras,preco:r.preco,categoria:r.categoria,estoque:r.estoque,estoque_minimo:r.estoqueMinimo,supplier_id:r.fornecedorId,foto:r.foto,ativo:r.ativo}).eq("id",e);return!n}async getProductByCode(e){const{data:r,error:n}=await ms.from("products").select("*").or(`codigo.eq.${e},codigo_barras.eq.${e},nome.ilike.%${e}%`).eq("ativo",!0).limit(1).single();if(!(n||!r))return{id:r.id,nome:r.nome,codigo:r.codigo,codigoBarras:r.codigo_barras,preco:r.preco,categoria:r.categoria,estoque:r.estoque,estoqueMinimo:r.estoque_minimo,fornecedorId:r.supplier_id,foto:r.foto,ativo:r.ativo,criadoEm:r.created_at}}async createSupplier(e){const{data:r,error:n}=await ms.from("suppliers").insert({nome:e.nome,cnpj_cpf:e.cnpjCpf,telefone:e.telefone,email:e.email,endereco:e.endereco,website:e.website,observacoes:e.observacoes,ativo:e.ativo}).select().single();if(n)throw n;return{id:r.id,nome:r.nome,cnpjCpf:r.cnpj_cpf,telefone:r.telefone,email:r.email,endereco:r.endereco,website:r.website,observacoes:r.observacoes,ativo:r.ativo,criadoEm:r.created_at}}async getAllSuppliers(){const{data:e,error:r}=await ms.from("suppliers").select("*").order("nome");if(r)throw r;return e.map(n=>({id:n.id,nome:n.nome,cnpjCpf:n.cnpj_cpf,telefone:n.telefone,email:n.email,endereco:n.endereco,website:n.website,observacoes:n.observacoes,ativo:n.ativo,criadoEm:n.created_at}))}async updateSupplier(e,r){const{error:n}=await ms.from("suppliers").update({nome:r.nome,cnpj_cpf:r.cnpjCpf,telefone:r.telefone,email:r.email,endereco:r.endereco,website:r.website,observacoes:r.observacoes,ativo:r.ativo}).eq("id",e);return!n}async createCashRegister(e){const{data:r,error:n}=await ms.from("cash_registers").insert({nome:e.nome,descricao:e.descricao,ativo:e.ativo}).select().single();if(n)throw n;return{id:r.id,nome:r.nome,descricao:r.descricao,ativo:r.ativo,criadoEm:r.created_at}}async getAllCashRegisters(){const{data:e,error:r}=await ms.from("cash_registers").select("*").order("nome");if(r)throw r;return e.map(n=>({id:n.id,nome:n.nome,descricao:n.descricao,ativo:n.ativo,criadoEm:n.created_at}))}async updateCashRegister(e,r){const{error:n}=await ms.from("cash_registers").update({nome:r.nome,descricao:r.descricao,ativo:r.ativo}).eq("id",e);return!n}async openCashSession(e){return await supabaseDb.openCashSession(e)}async closeCashSession(e,r,n){return await supabaseDb.closeCashSession(e,r,n)}async getAllCashSessions(){return await supabaseDb.getAllCashSessions()}async createCashMovement(e){return await supabaseDb.createCashMovement(e)}async getAllCashMovements(){return await supabaseDb.getAllCashMovements()}async createSale(e){return await supabaseDb.createSale(e)}async getAllSales(){return await supabaseDb.getAllSales()}async createExpense(e){return await supabaseDb.createExpense(e)}async getAllExpenses(){return await supabaseDb.getAllExpenses()}async updateExpense(e,r){return await supabaseDb.updateExpense(e,r)}async deleteExpense(e){return await supabaseDb.deleteExpense(e)}async exportData(){return await supabaseDb.exportData()}}const Ft=new G4,Iv=de.createContext(void 0),Ln=()=>{const t=de.useContext(Iv);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},J4=()=>{const[t,e]=de.useState(null);return de.useEffect(()=>{const i=localStorage.getItem("pdv_current_user");i&&e(JSON.parse(i))},[]),{user:t,login:async(i,o)=>{try{const l=await Ft.getUserByCredentials(i,o);return l?(e(l),localStorage.setItem("pdv_current_user",JSON.stringify(l)),!0):!1}catch(l){return console.error("Erro no login:",l),!1}},logout:()=>{e(null),localStorage.removeItem("pdv_current_user")},isAuthenticated:!!t,hasPermission:i=>t?i.includes(t.tipo):!1}},Y4=({children:t})=>{const e=J4();return s.jsx(Iv.Provider,{value:e,children:t})},Fv=de.createContext(void 0),$t=()=>{const t=de.useContext(Fv);if(!t)throw new Error("useTheme deve ser usado dentro de ThemeProvider");return t},K4=()=>{const[t,e]=de.useState("light");return de.useEffect(()=>{const n=localStorage.getItem("pdv_theme");n&&e(n)},[]),de.useEffect(()=>{localStorage.setItem("pdv_theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]),{theme:t,toggleTheme:()=>{e(n=>n==="light"?"dark":"light")}}},X4=({children:t})=>{const e=K4();return s.jsx(Fv.Provider,{value:e,children:t})},Tv=de.createContext(void 0),Rl=()=>{const t=de.useContext(Tv);if(!t)throw new Error("useColors deve ser usado dentro de ColorProvider");return t},Ac="#0d214f",Pc="#ea580c",Q4=()=>{const[t,e]=de.useState(Ac),[r,n]=de.useState(Pc);de.useEffect(()=>{const d=localStorage.getItem("custom_primary_color")||Ac,h=localStorage.getItem("custom_secondary_color")||Pc;e(d),n(h),a(d,h)},[]);const a=(d,h)=>{document.documentElement.style.setProperty("--color-primary",d),document.documentElement.style.setProperty("--color-secondary",h)};return{primaryColor:t,secondaryColor:r,setPrimaryColor:d=>{e(d),localStorage.setItem("custom_primary_color",d),a(d,r)},setSecondaryColor:d=>{n(d),localStorage.setItem("custom_secondary_color",d),a(t,d)},resetColors:()=>{e(Ac),n(Pc),localStorage.setItem("custom_primary_color",Ac),localStorage.setItem("custom_secondary_color",Pc),a(Ac,Pc)}}},Z4=({children:t})=>{const e=Q4();return s.jsx(Tv.Provider,{value:e,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(t,e)=>{const r=de.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...h},f)=>de.createElement("svg",{ref:f,...e3,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${t3(t)}`,l].join(" "),...h},[...e.map(([g,y])=>de.createElement(g,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=De("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=De("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=De("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=De("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=De("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=De("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=De("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=De("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=De("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=De("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=De("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=De("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=De("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=De("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=De("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=De("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=De("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=De("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=De("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=De("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=De("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=De("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=De("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=De("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=De("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=De("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),j3=()=>{const[t,e]=de.useState(""),[r,n]=de.useState(""),[a,i]=de.useState(!1),[o,l]=de.useState(!1),[d,h]=de.useState(""),[f,g]=de.useState(!1),{login:y}=Ln();$t();const p=async S=>{S.preventDefault(),l(!0),h("");try{await y(t,r)?g(!0):h("Usuário ou senha inválidos")}catch{h("Erro ao fazer login")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-800 to-blue-700",children:s.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-3xl shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx(An,{className:"text-blue-600",size:40})}),s.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"PDV BANCA"}),s.jsx("p",{className:"text-gray-600",children:"Acesse sua conta para continuar"})]}),f?s.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-4 rounded-xl mb-6 flex items-center gap-3",children:[s.jsx(dt,{size:24,className:"text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Login realizado com sucesso!"}),s.jsx("p",{className:"text-sm",children:"Redirecionando para o sistema..."})]})]}):s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Usuário"}),s.jsxs("div",{className:"relative",children:[s.jsx(uf,{className:"absolute left-4 top-3.5 text-gray-400",size:20}),s.jsx("input",{type:"text",value:t,onChange:S=>e(S.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 rounded-xl focus:ring-4 bg-white border-gray-300 text-gray-800 focus:border-blue-500 focus:ring-blue-500/20",placeholder:"Digite seu usuário",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(h3,{className:"absolute left-4 top-3.5 text-gray-400",size:20}),s.jsx("input",{type:a?"text":"password",value:r,onChange:S=>n(S.target.value),className:"w-full pl-12 pr-12 py-3.5 border-2 rounded-xl focus:ring-4 bg-white border-gray-300 text-gray-800 focus:border-blue-500 focus:ring-blue-500/20",placeholder:"Digite sua senha",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-3.5 text-gray-400 hover:text-gray-600",children:a?s.jsx(Gs,{size:20}):s.jsx(Kr,{size:20})})]})]}),d&&s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl flex items-center gap-2",children:[s.jsx(r3,{size:20,className:"text-red-600"}),s.jsx("span",{children:d})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 px-6 rounded-xl text-white font-medium flex items-center justify-center gap-3 transition-all hover:scale-105 shadow-lg bg-primary",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Entrando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(f3,{size:20}),"Entrar no Sistema"]})})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Powered by ",s.jsx("span",{className:"font-bold text-secondary",children:"CYBERPIU"})]})})]})})},N3=({currentPage:t,onPageChange:e})=>{const{user:r,logout:n,hasPermission:a}=Ln();$t();const[i,o]=de.useState(["sistema","configuracoes"]),l=g=>{o(y=>y.includes(g)?y.filter(p=>p!==g):[...y,g])},h=[{id:"home",label:"Home",icon:c3,permissions:["administrador","gerente","vendedor"]},{id:"pdv",label:"PDV",icon:An,permissions:["administrador","gerente","vendedor"]},{id:"caixa",label:"Controle de Caixa",icon:to,permissions:["administrador","gerente"]},{id:"sistema",label:"Sistema",icon:mi,permissions:["administrador","gerente"],isExpandable:!0,subItems:[{id:"produtos",label:"Produtos",icon:mr,permissions:["administrador","gerente"]},{id:"categorias",label:"Categorias",icon:ns,permissions:["administrador","gerente"]},{id:"fornecedores",label:"Fornecedores",icon:Tl,permissions:["administrador","gerente"]},{id:"financeiro",label:"Financeiro",icon:ar,permissions:["administrador","gerente"]}]},{id:"configuracoes",label:"Configurações",icon:mi,permissions:["administrador"],isExpandable:!0,subItems:[{id:"dados-empresa",label:"Dados da Empresa",icon:Na,permissions:["administrador"]},{id:"usuarios",label:"Usuários",icon:jn,permissions:["administrador"]},{id:"cargos-permissoes",label:"Cargos e Permissões",icon:Kn,permissions:["administrador"]},{id:"aparencia",label:"Aparência",icon:tp,permissions:["administrador"]},{id:"tutorial",label:"Tutorial",icon:Dv,permissions:["administrador","gerente","vendedor"]},{id:"notificacoes",label:"Notificações",icon:Xa,permissions:["administrador"]},{id:"backup",label:"Backup",icon:zv,permissions:["administrador"]}]}].filter(g=>a(g.permissions)),f=(g,y=!1)=>{const p=g.icon,S=t===g.id,_=i.includes(g.id);return g.isExpandable?g.subItems.some(w=>a(w.permissions))?s.jsxs("div",{className:"mb-1",children:[s.jsxs("button",{onClick:()=>l(g.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all duration-200 ${S?"bg-secondary text-white shadow-lg":"text-blue-100 hover:text-white hover:bg-blue-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(p,{size:20}),s.jsx("span",{className:"font-medium",children:g.label})]}),_?s.jsx(Ov,{size:16}):s.jsx(Mv,{size:16})]}),_&&g.subItems&&s.jsx("div",{className:"ml-4 mt-2 space-y-1",children:g.subItems.filter(w=>a(w.permissions)).map(w=>f(w,!0))})]},g.id):null:s.jsxs("button",{onClick:()=>e(g.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-all duration-200 ${y?"text-sm":""} ${S?"bg-secondary text-white shadow-lg":"text-blue-100 hover:text-white hover:bg-blue-700"}`,children:[s.jsx(p,{size:y?18:20}),s.jsx("span",{className:y?"font-normal":"font-medium",children:g.label})]},g.id)};return s.jsxs("div",{className:"w-64 min-h-screen flex flex-col shadow-2xl text-white bg-gradient-to-b from-primary via-blue-800 to-blue-900",children:[s.jsxs("div",{className:"p-6 border-b border-blue-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-secondary",children:s.jsx(An,{size:20,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"PDV BANCA"}),s.jsx("p",{className:"text-sm text-blue-200",children:"SISTEMAS ERP"})]})]}),s.jsx("div",{className:"mt-4 p-3 rounded-lg bg-blue-800/50 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-secondary",children:s.jsx(jn,{size:16,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm text-white",children:r==null?void 0:r.nome}),s.jsx("p",{className:"text-xs capitalize text-blue-200",children:r==null?void 0:r.tipo})]})]})})]}),s.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:h.map(g=>f(g))})}),s.jsxs("div",{className:"p-4 border-t border-blue-600/30",children:[s.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 text-blue-100 hover:text-white hover:bg-red-600",children:[s.jsx(m3,{size:20}),s.jsx("span",{className:"font-medium",children:"Sair do Sistema"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:"text-xs text-blue-300",children:[s.jsx("p",{children:"PDV Banca de Jornal"}),s.jsx("p",{children:"v1.0.0 - Sistema ERP"})]})})]})]})},w1=()=>{const{theme:t}=$t(),[e,r]=de.useState(new Date);return de.useEffect(()=>{const n=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(n)},[]),s.jsx("div",{className:`min-h-screen p-8 ${t==="dark"?"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800":"bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100"}`,children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("div",{className:"w-32 h-32 mx-auto rounded-full shadow-2xl flex items-center justify-center mb-8 bg-gradient-to-br from-primary to-secondary",children:s.jsx(An,{size:60,className:"text-white"})}),s.jsxs("div",{className:`${t==="dark"?"text-white":"text-gray-800"}`,children:[s.jsxs("h1",{className:"text-6xl font-black mb-4 tracking-tight",children:[s.jsx("span",{className:"text-primary",children:"PDV"}),s.jsx("span",{className:"mx-2 text-secondary",children:"•"}),s.jsx("span",{className:"text-secondary",children:"BANCA"})]}),s.jsx("div",{className:"text-2xl font-bold mb-6 text-primary",children:"SISTEMA INTELIGENTE DE VENDAS"}),s.jsx("p",{className:`text-xl max-w-2xl mx-auto leading-relaxed ${t==="dark"?"text-blue-200":"text-slate-600"}`,children:"Solução completa para gestão de vendas, estoque e controle financeiro."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:[s.jsx("div",{className:`p-6 rounded-2xl shadow-xl backdrop-blur-sm border ${t==="dark"?"bg-slate-800/80 border-blue-700/50":"bg-white/80 border-blue-200/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-primary",children:s.jsx(Jr,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),s.jsx("div",{className:`text-sm ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:e.toLocaleDateString("pt-BR",{weekday:"long"})})]})]})}),s.jsx("div",{className:`p-6 rounded-2xl shadow-xl backdrop-blur-sm border ${t==="dark"?"bg-slate-800/80 border-blue-700/50":"bg-white/80 border-blue-200/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-secondary",children:s.jsx(ea,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-secondary",children:e.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),s.jsx("div",{className:`text-sm ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:"Hora Atual"})]})]})}),s.jsx("div",{className:`p-6 rounded-2xl shadow-xl backdrop-blur-sm border ${t==="dark"?"bg-slate-800/80 border-blue-700/50":"bg-white/80 border-blue-200/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-green-600",children:s.jsx(ta,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"ONLINE"}),s.jsx("div",{className:`text-sm ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:"Sistema Ativo"})]})]})}),s.jsx("div",{className:`p-6 rounded-2xl shadow-xl backdrop-blur-sm border ${t==="dark"?"bg-slate-800/80 border-blue-700/50":"bg-white/80 border-blue-200/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-blue-600",children:s.jsx(mr,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"v1.0"}),s.jsx("div",{className:`text-sm ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:"Versão Atual"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[s.jsxs("div",{className:`p-8 rounded-2xl shadow-xl text-center ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl flex items-center justify-center mb-6 bg-primary",children:s.jsx(An,{className:"text-white",size:32})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-primary",children:"PDV Inteligente"}),s.jsx("p",{className:`${t==="dark"?"text-blue-200":"text-slate-600"}`,children:"Sistema de vendas completo com controle de estoque e múltiplas formas de pagamento."})]}),s.jsxs("div",{className:`p-8 rounded-2xl shadow-xl text-center ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl flex items-center justify-center mb-6 bg-secondary",children:s.jsx(ar,{className:"text-white",size:32})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-secondary",children:"Controle Financeiro"}),s.jsx("p",{className:`${t==="dark"?"text-blue-200":"text-slate-600"}`,children:"Gestão completa de caixa, movimentações financeiras e relatórios detalhados."})]}),s.jsxs("div",{className:`p-8 rounded-2xl shadow-xl text-center ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-2xl flex items-center justify-center mb-6 bg-blue-600",children:s.jsx(jn,{className:"text-white",size:32})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-blue-600",children:"Multi-usuário"}),s.jsx("p",{className:`${t==="dark"?"text-blue-200":"text-slate-600"}`,children:"Sistema com controle de permissões e auditoria completa de operações."})]})]}),s.jsxs("div",{className:`text-center ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:[s.jsxs("div",{className:"text-4xl font-black mb-4",children:[s.jsx("span",{className:"text-primary",children:"Powered by"}),s.jsx("span",{className:"mx-3 text-secondary",children:"•"}),s.jsx("span",{className:"text-secondary",children:"CYBERPIU"})]}),s.jsx("p",{className:"text-lg",children:"Tecnologia e Inovação para o seu Negócio"}),s.jsxs("div",{className:"text-sm mt-4",children:[s.jsx("p",{children:"Sistema PDV Banca de Jornal v1.0.0"}),s.jsx("p",{children:"© 2024 CYBERPIU. Todos os direitos reservados."})]})]})]})})};class k3{async createUser(e){return await Ft.createUser(e)}async getAllUsers(){return await Ft.getAllUsers()}async updateUser(e,r){return await Ft.updateUser(e,r)}async getUserByCredentials(e,r){return await Ft.getUserByCredentials(e,r)}async createProduct(e){return await Ft.createProduct(e)}async getAllProducts(){return await Ft.getAllProducts()}async updateProduct(e,r){return await Ft.updateProduct(e,r)}async getProductByCode(e){return await Ft.getProductByCode(e)}async createSupplier(e){return await Ft.createSupplier(e)}async getAllSuppliers(){return await Ft.getAllSuppliers()}async updateSupplier(e,r){return await Ft.updateSupplier(e,r)}async createCashRegister(e){return await Ft.createCashRegister(e)}async getAllCashRegisters(){return await Ft.getAllCashRegisters()}async updateCashRegister(e,r){return await Ft.updateCashRegister(e,r)}async openCashSession(e){return await Ft.openCashSession(e)}async closeCashSession(e,r,n){return await Ft.closeCashSession(e,r,n)}async getAllCashSessions(){return await Ft.getAllCashSessions()}async createCashMovement(e){return await Ft.createCashMovement(e)}async getAllCashMovements(){return await Ft.getAllCashMovements()}async createSale(e){return await Ft.createSale(e)}async getAllSales(){return await Ft.getAllSales()}async createExpense(e){return await Ft.createExpense(e)}async getAllExpenses(){return await Ft.getAllExpenses()}async updateExpense(e,r){return await Ft.updateExpense(e,r)}async deleteExpense(e){return await Ft.deleteExpense(e)}async initializeData(){console.log("Database service initialized")}async exportData(){return await Ft.exportData()}}const tt=new k3,S3=({total:t,onClose:e,onPaymentComplete:r})=>{const{theme:n}=$t(),[a,i]=de.useState([]),[o,l]=de.useState({tipo:"dinheiro",valor:t}),[d,h]=de.useState(t),[f,g]=de.useState(!1),y=[{id:"dinheiro",label:"Dinheiro",icon:gd,color:"#22c55e"},{id:"cartao_debito",label:"Cartão Débito",icon:rs,color:"#3b82f6"},{id:"cartao_credito",label:"Cartão Crédito",icon:rs,color:"#8b5cf6"},{id:"pix",label:"PIX",icon:_d,color:"#06b6d4"},{id:"vale",label:"Vale",icon:i3,color:"#f59e0b"}],p=()=>a.reduce((v,N)=>v+N.valor,0)+o.valor,S=()=>{if(o.tipo!=="dinheiro")return 0;const v=p();return v>t?v-t:0},_=()=>{const v=o.valor>0?[...a,o]:a;if(v.reduce((A,k)=>A+k.valor,0)<t){alert("Valor insuficiente para completar o pagamento!");return}g(!0),setTimeout(()=>{r(v,S()),g(!1)},1e3)},O=()=>p()>=t;de.useEffect(()=>{o.tipo==="dinheiro"&&l(v=>({...v,valor:d}))},[d,o.tipo]);const w=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:`rounded-xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl ${n==="dark"?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-secondary",children:s.jsx(ar,{size:24,className:"text-white"})}),"Finalizar Venda"]}),s.jsx("button",{onClick:e,className:`p-2 rounded-xl transition-all hover:scale-110 ${n==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:`p-6 rounded-xl mb-6 ${n==="dark"?"bg-gray-700":"bg-blue-50"}`,children:s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-primary",children:s.jsx(to,{size:20,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total a Pagar"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:w(t)})]})]})})}),s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(rs,{size:20}),"Forma de Pagamento"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:y.map(v=>{const N=v.icon;return s.jsxs("button",{onClick:()=>l(A=>({...A,tipo:v.id})),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${o.tipo===v.id?"border-primary bg-primary/10":n==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:v.color},children:s.jsx(N,{size:20,className:"text-white"})}),s.jsx("span",{className:"font-medium",children:v.label})]},v.id)})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold mb-3",children:o.tipo==="dinheiro"?"Valor Recebido":"Valor do Pagamento"}),s.jsx("input",{type:"number",step:"0.01",value:o.tipo==="dinheiro"?d:o.valor,onChange:v=>{const N=parseFloat(v.target.value)||0;o.tipo==="dinheiro"?h(N):l(A=>({...A,valor:N}))},className:`w-full px-4 py-4 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all text-2xl font-bold text-center ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,autoFocus:!0})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx(to,{size:20}),"Resumo do Pagamento"]}),s.jsx("div",{className:`p-6 rounded-xl mb-6 ${n==="dark"?"bg-gray-700":"bg-gray-100"}`,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-500",children:"Total da Venda:"}),s.jsx("span",{className:"font-bold",children:w(t)})]}),S()>0&&s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[s.jsx("span",{className:"font-bold text-green-600",children:"Troco:"}),s.jsx("span",{className:"font-bold text-green-600",children:w(S())})]})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:e,className:`flex-1 border-2 py-4 px-6 rounded-xl font-bold transition-all hover:scale-105 ${n==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsx("button",{onClick:_,disabled:!O()||f,className:`flex-1 py-4 px-6 rounded-xl text-white font-bold transition-all hover:scale-105 flex items-center justify-center gap-3 ${!O()||f?"bg-gray-400 cursor-not-allowed":"bg-secondary"}`,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Processando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:20}),"Finalizar Venda"]})})]})]})]})]})})};function Gt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Pn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function sh(t,e){const r=Gt(t);return isNaN(e)?Pn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function _3(t,e){const r=Gt(t);if(isNaN(e))return Pn(t,NaN);if(!e)return r;const n=r.getDate(),a=Pn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Bv=6048e5,C3=864e5,Uv=6e4,Vv=36e5;let A3={};function hf(){return A3}function lo(t,e){var l,d,h,f;const r=hf(),n=(e==null?void 0:e.weekStartsOn)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,a=Gt(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Oh(t){return lo(t,{weekStartsOn:1})}function Hv(t){const e=Gt(t),r=e.getFullYear(),n=Pn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Oh(n),i=Pn(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Oh(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function vi(t){const e=Gt(t);return e.setHours(0,0,0,0),e}function j1(t){const e=Gt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function P3(t,e){const r=vi(t),n=vi(e),a=+r-j1(r),i=+n-j1(n);return Math.round((a-i)/C3)}function L3(t){const e=Hv(t),r=Pn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Oh(r)}function ff(t){return Pn(t,Date.now())}function Kc(t,e){const r=vi(t),n=vi(e);return+r==+n}function E3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function I3(t){if(!E3(t)&&typeof t!="number")return!1;const e=Gt(t);return!isNaN(Number(e))}function Mh(t){const e=Gt(t);return e.setHours(23,59,59,999),e}function F3(t){const e=Gt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function T3(t){const e=Gt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function D3(t){const e=Gt(t),r=Pn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const O3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M3=(t,e,r)=>{let n;const a=O3[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wl(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const z3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q3={date:wl({formats:z3,defaultWidth:"full"}),time:wl({formats:$3,defaultWidth:"full"}),dateTime:wl({formats:R3,defaultWidth:"full"})},B3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U3=(t,e,r,n)=>B3[t];function Jn(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const V3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K3=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},X3={ordinalNumber:K3,era:Jn({values:V3,defaultWidth:"wide"}),quarter:Jn({values:H3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jn({values:W3,defaultWidth:"wide"}),day:Jn({values:G3,defaultWidth:"wide"}),dayPeriod:Jn({values:J3,defaultWidth:"wide",formattingValues:Y3,defaultFormattingWidth:"wide"})};function Yn(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?Z3(l,g=>g.test(o)):Q3(l,g=>g.test(o));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const f=e.slice(o.length);return{value:h,rest:f}}}function Q3(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Z3(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Wv(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const e6=/^(\d+)(th|st|nd|rd)?/i,t6=/\d+/i,r6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s6={any:[/^b/i,/^(a|c)/i]},n6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a6={any:[/1/i,/2/i,/3/i,/4/i]},i6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},o6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},d6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},u6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},h6={ordinalNumber:Wv({matchPattern:e6,parsePattern:t6,valueCallback:t=>parseInt(t,10)}),era:Yn({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:s6,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:n6,defaultMatchWidth:"wide",parsePatterns:a6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yn({matchPatterns:i6,defaultMatchWidth:"wide",parsePatterns:o6,defaultParseWidth:"any"}),day:Yn({matchPatterns:l6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:d6,defaultMatchWidth:"any",parsePatterns:u6,defaultParseWidth:"any"})},f6={code:"en-US",formatDistance:M3,formatLong:q3,formatRelative:U3,localize:X3,match:h6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function m6(t){const e=Gt(t);return P3(e,D3(e))+1}function p6(t){const e=Gt(t),r=+Oh(e)-+L3(e);return Math.round(r/Bv)+1}function Gv(t,e){var f,g,y,p;const r=Gt(t),n=r.getFullYear(),a=hf(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(y=a.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)??1,o=Pn(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=lo(o,e),d=Pn(t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const h=lo(d,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function g6(t,e){var l,d,h,f;const r=hf(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=Gv(t,e),i=Pn(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),lo(i,e)}function x6(t,e){const r=Gt(t),n=+lo(r,e)-+g6(r,e);return Math.round(n/Bv)+1}function _t(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ga={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return _t(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):_t(r+1,2)},d(t,e){return _t(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return _t(t.getHours()%12||12,e.length)},H(t,e){return _t(t.getHours(),e.length)},m(t,e){return _t(t.getMinutes(),e.length)},s(t,e){return _t(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return _t(a,e.length)}},Yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N1={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ga.y(t,e)},Y:function(t,e,r,n){const a=Gv(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return _t(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):_t(i,e.length)},R:function(t,e){const r=Hv(t);return _t(r,e.length)},u:function(t,e){const r=t.getFullYear();return _t(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return _t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return _t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ga.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return _t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=x6(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):_t(a,e.length)},I:function(t,e,r){const n=p6(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):_t(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ga.d(t,e)},D:function(t,e,r){const n=m6(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_t(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return _t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return _t(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return _t(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Yo.noon:n===0?a=Yo.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Yo.evening:n>=12?a=Yo.afternoon:n>=4?a=Yo.morning:a=Yo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ga.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ga.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ga.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ga.s(t,e)},S:function(t,e){return Ga.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return S1(n);case"XXXX":case"XX":return Vi(n);case"XXXXX":case"XXX":default:return Vi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return S1(n);case"xxxx":case"xx":return Vi(n);case"xxxxx":case"xxx":default:return Vi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+k1(n,":");case"OOOO":default:return"GMT"+Vi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+k1(n,":");case"zzzz":default:return"GMT"+Vi(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return _t(n,e.length)},T:function(t,e,r){const n=t.getTime();return _t(n,e.length)}};function k1(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+_t(i,2)}function S1(t,e){return t%60===0?(t>0?"-":"+")+_t(Math.abs(t)/60,2):Vi(t,e)}function Vi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=_t(Math.trunc(n/60),2),i=_t(n%60,2);return r+a+e+i}const _1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Jv=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},y6=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return _1(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",_1(n,e)).replace("{{time}}",Jv(a,e))},v6={p:Jv,P:y6},b6=/^D+$/,w6=/^Y+$/,j6=["D","DD","YY","YYYY"];function N6(t){return b6.test(t)}function k6(t){return w6.test(t)}function S6(t,e,r){const n=_6(t,e,r);if(console.warn(n),j6.includes(t))throw new RangeError(n)}function _6(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const C6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P6=/^'([^]*?)'?$/,L6=/''/g,E6=/[a-zA-Z]/;function He(t,e,r){var f,g,y,p,S,_,O,w;const n=hf(),a=(r==null?void 0:r.locale)??n.locale??f6,i=(r==null?void 0:r.firstWeekContainsDate)??((g=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(y=n.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((_=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((w=(O=n.locale)==null?void 0:O.options)==null?void 0:w.weekStartsOn)??0,l=Gt(t);if(!I3(l))throw new RangeError("Invalid time value");let d=e.match(A6).map(v=>{const N=v[0];if(N==="p"||N==="P"){const A=v6[N];return A(v,a.formatLong)}return v}).join("").match(C6).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const N=v[0];if(N==="'")return{isToken:!1,value:I6(v)};if(N1[N])return{isToken:!0,value:v};if(N.match(E6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(v=>{if(!v.isToken)return v.value;const N=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&k6(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&N6(N))&&S6(N,e,String(t));const A=N1[N[0]];return A(l,N,a.localize,h)}).join("")}function I6(t){const e=t.match(P6);return e?e[1].replace(L6,"'"):t}function F6(t,e){const r=Gt(t),n=Gt(e);return r.getTime()>n.getTime()}function zu(t){return+Gt(t)<Date.now()}function T6(t,e,r){const n=lo(t,r),a=lo(e,r);return+n==+a}function D6(t,e){const r=Gt(t),n=Gt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function O6(t){return D6(t,ff(t))}function M6(t,e){return T6(t,ff(t),e)}function Wn(t){return Kc(t,ff(t))}function C1(t,e){const r=+Gt(t),[n,a]=[+Gt(e.start),+Gt(e.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function zh(t,e){return sh(t,-e)}function mf(t){return Kc(t,zh(ff(t),1))}function cr(t,e){const n=q6(t);let a;if(n.date){const d=B6(n.date,2);a=U6(d.restDateString,d.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=V6(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=H6(n.timezone),isNaN(l))return new Date(NaN)}else{const d=new Date(i+o),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(i+o+l)}const $u={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},z6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q6(t){const e={},r=t.split($u.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],$u.timeZoneDelimiter.test(e.date)&&(e.date=t.split($u.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=$u.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function B6(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function U6(t,e){if(e===null)return new Date(NaN);const r=t.match(z6);if(!r)return new Date(NaN);const n=!!r[4],a=Lc(r[1]),i=Lc(r[2])-1,o=Lc(r[3]),l=Lc(r[4]),d=Lc(r[5])-1;if(n)return K6(e,l,d)?W6(e,l,d):new Date(NaN);{const h=new Date(0);return!J6(e,i,o)||!Y6(e,a)?new Date(NaN):(h.setUTCFullYear(e,i,Math.max(a,o)),h)}}function Lc(t){return t?parseInt(t):1}function V6(t){const e=t.match($6);if(!e)return NaN;const r=q0(e[1]),n=q0(e[2]),a=q0(e[3]);return X6(r,n,a)?r*Vv+n*Uv+a*1e3:NaN}function q0(t){return t&&parseFloat(t.replace(",","."))||0}function H6(t){if(t==="Z")return 0;const e=t.match(R6);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Q6(n,a)?r*(n*Vv+a*Uv):NaN}function W6(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const G6=[31,null,31,30,31,30,31,31,30,31,30,31];function Yv(t){return t%400===0||t%4===0&&t%100!==0}function J6(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(G6[e]||(Yv(t)?29:28))}function Y6(t,e){return e>=1&&e<=(Yv(t)?366:365)}function K6(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function X6(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Q6(t,e){return e>=0&&e<=59}const Z6={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},ek=(t,e,r)=>{let n;const a=Z6[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},tk={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},rk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sk={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nk={date:wl({formats:tk,defaultWidth:"full"}),time:wl({formats:rk,defaultWidth:"full"}),dateTime:wl({formats:sk,defaultWidth:"full"})},ak={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},ik=(t,e,r,n)=>{const a=ak[t];return typeof a=="function"?a(e):a},ok={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},lk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},ck={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},dk={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},uk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},hk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},fk=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"ª":r+"º"},mk={ordinalNumber:fk,era:Jn({values:ok,defaultWidth:"wide"}),quarter:Jn({values:lk,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jn({values:ck,defaultWidth:"wide"}),day:Jn({values:dk,defaultWidth:"wide"}),dayPeriod:Jn({values:uk,defaultWidth:"wide",formattingValues:hk,defaultFormattingWidth:"wide"})},pk=/^(\d+)[ºªo]?/i,gk=/\d+/i,xk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},yk={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},vk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},bk={any:[/1/i,/2/i,/3/i,/4/i]},wk={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},jk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Nk={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},kk={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Sk={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},_k={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Ck={ordinalNumber:Wv({matchPattern:pk,parsePattern:gk,valueCallback:t=>parseInt(t,10)}),era:Yn({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),quarter:Yn({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:bk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yn({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:jk,defaultParseWidth:"any"}),day:Yn({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:kk,defaultParseWidth:"any"}),dayPeriod:Yn({matchPatterns:Sk,defaultMatchWidth:"any",parsePatterns:_k,defaultParseWidth:"any"})},Qe={code:"pt-BR",formatDistance:ek,formatLong:nk,formatRelative:ik,localize:mk,match:Ck,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ct(t){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}var Yr=Uint8Array,Ls=Uint16Array,gg=Int32Array,pf=new Yr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gf=new Yr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rp=new Yr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kv=function(t,e){for(var r=new Ls(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new gg(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Xv=Kv(pf,2),Qv=Xv.b,sp=Xv.r;Qv[28]=258,sp[258]=28;var Zv=Kv(gf,0),Ak=Zv.b,A1=Zv.r,np=new Ls(32768);for(var qt=0;qt<32768;++qt){var Ja=(qt&43690)>>1|(qt&21845)<<1;Ja=(Ja&52428)>>2|(Ja&13107)<<2,Ja=(Ja&61680)>>4|(Ja&3855)<<4,np[qt]=((Ja&65280)>>8|(Ja&255)<<8)>>1}var ra=function(t,e,r){for(var n=t.length,a=0,i=new Ls(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new Ls(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Ls(1<<e);var d=15-e;for(a=0;a<n;++a)if(t[a])for(var h=a<<4|t[a],f=e-t[a],g=o[t[a]-1]++<<f,y=g|(1<<f)-1;g<=y;++g)l[np[g]>>d]=h}else for(l=new Ls(n),a=0;a<n;++a)t[a]&&(l[a]=np[o[t[a]-1]++]>>15-t[a]);return l},bi=new Yr(288);for(var qt=0;qt<144;++qt)bi[qt]=8;for(var qt=144;qt<256;++qt)bi[qt]=9;for(var qt=256;qt<280;++qt)bi[qt]=7;for(var qt=280;qt<288;++qt)bi[qt]=8;var xd=new Yr(32);for(var qt=0;qt<32;++qt)xd[qt]=5;var Pk=ra(bi,9,0),Lk=ra(bi,9,1),Ek=ra(xd,5,0),Ik=ra(xd,5,1),B0=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},mn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},U0=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},xg=function(t){return(t+7)/8|0},eb=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Yr(t.subarray(e,r))},Fk=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yn=function(t,e,r){var n=new Error(e||Fk[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,yn),!r)throw n;return n},Tk=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Yr(0);var o=!r,l=o||e.i!=2,d=e.i;o&&(r=new Yr(a*3));var h=function(ke){var ve=r.length;if(ke>ve){var Ie=new Yr(Math.max(ve*2,ke));Ie.set(r),r=Ie}},f=e.f||0,g=e.p||0,y=e.b||0,p=e.l,S=e.d,_=e.m,O=e.n,w=a*8;do{if(!p){f=mn(t,g,1);var v=mn(t,g+1,3);if(g+=3,v)if(v==1)p=Lk,S=Ik,_=9,O=5;else if(v==2){var U=mn(t,g,31)+257,M=mn(t,g+10,15)+4,E=U+mn(t,g+5,31)+1;g+=14;for(var H=new Yr(E),se=new Yr(19),T=0;T<M;++T)se[rp[T]]=mn(t,g+T*3,7);g+=M*3;for(var L=B0(se),$=(1<<L)-1,V=ra(se,L,1),T=0;T<E;){var Y=V[mn(t,g,$)];g+=Y&15;var N=Y>>4;if(N<16)H[T++]=N;else{var re=0,ne=0;for(N==16?(ne=3+mn(t,g,3),g+=2,re=H[T-1]):N==17?(ne=3+mn(t,g,7),g+=3):N==18&&(ne=11+mn(t,g,127),g+=7);ne--;)H[T++]=re}}var R=H.subarray(0,U),W=H.subarray(U);_=B0(R),O=B0(W),p=ra(R,_,1),S=ra(W,O,1)}else yn(1);else{var N=xg(g)+4,A=t[N-4]|t[N-3]<<8,k=N+A;if(k>a){d&&yn(0);break}l&&h(y+A),r.set(t.subarray(N,k),y),e.b=y+=A,e.p=g=k*8,e.f=f;continue}if(g>w){d&&yn(0);break}}l&&h(y+131072);for(var G=(1<<_)-1,ue=(1<<O)-1,b=g;;b=g){var re=p[U0(t,g)&G],q=re>>4;if(g+=re&15,g>w){d&&yn(0);break}if(re||yn(2),q<256)r[y++]=q;else if(q==256){b=g,p=null;break}else{var F=q-254;if(q>264){var T=q-257,te=pf[T];F=mn(t,g,(1<<te)-1)+Qv[T],g+=te}var Z=S[U0(t,g)&ue],pe=Z>>4;Z||yn(3),g+=Z&15;var W=Ak[pe];if(pe>3){var te=gf[pe];W+=U0(t,g)&(1<<te)-1,g+=te}if(g>w){d&&yn(0);break}l&&h(y+131072);var K=y+F;if(y<W){var ce=i-W,he=Math.min(W,K);for(ce+y<0&&yn(3);y<he;++y)r[y]=n[ce+y]}for(;y<K;++y)r[y]=r[y-W]}}e.l=p,e.p=b,e.b=y,e.f=f,p&&(f=1,e.m=_,e.d=S,e.n=O)}while(!f);return y!=r.length&&o?eb(r,0,y):r.subarray(0,y)},pa=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ec=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},V0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:rb,l:0};if(a==1){var o=new Yr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(k,U){return k.f-U.f}),r.push({s:-1,f:25001});var l=r[0],d=r[1],h=0,f=1,g=2;for(r[0]={s:-1,f:l.f+d.f,l,r:d};f!=a-1;)l=r[r[h].f<r[g].f?h++:g++],d=r[h!=f&&r[h].f<r[g].f?h++:g++],r[f++]={s:-1,f:l.f+d.f,l,r:d};for(var y=i[0].s,n=1;n<a;++n)i[n].s>y&&(y=i[n].s);var p=new Ls(y+1),S=ap(r[f-1],p,0);if(S>e){var n=0,_=0,O=S-e,w=1<<O;for(i.sort(function(U,M){return p[M.s]-p[U.s]||U.f-M.f});n<a;++n){var v=i[n].s;if(p[v]>e)_+=w-(1<<S-p[v]),p[v]=e;else break}for(_>>=O;_>0;){var N=i[n].s;p[N]<e?_-=1<<e-p[N]++-1:++n}for(;n>=0&&_;--n){var A=i[n].s;p[A]==e&&(--p[A],++_)}S=e}return{t:new Yr(p),l:S}},ap=function(t,e,r){return t.s==-1?Math.max(ap(t.l,e,r+1),ap(t.r,e,r+1)):e[t.s]=r},P1=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ls(++e),n=0,a=t[0],i=1,o=function(d){r[n++]=d},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Ic=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},tb=function(t,e,r){var n=r.length,a=xg(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},L1=function(t,e,r,n,a,i,o,l,d,h,f){pa(e,f++,r),++a[256];for(var g=V0(a,15),y=g.t,p=g.l,S=V0(i,15),_=S.t,O=S.l,w=P1(y),v=w.c,N=w.n,A=P1(_),k=A.c,U=A.n,M=new Ls(19),E=0;E<v.length;++E)++M[v[E]&31];for(var E=0;E<k.length;++E)++M[k[E]&31];for(var H=V0(M,7),se=H.t,T=H.l,L=19;L>4&&!se[rp[L-1]];--L);var $=h+5<<3,V=Ic(a,bi)+Ic(i,xd)+o,Y=Ic(a,y)+Ic(i,_)+o+14+3*L+Ic(M,se)+2*M[16]+3*M[17]+7*M[18];if(d>=0&&$<=V&&$<=Y)return tb(e,f,t.subarray(d,d+h));var re,ne,R,W;if(pa(e,f,1+(Y<V)),f+=2,Y<V){re=ra(y,p,0),ne=y,R=ra(_,O,0),W=_;var G=ra(se,T,0);pa(e,f,N-257),pa(e,f+5,U-1),pa(e,f+10,L-4),f+=14;for(var E=0;E<L;++E)pa(e,f+3*E,se[rp[E]]);f+=3*L;for(var ue=[v,k],b=0;b<2;++b)for(var q=ue[b],E=0;E<q.length;++E){var F=q[E]&31;pa(e,f,G[F]),f+=se[F],F>15&&(pa(e,f,q[E]>>5&127),f+=q[E]>>12)}}else re=Pk,ne=bi,R=Ek,W=xd;for(var E=0;E<l;++E){var te=n[E];if(te>255){var F=te>>18&31;Ec(e,f,re[F+257]),f+=ne[F+257],F>7&&(pa(e,f,te>>23&31),f+=pf[F]);var Z=te&31;Ec(e,f,R[Z]),f+=W[Z],Z>3&&(Ec(e,f,te>>5&8191),f+=gf[Z])}else Ec(e,f,re[te]),f+=ne[te]}return Ec(e,f,re[256]),f+ne[256]},Dk=new gg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rb=new Yr(0),Ok=function(t,e,r,n,a,i){var o=i.z||t.length,l=new Yr(n+o+5*(1+Math.ceil(o/7e3))+a),d=l.subarray(n,l.length-a),h=i.l,f=(i.r||0)&7;if(e){f&&(d[0]=i.r>>3);for(var g=Dk[e-1],y=g>>13,p=g&8191,S=(1<<r)-1,_=i.p||new Ls(32768),O=i.h||new Ls(S+1),w=Math.ceil(r/3),v=2*w,N=function(Ve){return(t[Ve]^t[Ve+1]<<w^t[Ve+2]<<v)&S},A=new gg(25e3),k=new Ls(288),U=new Ls(32),M=0,E=0,H=i.i||0,se=0,T=i.w||0,L=0;H+2<o;++H){var $=N(H),V=H&32767,Y=O[$];if(_[V]=Y,O[$]=V,T<=H){var re=o-H;if((M>7e3||se>24576)&&(re>423||!h)){f=L1(t,d,0,A,k,U,E,se,L,H-L,f),se=M=E=0,L=H;for(var ne=0;ne<286;++ne)k[ne]=0;for(var ne=0;ne<30;++ne)U[ne]=0}var R=2,W=0,G=p,ue=V-Y&32767;if(re>2&&$==N(H-ue))for(var b=Math.min(y,re)-1,q=Math.min(32767,H),F=Math.min(258,re);ue<=q&&--G&&V!=Y;){if(t[H+R]==t[H+R-ue]){for(var te=0;te<F&&t[H+te]==t[H+te-ue];++te);if(te>R){if(R=te,W=ue,te>b)break;for(var Z=Math.min(ue,te-2),pe=0,ne=0;ne<Z;++ne){var K=H-ue+ne&32767,ce=_[K],he=K-ce&32767;he>pe&&(pe=he,Y=K)}}}V=Y,Y=_[V],ue+=V-Y&32767}if(W){A[se++]=268435456|sp[R]<<18|A1[W];var ke=sp[R]&31,ve=A1[W]&31;E+=pf[ke]+gf[ve],++k[257+ke],++U[ve],T=H+R,++M}else A[se++]=t[H],++k[t[H]]}}for(H=Math.max(H,T);H<o;++H)A[se++]=t[H],++k[t[H]];f=L1(t,d,h,A,k,U,E,se,L,H-L,f),h||(i.r=f&7|d[f/8|0]<<3,f-=7,i.h=O,i.p=_,i.i=H,i.w=T)}else{for(var H=i.w||0;H<o+h;H+=65535){var Ie=H+65535;Ie>=o&&(d[f/8|0]=h,Ie=o),f=tb(d,f+1,t.subarray(H,Ie))}i.i=o}return eb(l,0,n+xg(f)+a)},sb=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Mk=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Yr(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return Ok(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},nb=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},zk=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=sb();a.p(e.dictionary),nb(t,2,a.d())}},$k=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&yn(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&yn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function ip(t,e){e||(e={});var r=sb();r.p(t);var n=Mk(t,e,e.dictionary?6:2,4);return zk(n,e),nb(n,n.length-4,r.d()),n}function Rk(t,e){return Tk(t.subarray($k(t,e),-4),{i:2},e,e)}var qk=typeof TextDecoder<"u"&&new TextDecoder,Bk=0;try{qk.decode(rb,{stream:!0}),Bk=1}catch{}var Xe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function H0(){Xe.console&&typeof Xe.console.log=="function"&&Xe.console.log.apply(Xe.console,arguments)}var Tt={log:H0,warn:function(t){Xe.console&&(typeof Xe.console.warn=="function"?Xe.console.warn.apply(Xe.console,arguments):H0.call(null,arguments))},error:function(t){Xe.console&&(typeof Xe.console.error=="function"?Xe.console.error.apply(Xe.console,arguments):H0(t))}};function W0(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Hi(n.response,e,r)},n.onerror=function(){Tt.error("could not download file")},n.send()}function E1(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ru(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Xc,op,Hi=Xe.saveAs||((typeof window>"u"?"undefined":Ct(window))!=="object"||window!==Xe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Xe.URL||Xe.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?E1(a.href)?W0(t,e,r):Ru(a,a.target="_blank"):Ru(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Ru(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(E1(t))W0(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ru(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ct(i)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return W0(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Xe.HTMLElement)||Xe.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Ct(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var d=Xe.URL||Xe.webkitURL,h=d.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ab(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+l+d+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function G0(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Ur(r,n,a,i,e[0],7,-680876936),i=Ur(i,r,n,a,e[1],12,-389564586),a=Ur(a,i,r,n,e[2],17,606105819),n=Ur(n,a,i,r,e[3],22,-1044525330),r=Ur(r,n,a,i,e[4],7,-176418897),i=Ur(i,r,n,a,e[5],12,1200080426),a=Ur(a,i,r,n,e[6],17,-1473231341),n=Ur(n,a,i,r,e[7],22,-45705983),r=Ur(r,n,a,i,e[8],7,1770035416),i=Ur(i,r,n,a,e[9],12,-1958414417),a=Ur(a,i,r,n,e[10],17,-42063),n=Ur(n,a,i,r,e[11],22,-1990404162),r=Ur(r,n,a,i,e[12],7,1804603682),i=Ur(i,r,n,a,e[13],12,-40341101),a=Ur(a,i,r,n,e[14],17,-1502002290),r=Vr(r,n=Ur(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Vr(i,r,n,a,e[6],9,-1069501632),a=Vr(a,i,r,n,e[11],14,643717713),n=Vr(n,a,i,r,e[0],20,-373897302),r=Vr(r,n,a,i,e[5],5,-701558691),i=Vr(i,r,n,a,e[10],9,38016083),a=Vr(a,i,r,n,e[15],14,-660478335),n=Vr(n,a,i,r,e[4],20,-405537848),r=Vr(r,n,a,i,e[9],5,568446438),i=Vr(i,r,n,a,e[14],9,-1019803690),a=Vr(a,i,r,n,e[3],14,-187363961),n=Vr(n,a,i,r,e[8],20,1163531501),r=Vr(r,n,a,i,e[13],5,-1444681467),i=Vr(i,r,n,a,e[2],9,-51403784),a=Vr(a,i,r,n,e[7],14,1735328473),r=Hr(r,n=Vr(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Hr(i,r,n,a,e[8],11,-2022574463),a=Hr(a,i,r,n,e[11],16,1839030562),n=Hr(n,a,i,r,e[14],23,-35309556),r=Hr(r,n,a,i,e[1],4,-1530992060),i=Hr(i,r,n,a,e[4],11,1272893353),a=Hr(a,i,r,n,e[7],16,-155497632),n=Hr(n,a,i,r,e[10],23,-1094730640),r=Hr(r,n,a,i,e[13],4,681279174),i=Hr(i,r,n,a,e[0],11,-358537222),a=Hr(a,i,r,n,e[3],16,-722521979),n=Hr(n,a,i,r,e[6],23,76029189),r=Hr(r,n,a,i,e[9],4,-640364487),i=Hr(i,r,n,a,e[12],11,-421815835),a=Hr(a,i,r,n,e[15],16,530742520),r=Wr(r,n=Hr(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Wr(i,r,n,a,e[7],10,1126891415),a=Wr(a,i,r,n,e[14],15,-1416354905),n=Wr(n,a,i,r,e[5],21,-57434055),r=Wr(r,n,a,i,e[12],6,1700485571),i=Wr(i,r,n,a,e[3],10,-1894986606),a=Wr(a,i,r,n,e[10],15,-1051523),n=Wr(n,a,i,r,e[1],21,-2054922799),r=Wr(r,n,a,i,e[8],6,1873313359),i=Wr(i,r,n,a,e[15],10,-30611744),a=Wr(a,i,r,n,e[6],15,-1560198380),n=Wr(n,a,i,r,e[13],21,1309151649),r=Wr(r,n,a,i,e[4],6,-145523070),i=Wr(i,r,n,a,e[11],10,-1120210379),a=Wr(a,i,r,n,e[2],15,718787259),n=Wr(n,a,i,r,e[9],21,-343485551),t[0]=ai(r,t[0]),t[1]=ai(n,t[1]),t[2]=ai(a,t[2]),t[3]=ai(i,t[3])}function xf(t,e,r,n,a,i){return e=ai(ai(e,t),ai(n,i)),ai(e<<a|e>>>32-a,r)}function Ur(t,e,r,n,a,i,o){return xf(e&r|~e&n,t,e,a,i,o)}function Vr(t,e,r,n,a,i,o){return xf(e&n|r&~n,t,e,a,i,o)}function Hr(t,e,r,n,a,i,o){return xf(e^r^n,t,e,a,i,o)}function Wr(t,e,r,n,a,i,o){return xf(r^(e|~n),t,e,a,i,o)}function ib(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)G0(n,Uk(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(G0(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,G0(n,a),n}function Uk(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Xc=Xe.atob.bind(Xe),op=Xe.btoa.bind(Xe);var I1="0123456789abcdef".split("");function Vk(t){for(var e="",r=0;r<4;r++)e+=I1[t>>8*r+4&15]+I1[t>>8*r&15];return e}function Hk(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function lp(t){return ib(t).map(Hk).join("")}var Wk=function(t){for(var e=0;e<t.length;e++)t[e]=Vk(t[e]);return t.join("")}(ib("hello"))!="5d41402abc4b2a76b9719d911017c592";function ai(t,e){if(Wk){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cp(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],d=0;d<256;d++)l[d]=d;var h=0;for(d=0;d<256;d++){var f=l[d];h=(h+f+o.charCodeAt(d))%256,l[d]=l[h],l[h]=f}r=t,n=l}else l=n;var g=e.length,y=0,p=0,S="";for(d=0;d<g;d++)p=(p+(f=l[y=(y+1)%256]))%256,l[y]=l[p],l[p]=f,o=l[(l[y]+l[p])%256],S+=String.fromCharCode(e.charCodeAt(d)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F1={print:4,modify:8,copy:16,"annot-forms":32};function el(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(F1.perm!==void 0)throw new Error("Invalid permission: "+l);a+=F1[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=lp(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=cp(this.encryptionKey,this.padding)}function tl(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function T1(t){if(Ct(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){Xe.console&&Tt.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $h(t){if(!(this instanceof $h))return new $h(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function ob(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Gi(t,e,r,n,a){if(!(this instanceof Gi))return new Gi(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,ob.call(this,n,a)}function ml(t,e,r,n,a){if(!(this instanceof ml))return new ml(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,ob.call(this,n,a)}function We(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,d=16,h="S",f=null;Ct(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=T1;var S="1.3",_=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(m){S=m};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return O};var w=p.__private__.getPageFormat=function(m){return O[m]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},N=v.COMPAT;function A(){this.saveGraphicsState(),J(new Ke($e,0,0,-$e,0,Fa()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),h="n",N=v.ADVANCED}function k(){this.restoreGraphicsState(),h="S",N=v.COMPAT}var U=p.__private__.combineFontStyleAndFontWeight=function(m,P){if(m=="bold"&&P=="normal"||m=="bold"&&P==400||m=="normal"&&P=="italic"||m=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(m=P==400||P==="normal"?m==="italic"?"italic":"normal":P!=700&&P!=="bold"||m!=="normal"?(P==700?"bold":P)+""+m:"bold"),m};p.advancedAPI=function(m){var P=N===v.COMPAT;return P&&A.call(this),typeof m!="function"||(m(this),P&&k.call(this)),this},p.compatAPI=function(m){var P=N===v.ADVANCED;return P&&k.call(this),typeof m!="function"||(m(this),P&&A.call(this)),this},p.isAdvancedAPI=function(){return N===v.ADVANCED};var M,E=function(m){if(N!==v.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=p.roundToPrecision=p.__private__.roundToPrecision=function(m,P){var ee=e||P;if(isNaN(m)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(ee).replace(/0+$/,"")};M=p.hpf=p.__private__.hpf=typeof d=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,d)}:d==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,16)};var se=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return H(m,2)},T=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return H(m,3)},L=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return N===v.COMPAT?m*$e:N===v.ADVANCED?m:void 0},$=function(m){return N===v.COMPAT?Fa()-m:N===v.ADVANCED?m:void 0},V=function(m){return L($(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var Y,re="00000000000000000000000000000000",ne=p.__private__.getFileId=function(){return re},R=p.__private__.setFileId=function(m){return re=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&($r=new el(f.userPermissions,f.userPassword,f.ownerPassword,re)),re};p.setFileId=function(m){return R(m),this},p.getFileId=function(){return ne()};var W=p.__private__.convertDateToPDFDate=function(m){var P=m.getTimezoneOffset(),ee=P<0?"+":"-",ae=Math.floor(Math.abs(P/60)),ge=Math.abs(P%60),je=[ee,F(ae),"'",F(ge),"'"].join("");return["D:",m.getFullYear(),F(m.getMonth()+1),F(m.getDate()),F(m.getHours()),F(m.getMinutes()),F(m.getSeconds()),je].join("")},G=p.__private__.convertPDFDateToDate=function(m){var P=parseInt(m.substr(2,4),10),ee=parseInt(m.substr(6,2),10)-1,ae=parseInt(m.substr(8,2),10),ge=parseInt(m.substr(10,2),10),je=parseInt(m.substr(12,2),10),Pe=parseInt(m.substr(14,2),10);return new Date(P,ee,ae,ge,je,Pe,0)},ue=p.__private__.setCreationDate=function(m){var P;if(m===void 0&&(m=new Date),m instanceof Date)P=W(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=m}return Y=P},b=p.__private__.getCreationDate=function(m){var P=Y;return m==="jsDate"&&(P=G(Y)),P};p.setCreationDate=function(m){return ue(m),this},p.getCreationDate=function(m){return b(m)};var q,F=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},te=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},Z=0,pe=[],K=[],ce=0,he=[],ke=[],ve=!1,Ie=K,Ve=function(){Z=0,ce=0,K=[],pe=[],he=[],aa=pr(),nn=pr()};p.__private__.setCustomOutputDestination=function(m){ve=!0,Ie=m};var ie=function(m){ve||(Ie=m)};p.__private__.resetCustomOutputDestination=function(){ve=!1,Ie=K};var J=p.__private__.out=function(m){return m=m.toString(),ce+=m.length+1,Ie.push(m),Ie},Ce=p.__private__.write=function(m){return J(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},ze=p.__private__.getArrayBuffer=function(m){for(var P=m.length,ee=new ArrayBuffer(P),ae=new Uint8Array(ee);P--;)ae[P]=m.charCodeAt(P);return ee},be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return be};var Ee=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Ee=N===v.ADVANCED?m/$e:m,this};var Te,Me=p.__private__.getFontSize=p.getFontSize=function(){return N===v.COMPAT?Ee:Ee*$e},Ge=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return Ge=m,this},p.__private__.getR2L=p.getR2L=function(){return Ge};var rt,ct=p.__private__.setZoomMode=function(m){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Te=m;else if(isNaN(m)){if(P.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Te=m}else Te=parseInt(m,10)};p.__private__.getZoomMode=function(){return Te};var ut,xt=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');rt=m};p.__private__.getPageMode=function(){return rt};var Pt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');ut=m};p.__private__.getLayoutMode=function(){return ut},p.__private__.setDisplayMode=p.setDisplayMode=function(m,P,ee){return ct(m),Pt(P),xt(ee),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(Ze).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[m]},p.__private__.getDocumentProperties=function(){return Ze},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var P in Ze)Ze.hasOwnProperty(P)&&m[P]&&(Ze[P]=m[P]);return this},p.__private__.setDocumentProperty=function(m,P){if(Object.keys(Ze).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[m]=P};var ht,$e,zr,bt,tn,Et={},Ut={},Fn=[],jt={},_i={},Zt={},rn={},na=null,er=0,st=[],Nt=new T1(p),Ci=t.hotfixes||[],Ir={},Tn={},Dn=[],Ke=function m(P,ee,ae,ge,je,Pe){if(!(this instanceof m))return new m(P,ee,ae,ge,je,Pe);isNaN(P)&&(P=1),isNaN(ee)&&(ee=0),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=1),isNaN(je)&&(je=0),isNaN(Pe)&&(Pe=0),this._matrix=[P,ee,ae,ge,je,Pe]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(m)},Ke.prototype.multiply=function(m){var P=m.sx*this.sx+m.shy*this.shx,ee=m.sx*this.shy+m.shy*this.sy,ae=m.shx*this.sx+m.sy*this.shx,ge=m.shx*this.shy+m.sy*this.sy,je=m.tx*this.sx+m.ty*this.shx+this.tx,Pe=m.tx*this.shy+m.ty*this.sy+this.ty;return new Ke(P,ee,ae,ge,je,Pe)},Ke.prototype.decompose=function(){var m=this.sx,P=this.shy,ee=this.shx,ae=this.sy,ge=this.tx,je=this.ty,Pe=Math.sqrt(m*m+P*P),Re=(m/=Pe)*ee+(P/=Pe)*ae;ee-=m*Re,ae-=P*Re;var Je=Math.sqrt(ee*ee+ae*ae);return Re/=Je,m*(ae/=Je)<P*(ee/=Je)&&(m=-m,P=-P,Re=-Re,Pe=-Pe),{scale:new Ke(Pe,0,0,Je,0,0),translate:new Ke(1,0,0,1,ge,je),rotate:new Ke(m,P,-P,m,0,0),skew:new Ke(1,0,Re,1,0,0)}},Ke.prototype.toString=function(m){return this.join(" ")},Ke.prototype.inversed=function(){var m=this.sx,P=this.shy,ee=this.shx,ae=this.sy,ge=this.tx,je=this.ty,Pe=1/(m*ae-P*ee),Re=ae*Pe,Je=-P*Pe,it=-ee*Pe,nt=m*Pe;return new Ke(Re,Je,it,nt,-Re*ge-it*je,-Je*ge-nt*je)},Ke.prototype.applyToPoint=function(m){var P=m.x*this.sx+m.y*this.shx+this.tx,ee=m.x*this.shy+m.y*this.sy+this.ty;return new Co(P,ee)},Ke.prototype.applyToRectangle=function(m){var P=this.applyToPoint(m),ee=this.applyToPoint(new Co(m.x+m.w,m.y+m.h));return new Zl(P.x,P.y,ee.x-P.x,ee.y-P.y)},Ke.prototype.clone=function(){var m=this.sx,P=this.shy,ee=this.shx,ae=this.sy,ge=this.tx,je=this.ty;return new Ke(m,P,ee,ae,ge,je)},p.Matrix=Ke;var sn=p.matrixMult=function(m,P){return P.multiply(m)},On=new Ke(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=On;var os=function(m,P){if(!_i[m]){var ee=(P instanceof Gi?"Sh":"P")+(Object.keys(jt).length+1).toString(10);P.id=ee,_i[m]=ee,jt[ee]=P,Nt.publish("addPattern",P)}};p.ShadingPattern=Gi,p.TilingPattern=ml,p.addShadingPattern=function(m,P){return E("addShadingPattern()"),os(m,P),this},p.beginTilingPattern=function(m){E("beginTilingPattern()"),Hd(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,P){E("endTilingPattern()"),P.stream=ke[q].join(`
`),os(m,P),Nt.publish("endTilingPattern",P),Dn.pop().restore()};var br=p.__private__.newObject=function(){var m=pr();return Ns(m,!0),m},pr=p.__private__.newObjectDeferred=function(){return Z++,pe[Z]=function(){return ce},Z},Ns=function(m,P){return P=typeof P=="boolean"&&P,pe[m]=ce,P&&J(m+" 0 obj"),m},mo=p.__private__.newAdditionalObject=function(){var m={objId:pr(),content:""};return he.push(m),m},aa=pr(),nn=pr(),an=p.__private__.decodeColorString=function(m){var P=m.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var ee=parseFloat(P[0]);P=[ee,ee,ee,"r"]}for(var ae="#",ge=0;ge<3;ge++)ae+=("0"+Math.floor(255*parseFloat(P[ge])).toString(16)).slice(-2);return ae},on=p.__private__.encodeColorString=function(m){var P;typeof m=="string"&&(m={ch1:m});var ee=m.ch1,ae=m.ch2,ge=m.ch3,je=m.ch4,Pe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Re=new ab(ee);if(Re.ok)ee=Re.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var Je=parseInt(ee.substr(1),16);ee=Je>>16&255,ae=Je>>8&255,ge=255&Je}if(ae===void 0||je===void 0&&ee===ae&&ae===ge)if(typeof ee=="string")P=ee+" "+Pe[0];else switch(m.precision){case 2:P=se(ee/255)+" "+Pe[0];break;case 3:default:P=T(ee/255)+" "+Pe[0]}else if(je===void 0||Ct(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return P=["1.","1.","1.",Pe[1]].join(" ");if(typeof ee=="string")P=[ee,ae,ge,Pe[1]].join(" ");else switch(m.precision){case 2:P=[se(ee/255),se(ae/255),se(ge/255),Pe[1]].join(" ");break;default:case 3:P=[T(ee/255),T(ae/255),T(ge/255),Pe[1]].join(" ")}}else if(typeof ee=="string")P=[ee,ae,ge,je,Pe[2]].join(" ");else switch(m.precision){case 2:P=[se(ee),se(ae),se(ge),se(je),Pe[2]].join(" ");break;case 3:default:P=[T(ee),T(ae),T(ge),T(je),Pe[2]].join(" ")}return P},Mn=p.__private__.getFilters=function(){return o},Os=p.__private__.putStream=function(m){var P=(m=m||{}).data||"",ee=m.filters||Mn(),ae=m.alreadyAppliedFilters||[],ge=m.addLength1||!1,je=P.length,Pe=m.objectId,Re=function(Rr){return Rr};if(f!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Re=$r.encryptor(Pe,0));var Je={};ee===!0&&(ee=["FlateEncode"]);var it=m.additionalKeyValues||[],nt=(Je=We.API.processDataByFilters!==void 0?We.API.processDataByFilters(P,ee):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(Je.data.length!==0&&(it.push({key:"Length",value:Je.data.length}),ge===!0&&it.push({key:"Length1",value:je})),nt.length!=0)if(nt.split("/").length-1==1)it.push({key:"Filter",value:nt});else{it.push({key:"Filter",value:"["+nt+"]"});for(var gt=0;gt<it.length;gt+=1)if(it[gt].key==="DecodeParms"){for(var Jt=[],tr=0;tr<Je.reverseChain.split("/").length-1;tr+=1)Jt.push("null");Jt.push(it[gt].value),it[gt].value="["+Jt.join(" ")+"]"}}J("<<");for(var gr=0;gr<it.length;gr++)J("/"+it[gr].key+" "+it[gr].value);J(">>"),Je.data.length!==0&&(J("stream"),J(Re(Je.data)),J("endstream"))},zn=p.__private__.putPage=function(m){var P=m.number,ee=m.data,ae=m.objId,ge=m.contentsObjId;Ns(ae,!0),J("<</Type /Page"),J("/Parent "+m.rootDictionaryObjId+" 0 R"),J("/Resources "+m.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(M(m.mediaBox.bottomLeftX))+" "+parseFloat(M(m.mediaBox.bottomLeftY))+" "+M(m.mediaBox.topRightX)+" "+M(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&J("/CropBox ["+M(m.cropBox.bottomLeftX)+" "+M(m.cropBox.bottomLeftY)+" "+M(m.cropBox.topRightX)+" "+M(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&J("/BleedBox ["+M(m.bleedBox.bottomLeftX)+" "+M(m.bleedBox.bottomLeftY)+" "+M(m.bleedBox.topRightX)+" "+M(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&J("/TrimBox ["+M(m.trimBox.bottomLeftX)+" "+M(m.trimBox.bottomLeftY)+" "+M(m.trimBox.topRightX)+" "+M(m.trimBox.topRightY)+"]"),m.artBox!==null&&J("/ArtBox ["+M(m.artBox.bottomLeftX)+" "+M(m.artBox.bottomLeftY)+" "+M(m.artBox.topRightX)+" "+M(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&J("/UserUnit "+m.userUnit),Nt.publish("putPage",{objId:ae,pageContext:st[P],pageNumber:P,page:ee}),J("/Contents "+ge+" 0 R"),J(">>"),J("endobj");var je=ee.join(`
`);return N===v.ADVANCED&&(je+=`
Q`),Ns(ge,!0),Os({data:je,filters:Mn(),objectId:ge}),J("endobj"),ae},Ai=p.__private__.putPages=function(){var m,P,ee=[];for(m=1;m<=er;m++)st[m].objId=pr(),st[m].contentsObjId=pr();for(m=1;m<=er;m++)ee.push(zn({number:m,data:ke[m],objId:st[m].objId,contentsObjId:st[m].contentsObjId,mediaBox:st[m].mediaBox,cropBox:st[m].cropBox,bleedBox:st[m].bleedBox,trimBox:st[m].trimBox,artBox:st[m].artBox,userUnit:st[m].userUnit,rootDictionaryObjId:aa,resourceDictionaryObjId:nn}));Ns(aa,!0),J("<</Type /Pages");var ae="/Kids [";for(P=0;P<er;P++)ae+=ee[P]+" 0 R ";J(ae+"]"),J("/Count "+er),J(">>"),J("endobj"),Nt.publish("postPutPages")},po=function(m){Nt.publish("putFont",{font:m,out:J,newObject:br,putStream:Os}),m.isAlreadyPutted!==!0&&(m.objectNumber=br(),J("<<"),J("/Type /Font"),J("/BaseFont /"+tl(m.postScriptName)),J("/Subtype /Type1"),typeof m.encoding=="string"&&J("/Encoding /"+m.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},go=function(){for(var m in Et)Et.hasOwnProperty(m)&&(g===!1||g===!0&&y.hasOwnProperty(m))&&po(Et[m])},xo=function(m){m.objectNumber=br();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[M(m.x),M(m.y),M(m.x+m.width),M(m.y+m.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var ee=m.pages[1].join(`
`);Os({data:ee,additionalKeyValues:P,objectId:m.objectNumber}),J("endobj")},yo=function(){for(var m in Ir)Ir.hasOwnProperty(m)&&xo(Ir[m])},Cd=function(m,P){var ee,ae=[],ge=1/(P-1);for(ee=0;ee<1;ee+=ge)ae.push(ee);if(ae.push(1),m[0].offset!=0){var je={offset:0,color:m[0].color};m.unshift(je)}if(m[m.length-1].offset!=1){var Pe={offset:1,color:m[m.length-1].color};m.push(Pe)}for(var Re="",Je=0,it=0;it<ae.length;it++){for(ee=ae[it];ee>m[Je+1].offset;)Je++;var nt=m[Je].offset,gt=(ee-nt)/(m[Je+1].offset-nt),Jt=m[Je].color,tr=m[Je+1].color;Re+=te(Math.round((1-gt)*Jt[0]+gt*tr[0]).toString(16))+te(Math.round((1-gt)*Jt[1]+gt*tr[1]).toString(16))+te(Math.round((1-gt)*Jt[2]+gt*tr[2]).toString(16))}return Re.trim()},yf=function(m,P){P||(P=21);var ee=br(),ae=Cd(m.colors,P),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+P+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Os({data:ae,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),J("endobj"),m.objectNumber=br(),J("<< /ShadingType "+m.type),J("/ColorSpace /DeviceRGB");var je="/Coords ["+M(parseFloat(m.coords[0]))+" "+M(parseFloat(m.coords[1]))+" ";m.type===2?je+=M(parseFloat(m.coords[2]))+" "+M(parseFloat(m.coords[3])):je+=M(parseFloat(m.coords[2]))+" "+M(parseFloat(m.coords[3]))+" "+M(parseFloat(m.coords[4]))+" "+M(parseFloat(m.coords[5])),J(je+="]"),m.matrix&&J("/Matrix ["+m.matrix.toString()+"]"),J("/Function "+ee+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},vf=function(m,P){var ee=pr(),ae=br();P.push({resourcesOid:ee,objectOid:ae}),m.objectNumber=ae;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+m.boundingBox.map(M).join(" ")+"]"}),ge.push({key:"XStep",value:M(m.xStep)}),ge.push({key:"YStep",value:M(m.yStep)}),ge.push({key:"Resources",value:ee+" 0 R"}),m.matrix&&ge.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Os({data:m.stream,additionalKeyValues:ge,objectId:m.objectNumber}),J("endobj")},vo=function(m){var P;for(P in jt)jt.hasOwnProperty(P)&&(jt[P]instanceof Gi?yf(jt[P]):jt[P]instanceof ml&&vf(jt[P],m))},Ad=function(m){for(var P in m.objectNumber=br(),J("<<"),m)switch(P){case"opacity":J("/ca "+se(m[P]));break;case"stroke-opacity":J("/CA "+se(m[P]))}J(">>"),J("endobj")},bf=function(){var m;for(m in Zt)Zt.hasOwnProperty(m)&&Ad(Zt[m])},Ul=function(){for(var m in J("/XObject <<"),Ir)Ir.hasOwnProperty(m)&&Ir[m].objectNumber>=0&&J("/"+m+" "+Ir[m].objectNumber+" 0 R");Nt.publish("putXobjectDict"),J(">>")},wf=function(){$r.oid=br(),J("<<"),J("/Filter /Standard"),J("/V "+$r.v),J("/R "+$r.r),J("/U <"+$r.toHexString($r.U)+">"),J("/O <"+$r.toHexString($r.O)+">"),J("/P "+$r.P),J(">>"),J("endobj")},Pd=function(){for(var m in J("/Font <<"),Et)Et.hasOwnProperty(m)&&(g===!1||g===!0&&y.hasOwnProperty(m))&&J("/"+m+" "+Et[m].objectNumber+" 0 R");J(">>")},jf=function(){if(Object.keys(jt).length>0){for(var m in J("/Shading <<"),jt)jt.hasOwnProperty(m)&&jt[m]instanceof Gi&&jt[m].objectNumber>=0&&J("/"+m+" "+jt[m].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),J(">>")}},bo=function(m){if(Object.keys(jt).length>0){for(var P in J("/Pattern <<"),jt)jt.hasOwnProperty(P)&&jt[P]instanceof p.TilingPattern&&jt[P].objectNumber>=0&&jt[P].objectNumber<m&&J("/"+P+" "+jt[P].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),J(">>")}},Nf=function(){if(Object.keys(Zt).length>0){var m;for(m in J("/ExtGState <<"),Zt)Zt.hasOwnProperty(m)&&Zt[m].objectNumber>=0&&J("/"+m+" "+Zt[m].objectNumber+" 0 R");Nt.publish("putGStateDict"),J(">>")}},ir=function(m){Ns(m.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pd(),jf(),bo(m.objectOid),Nf(),Ul(),J(">>"),J("endobj")},Ld=function(){var m=[];go(),bf(),yo(),vo(m),Nt.publish("putResources"),m.forEach(ir),ir({resourcesOid:nn,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},Ed=function(){Nt.publish("putAdditionalObjects");for(var m=0;m<he.length;m++){var P=he[m];Ns(P.objId,!0),J(P.content),J("endobj")}Nt.publish("postPutAdditionalObjects")},Id=function(m){Ut[m.fontName]=Ut[m.fontName]||{},Ut[m.fontName][m.fontStyle]=m.id},Vl=function(m,P,ee,ae,ge){var je={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:m,fontName:P,fontStyle:ee,encoding:ae,isStandardFont:ge||!1,metadata:{}};return Nt.publish("addFont",{font:je,instance:this}),Et[je.id]=je,Id(je),je.id},kf=function(m){for(var P=0,ee=be.length;P<ee;P++){var ae=Vl.call(this,m[P][0],m[P][1],m[P][2],be[P][3],!0);g===!1&&(y[ae]=!0);var ge=m[P][0].split("-");Id({id:ae,fontName:ge[0],fontStyle:ge[1]||""})}Nt.publish("addFonts",{fonts:Et,dictionary:Ut})},ln=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(ae){var P=ae.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var ee="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Xe.console)throw new Error(ee);Xe.console.error(ee,ae),Xe.alert&&alert(ee)}},m.foo.bar=m,m.foo},wo=function(m,P){var ee,ae,ge,je,Pe,Re,Je,it,nt;if(ge=(P=P||{}).sourceEncoding||"Unicode",Pe=P.outputEncoding,(P.autoencode||Pe)&&Et[ht].metadata&&Et[ht].metadata[ge]&&Et[ht].metadata[ge].encoding&&(je=Et[ht].metadata[ge].encoding,!Pe&&Et[ht].encoding&&(Pe=Et[ht].encoding),!Pe&&je.codePages&&(Pe=je.codePages[0]),typeof Pe=="string"&&(Pe=je[Pe]),Pe)){for(Je=!1,Re=[],ee=0,ae=m.length;ee<ae;ee++)(it=Pe[m.charCodeAt(ee)])?Re.push(String.fromCharCode(it)):Re.push(m[ee]),Re[ee].charCodeAt(0)>>8&&(Je=!0);m=Re.join("")}for(ee=m.length;Je===void 0&&ee!==0;)m.charCodeAt(ee-1)>>8&&(Je=!0),ee--;if(!Je)return m;for(Re=P.noBOM?[]:[254,255],ee=0,ae=m.length;ee<ae;ee++){if((nt=(it=m.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Re.push(nt),Re.push(it-(nt<<8))}return String.fromCharCode.apply(void 0,Re)},ls=p.__private__.pdfEscape=p.pdfEscape=function(m,P){return wo(m,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hl=p.__private__.beginPage=function(m){ke[++er]=[],st[er]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Td(er),ie(ke[q])},Fd=function(m,P){var ee,ae,ge;switch(r=P||r,typeof m=="string"&&(ee=w(m.toLowerCase()),Array.isArray(ee)&&(ae=ee[0],ge=ee[1])),Array.isArray(m)&&(ae=m[0]*$e,ge=m[1]*$e),isNaN(ae)&&(ae=a[0],ge=a[1]),(ae>14400||ge>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ge=Math.min(14400,ge)),a=[ae,ge],r.substr(0,1)){case"l":ge>ae&&(a=[ge,ae]);break;case"p":ae>ge&&(a=[ge,ae])}Hl(a),Rd(Yl),J(cn),Xl!==0&&J(Xl+" J"),Ql!==0&&J(Ql+" j"),Nt.publish("addPage",{pageNumber:er})},Sf=function(m){m>0&&m<=er&&(ke.splice(m,1),st.splice(m,1),er--,q>er&&(q=er),this.setPage(q))},Td=function(m){m>0&&m<=er&&(q=m)},_f=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},Dd=function(m,P,ee){var ae,ge=void 0;return ee=ee||{},m=m!==void 0?m:Et[ht].fontName,P=P!==void 0?P:Et[ht].fontStyle,ae=m.toLowerCase(),Ut[ae]!==void 0&&Ut[ae][P]!==void 0?ge=Ut[ae][P]:Ut[m]!==void 0&&Ut[m][P]!==void 0?ge=Ut[m][P]:ee.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+m+"', '"+P+"'. Refer to getFontList() for available fonts."),ge||ee.noFallback||(ge=Ut.times[P])==null&&(ge=Ut.times.normal),ge},Cf=p.__private__.putInfo=function(){var m=br(),P=function(ae){return ae};for(var ee in f!==null&&(P=$r.encryptor(m,0)),J("<<"),J("/Producer ("+ls(P("jsPDF "+We.version))+")"),Ze)Ze.hasOwnProperty(ee)&&Ze[ee]&&J("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+ls(P(Ze[ee]))+")");J("/CreationDate ("+ls(P(Y))+")"),J(">>"),J("endobj")},Wl=p.__private__.putCatalog=function(m){var P=(m=m||{}).rootDictionaryObjId||aa;switch(br(),J("<<"),J("/Type /Catalog"),J("/Pages "+P+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+Te;ee.substr(ee.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&J("/OpenAction [3 0 R /XYZ null null "+se(Te)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}rt&&J("/PageMode /"+rt),Nt.publish("putCatalog"),J(">>"),J("endobj")},Af=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Z+1)),J("/Root "+Z+" 0 R"),J("/Info "+(Z-1)+" 0 R"),f!==null&&J("/Encrypt "+$r.oid+" 0 R"),J("/ID [ <"+re+"> <"+re+"> ]"),J(">>")},Pf=p.__private__.putHeader=function(){J("%PDF-"+S),J("%ºß¬à")},Lf=p.__private__.putXRef=function(){var m="0000000000";J("xref"),J("0 "+(Z+1)),J("0000000000 65535 f ");for(var P=1;P<=Z;P++)typeof pe[P]=="function"?J((m+pe[P]()).slice(-10)+" 00000 n "):pe[P]!==void 0?J((m+pe[P]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},ia=p.__private__.buildDocument=function(){Ve(),ie(K),Nt.publish("buildDocument"),Pf(),Ai(),Ed(),Ld(),f!==null&&wf(),Cf(),Wl();var m=ce;return Lf(),Af(),J("startxref"),J(""+m),J("%%EOF"),ie(ke[q]),K.join(`
`)},jo=p.__private__.getBlob=function(m){return new Blob([ze(m)],{type:"application/pdf"})},No=p.output=p.__private__.output=ln(function(m,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",m){case void 0:return ia();case"save":p.save(P.filename);break;case"arraybuffer":return ze(ia());case"blob":return jo(ia());case"bloburi":case"bloburl":if(Xe.URL!==void 0&&typeof Xe.URL.createObjectURL=="function")return Xe.URL&&Xe.URL.createObjectURL(jo(ia()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ae=ia();try{ee=op(ae)}catch{ee=op(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+P.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ge=P.pdfObjectUrl,je="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Re=Xe.open();return Re!==null&&Re.document.write(Pe),Re}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xe)==="[object Window]"){var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',it=Xe.open();if(it!==null){it.document.write(Je);var nt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=P.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Jt=Xe.open();if(Jt!==null&&(Jt.document.write(gt),Jt.document.title=P.filename),Jt||typeof safari>"u")return Jt;break;case"datauri":case"dataurl":return Xe.document.location.href=this.output("datauristring",P);default:return null}}),Od=function(m){return Array.isArray(Ci)===!0&&Ci.indexOf(m)>-1};switch(n){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=Od("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);$e=n}var $r=null;ue(),R();var Ef=function(m){return f!==null?$r.encryptor(m,0):function(P){return P}},Md=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[m].objId,pageNumber:m,pageContext:st[m]}},et=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in st)if(st[P].objId===m)break;return Md(P)},If=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:st[q].objId,pageNumber:q,pageContext:st[q]}};p.addPage=function(){return Fd.apply(this,arguments),this},p.setPage=function(){return Td.apply(this,arguments),ie.call(this,ke[q]),this},p.insertPage=function(m){return this.addPage(),this.movePage(q,m),this},p.movePage=function(m,P){var ee,ae;if(m>P){ee=ke[m],ae=st[m];for(var ge=m;ge>P;ge--)ke[ge]=ke[ge-1],st[ge]=st[ge-1];ke[P]=ee,st[P]=ae,this.setPage(P)}else if(m<P){ee=ke[m],ae=st[m];for(var je=m;je<P;je++)ke[je]=ke[je+1],st[je]=st[je+1];ke[P]=ee,st[P]=ae,this.setPage(P)}return this},p.deletePage=function(){return Sf.apply(this,arguments),this},p.__private__.text=p.text=function(m,P,ee,ae,ge){var je,Pe,Re,Je,it,nt,gt,Jt,tr,gr=(ae=ae||{}).scope||this;if(typeof m=="number"&&typeof P=="number"&&(typeof ee=="string"||Array.isArray(ee))){var Rr=ee;ee=P,P=m,m=Rr}if(arguments[3]instanceof Ke?(E("The transform parameter of text() with a Matrix value"),tr=ge):(Re=arguments[4],Je=arguments[5],Ct(gt=arguments[3])==="object"&&gt!==null||(typeof Re=="string"&&(Je=Re,Re=null),typeof gt=="string"&&(Je=gt,gt=null),typeof gt=="number"&&(Re=gt,gt=null),ae={flags:gt,angle:Re,align:Je})),isNaN(P)||isNaN(ee)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return gr;var Sr="",dn=!1,ks=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Li,qn=gr.internal.scaleFactor;function Wd(Dt){return Dt=Dt.split("	").join(Array(ae.TabLen||9).join(" ")),ls(Dt,gt)}function sc(Dt){for(var Ot,lr=Dt.concat(),wr=[],ua=lr.length;ua--;)typeof(Ot=lr.shift())=="string"?wr.push(Ot):Array.isArray(Dt)&&(Ot.length===1||Ot[1]===void 0&&Ot[2]===void 0)?wr.push(Ot[0]):wr.push([Ot[0],Ot[1],Ot[2]]);return wr}function nc(Dt,Ot){var lr;if(typeof Dt=="string")lr=Ot(Dt)[0];else if(Array.isArray(Dt)){for(var wr,ua,hc=Dt.concat(),zo=[],Xd=hc.length;Xd--;)typeof(wr=hc.shift())=="string"?zo.push(Ot(wr)[0]):Array.isArray(wr)&&typeof wr[0]=="string"&&(ua=Ot(wr[0],wr[1],wr[2]),zo.push([ua[0],ua[1],ua[2]]));lr=zo}return lr}var Po=!1,ac=!0;if(typeof m=="string")Po=!0;else if(Array.isArray(m)){var ic=m.concat();Pe=[];for(var Lo,Fr=ic.length;Fr--;)(typeof(Lo=ic.shift())!="string"||Array.isArray(Lo)&&typeof Lo[0]!="string")&&(ac=!1);Po=ac}if(Po===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Eo=Ee/gr.internal.scaleFactor,Io=Eo*(ks-1);switch(ae.baseline){case"bottom":ee-=Io;break;case"top":ee+=Eo-Io;break;case"hanging":ee+=Eo-2*Io;break;case"middle":ee+=Eo/2-Io}if((nt=ae.maxWidth||0)>0&&(typeof m=="string"?m=gr.splitTextToSize(m,nt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Dt,Ot){return Dt.concat(gr.splitTextToSize(Ot,nt))},[]))),je={text:m,x:P,y:ee,options:ae,mutex:{pdfEscape:ls,activeFontKey:ht,fonts:Et,activeFontSize:Ee}},Nt.publish("preProcessText",je),m=je.text,Re=(ae=je.options).angle,!(tr instanceof Ke)&&Re&&typeof Re=="number"){Re*=Math.PI/180,ae.rotationDirection===0&&(Re=-Re),N===v.ADVANCED&&(Re=-Re);var Fo=Math.cos(Re),oc=Math.sin(Re);tr=new Ke(Fo,oc,-oc,Fo,0,0)}else Re&&Re instanceof Ke&&(tr=Re);N!==v.ADVANCED||tr||(tr=On),(it=ae.charSpace||_o)!==void 0&&(Sr+=M(L(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jt=ae.horizontalScale)!==void 0&&(Sr+=M(100*Jt)+` Tz
`),ae.lang;var cs=-1,Bf=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,lc=gr.internal.getCurrentPageInfo().pageContext;switch(Bf){case 0:case!1:case"fill":cs=0;break;case 1:case!0:case"stroke":cs=1;break;case 2:case"fillThenStroke":cs=2;break;case 3:case"invisible":cs=3;break;case 4:case"fillAndAddForClipping":cs=4;break;case 5:case"strokeAndAddPathForClipping":cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cs=6;break;case 7:case"addToPathForClipping":cs=7}var Gd=lc.usedRenderingMode!==void 0?lc.usedRenderingMode:-1;cs!==-1?Sr+=cs+` Tr
`:Gd!==-1&&(Sr+=`0 Tr
`),cs!==-1&&(lc.usedRenderingMode=cs),Je=ae.align||"left";var Ms,To=Ee*ks,Jd=gr.internal.pageSize.getWidth(),Yd=Et[ht];it=ae.charSpace||_o,nt=ae.maxWidth||0,gt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Ta=[],Fi=function(Dt){return gr.getStringUnitWidth(Dt,{font:Yd,charSpace:it,fontSize:Ee,doKerning:!1})*Ee/qn};if(Object.prototype.toString.call(m)==="[object Array]"){var ds;Pe=sc(m),Je!=="left"&&(Ms=Pe.map(Fi));var Qr,Da=0;if(Je==="right"){P-=Ms[0],m=[],Fr=Pe.length;for(var la=0;la<Fr;la++)la===0?(Qr=Rn(P),ds=oa(ee)):(Qr=L(Da-Ms[la]),ds=-To),m.push([Pe[la],Qr,ds]),Da=Ms[la]}else if(Je==="center"){P-=Ms[0]/2,m=[],Fr=Pe.length;for(var ca=0;ca<Fr;ca++)ca===0?(Qr=Rn(P),ds=oa(ee)):(Qr=L((Da-Ms[ca])/2),ds=-To),m.push([Pe[ca],Qr,ds]),Da=Ms[ca]}else if(Je==="left"){m=[],Fr=Pe.length;for(var Do=0;Do<Fr;Do++)m.push(Pe[Do])}else if(Je==="justify"&&Yd.encoding==="Identity-H"){m=[],Fr=Pe.length,nt=nt!==0?nt:Jd;for(var da=0,or=0;or<Fr;or++)if(ds=or===0?oa(ee):-To,Qr=or===0?Rn(P):da,or<Fr-1){var cc=L((nt-Ms[or])/(Pe[or].split(" ").length-1)),Zr=Pe[or].split(" ");m.push([Zr[0]+" ",Qr,ds]),da=0;for(var zs=1;zs<Zr.length;zs++){var Oo=(Fi(Zr[zs-1]+" "+Zr[zs])-Fi(Zr[zs]))*qn+cc;zs==Zr.length-1?m.push([Zr[zs],Oo,0]):m.push([Zr[zs]+" ",Oo,0]),da-=Oo}}else m.push([Pe[or],Qr,ds]);m.push(["",da,0])}else{if(Je!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Fr=Pe.length,nt=nt!==0?nt:Jd,or=0;or<Fr;or++)ds=or===0?oa(ee):-To,Qr=or===0?Rn(P):0,or<Fr-1?Ta.push(M(L((nt-Ms[or])/(Pe[or].split(" ").length-1)))):Ta.push(0),m.push([Pe[or],Qr,ds])}}var Kd=typeof ae.R2L=="boolean"?ae.R2L:Ge;Kd===!0&&(m=nc(m,function(Dt,Ot,lr){return[Dt.split("").reverse().join(""),Ot,lr]})),je={text:m,x:P,y:ee,options:ae,mutex:{pdfEscape:ls,activeFontKey:ht,fonts:Et,activeFontSize:Ee}},Nt.publish("postProcessText",je),m=je.text,dn=je.mutex.isHex||!1;var dc=Et[ht].encoding;dc!=="WinAnsiEncoding"&&dc!=="StandardEncoding"||(m=nc(m,function(Dt,Ot,lr){return[Wd(Dt),Ot,lr]})),Pe=sc(m),m=[];for(var Ti,Di,Oa,Oi=0,Mo=1,Mi=Array.isArray(Pe[0])?Mo:Oi,Ma="",uc=function(Dt,Ot,lr){var wr="";return lr instanceof Ke?(lr=typeof ae.angle=="number"?sn(lr,new Ke(1,0,0,1,Dt,Ot)):sn(new Ke(1,0,0,1,Dt,Ot),lr),N===v.ADVANCED&&(lr=sn(new Ke(1,0,0,-1,0,0),lr)),wr=lr.join(" ")+` Tm
`):wr=M(Dt)+" "+M(Ot)+` Td
`,wr},$s=0;$s<Pe.length;$s++){switch(Ma="",Mi){case Mo:Oa=(dn?"<":"(")+Pe[$s][0]+(dn?">":")"),Ti=parseFloat(Pe[$s][1]),Di=parseFloat(Pe[$s][2]);break;case Oi:Oa=(dn?"<":"(")+Pe[$s]+(dn?">":")"),Ti=Rn(P),Di=oa(ee)}Ta!==void 0&&Ta[$s]!==void 0&&(Ma=Ta[$s]+` Tw
`),$s===0?m.push(Ma+uc(Ti,Di,tr)+Oa):Mi===Oi?m.push(Ma+Oa):Mi===Mo&&m.push(Ma+uc(Ti,Di,tr)+Oa)}m=Mi===Oi?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Rs=`BT
/`;return Rs+=ht+" "+Ee+` Tf
`,Rs+=M(Ee*ks)+` TL
`,Rs+=Ei+`
`,Rs+=Sr,Rs+=m,J(Rs+="ET"),y[ht]=!0,gr};var Ff=p.__private__.clip=p.clip=function(m){return J(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ff("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var $n=p.__private__.isValidStyle=function(m){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(P=!0),P};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return $n(m)&&(h=m),this};var zd=p.__private__.getStyle=p.getStyle=function(m){var P=h;switch(m){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=m}return P},$d=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(m){return ko("f",m),this},p.fillEvenOdd=function(m){return ko("f*",m),this},p.fillStroke=function(m){return ko("B",m),this},p.fillStrokeEvenOdd=function(m){return ko("B*",m),this};var ko=function(m,P){Ct(P)==="object"?Df(P,m):J(m)},Gl=function(m){m===null||N===v.ADVANCED&&m===void 0||(m=zd(m),J(m))};function Tf(m,P,ee,ae,ge){var je=new ml(P||this.boundingBox,ee||this.xStep,ae||this.yStep,this.gState,ge||this.matrix);je.stream=this.stream;var Pe=m+"$$"+this.cloneIndex+++"$$";return os(Pe,je),je}var Df=function(m,P){var ee=_i[m.key],ae=jt[ee];if(ae instanceof Gi)J("q"),J(Of(P)),ae.gState&&p.setGState(ae.gState),J(m.matrix.toString()+" cm"),J("/"+ee+" sh"),J("Q");else if(ae instanceof ml){var ge=new Ke(1,0,0,-1,0,Fa());m.matrix&&(ge=ge.multiply(m.matrix||On),ee=Tf.call(ae,m.key,m.boundingBox,m.xStep,m.yStep,ge).id),J("q"),J("/Pattern cs"),J("/"+ee+" scn"),ae.gState&&p.setGState(ae.gState),J(P),J("Q")}},Of=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jl=p.moveTo=function(m,P){return J(M(L(m))+" "+M(V(P))+" m"),this},Pi=p.lineTo=function(m,P){return J(M(L(m))+" "+M(V(P))+" l"),this},Ea=p.curveTo=function(m,P,ee,ae,ge,je){return J([M(L(m)),M(V(P)),M(L(ee)),M(V(ae)),M(L(ge)),M(V(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,P,ee,ae,ge){if(isNaN(m)||isNaN(P)||isNaN(ee)||isNaN(ae)||!$n(ge))throw new Error("Invalid arguments passed to jsPDF.line");return N===v.COMPAT?this.lines([[ee-m,ae-P]],m,P,[1,1],ge||"S"):this.lines([[ee-m,ae-P]],m,P,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,P,ee,ae,ge,je){var Pe,Re,Je,it,nt,gt,Jt,tr,gr,Rr,Sr,dn;if(typeof m=="number"&&(dn=ee,ee=P,P=m,m=dn),ae=ae||[1,1],je=je||!1,isNaN(P)||isNaN(ee)||!Array.isArray(m)||!Array.isArray(ae)||!$n(ge)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jl(P,ee),Pe=ae[0],Re=ae[1],it=m.length,Rr=P,Sr=ee,Je=0;Je<it;Je++)(nt=m[Je]).length===2?(Rr=nt[0]*Pe+Rr,Sr=nt[1]*Re+Sr,Pi(Rr,Sr)):(gt=nt[0]*Pe+Rr,Jt=nt[1]*Re+Sr,tr=nt[2]*Pe+Rr,gr=nt[3]*Re+Sr,Rr=nt[4]*Pe+Rr,Sr=nt[5]*Re+Sr,Ea(gt,Jt,tr,gr,Rr,Sr));return je&&$d(),Gl(ge),this},p.path=function(m){for(var P=0;P<m.length;P++){var ee=m[P],ae=ee.c;switch(ee.op){case"m":Jl(ae[0],ae[1]);break;case"l":Pi(ae[0],ae[1]);break;case"c":Ea.apply(this,ae);break;case"h":$d()}}return this},p.__private__.rect=p.rect=function(m,P,ee,ae,ge){if(isNaN(m)||isNaN(P)||isNaN(ee)||isNaN(ae)||!$n(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return N===v.COMPAT&&(ae=-ae),J([M(L(m)),M(V(P)),M(L(ee)),M(L(ae)),"re"].join(" ")),Gl(ge),this},p.__private__.triangle=p.triangle=function(m,P,ee,ae,ge,je,Pe){if(isNaN(m)||isNaN(P)||isNaN(ee)||isNaN(ae)||isNaN(ge)||isNaN(je)||!$n(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-m,ae-P],[ge-ee,je-ae],[m-ge,P-je]],m,P,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,P,ee,ae,ge,je,Pe){if(isNaN(m)||isNaN(P)||isNaN(ee)||isNaN(ae)||isNaN(ge)||isNaN(je)||!$n(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Re=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ee),je=Math.min(je,.5*ae),this.lines([[ee-2*ge,0],[ge*Re,0,ge,je-je*Re,ge,je],[0,ae-2*je],[0,je*Re,-ge*Re,je,-ge,je],[2*ge-ee,0],[-ge*Re,0,-ge,-je*Re,-ge,-je],[0,2*je-ae],[0,-je*Re,ge*Re,-je,ge,-je]],m+ge,P,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(m,P,ee,ae,ge){if(isNaN(m)||isNaN(P)||isNaN(ee)||isNaN(ae)||!$n(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*ee,Pe=4/3*(Math.SQRT2-1)*ae;return Jl(m+ee,P),Ea(m+ee,P-Pe,m+je,P-ae,m,P-ae),Ea(m-je,P-ae,m-ee,P-Pe,m-ee,P),Ea(m-ee,P+Pe,m-je,P+ae,m,P+ae),Ea(m+je,P+ae,m+ee,P+Pe,m+ee,P),Gl(ge),this},p.__private__.circle=p.circle=function(m,P,ee,ae){if(isNaN(m)||isNaN(P)||isNaN(ee)||!$n(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,P,ee,ee,ae)},p.setFont=function(m,P,ee){return ee&&(P=U(P,ee)),ht=Dd(m,P,{disableWarning:!1}),this};var Mf=p.__private__.getFont=p.getFont=function(){return Et[Dd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,P,ee={};for(m in Ut)if(Ut.hasOwnProperty(m))for(P in ee[m]=[],Ut[m])Ut[m].hasOwnProperty(P)&&ee[m].push(P);return ee},p.addFont=function(m,P,ee,ae,ge){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(ee=U(ee,ae)),ge=ge||"Identity-H",Vl.call(this,m,P,ee,ge)};var Li,Yl=t.lineWidth||.200025,So=p.__private__.getLineWidth=p.getLineWidth=function(){return Yl},Rd=p.__private__.setLineWidth=p.setLineWidth=function(m){return Yl=m,J(M(L(m))+" w"),this};p.__private__.setLineDash=We.API.setLineDash=We.API.setLineDashPattern=function(m,P){if(m=m||[],P=P||0,isNaN(P)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(ee){return M(L(ee))}).join(" "),P=M(L(P)),J("["+m+"] "+P+" d"),this};var qd=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Li};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Li};var Bd=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Li=m),this},Ud=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Li};Bd(t.lineHeight);var Rn=p.__private__.getHorizontalCoordinate=function(m){return L(m)},oa=p.__private__.getVerticalCoordinate=function(m){return N===v.ADVANCED?m:st[q].mediaBox.topRightY-st[q].mediaBox.bottomLeftY-L(m)},zf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return M(Rn(m))},Ia=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return M(oa(m))},cn=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return an(cn)},p.__private__.setStrokeColor=p.setDrawColor=function(m,P,ee,ae){return cn=on({ch1:m,ch2:P,ch3:ee,ch4:ae,pdfColorType:"draw",precision:2}),J(cn),this};var Kl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return an(Kl)},p.__private__.setFillColor=p.setFillColor=function(m,P,ee,ae){return Kl=on({ch1:m,ch2:P,ch3:ee,ch4:ae,pdfColorType:"fill",precision:2}),J(Kl),this};var Ei=t.textColor||"0 g",$f=p.__private__.getTextColor=p.getTextColor=function(){return an(Ei)};p.__private__.setTextColor=p.setTextColor=function(m,P,ee,ae){return Ei=on({ch1:m,ch2:P,ch3:ee,ch4:ae,pdfColorType:"text",precision:3}),this};var _o=t.charSpace,Rf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(_o||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _o=m,this};var Xl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var P=p.CapJoinStyles[m];if(P===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=P,J(P+" J"),this};var Ql=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var P=p.CapJoinStyles[m];if(P===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ql=P,J(P+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(M(L(m))+" M"),this},p.GState=$h,p.setGState=function(m){(m=typeof m=="string"?Zt[rn[m]]:Vd(null,m)).equals(na)||(J("/"+m.id+" gs"),na=m)};var Vd=function(m,P){if(!m||!rn[m]){var ee=!1;for(var ae in Zt)if(Zt.hasOwnProperty(ae)&&Zt[ae].equals(P)){ee=!0;break}if(ee)P=Zt[ae];else{var ge="GS"+(Object.keys(Zt).length+1).toString(10);Zt[ge]=P,P.id=ge}return m&&(rn[m]=P.id),Nt.publish("addGState",P),P}};p.addGState=function(m,P){return Vd(m,P),this},p.saveGraphicsState=function(){return J("q"),Fn.push({key:ht,size:Ee,color:Ei}),this},p.restoreGraphicsState=function(){J("Q");var m=Fn.pop();return ht=m.key,Ee=m.size,Ei=m.color,na=null,this},p.setCurrentTransformationMatrix=function(m){return J(m.toString()+" cm"),this},p.comment=function(m){return J("#"+m),this};var Co=function(m,P){var ee=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(je){isNaN(je)||(ee=parseFloat(je))}});var ae=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(je){isNaN(je)||(ae=parseFloat(je))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(je){ge=je.toString()}}),this},Zl=function(m,P,ee,ae){Co.call(this,m,P),this.type="rect";var ge=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Pe){isNaN(Pe)||(ge=parseFloat(Pe))}});var je=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Pe){isNaN(Pe)||(je=parseFloat(Pe))}}),this},ec=function(){this.page=er,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=st.slice(0),this.x=zr,this.y=bt,this.matrix=tn,this.width=Ii(q),this.height=Fa(q),this.outputDestination=Ie,this.id="",this.objectNumber=-1};ec.prototype.restore=function(){er=this.page,q=this.currentPage,st=this.pagesContext,ke=this.pages,zr=this.x,bt=this.y,tn=this.matrix,tc(q,this.width),rc(q,this.height),Ie=this.outputDestination};var Hd=function(m,P,ee,ae,ge){Dn.push(new ec),er=q=0,ke=[],zr=m,bt=P,tn=ge,Hl([ee,ae])},qf=function(m){if(Tn[m])Dn.pop().restore();else{var P=new ec,ee="Xo"+(Object.keys(Ir).length+1).toString(10);P.id=ee,Tn[m]=ee,Ir[ee]=P,Nt.publish("addFormObject",P),Dn.pop().restore()}};for(var Ao in p.beginFormObject=function(m,P,ee,ae,ge){return Hd(m,P,ee,ae,ge),this},p.endFormObject=function(m){return qf(m),this},p.doFormObject=function(m,P){var ee=Ir[Tn[m]];return J("q"),J(P.toString()+" cm"),J("/"+ee.id+" Do"),J("Q"),this},p.getFormObject=function(m){var P=Ir[Tn[m]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},p.save=function(m,P){return m=m||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Hi(jo(ia()),m),typeof Hi.unload=="function"&&Xe.setTimeout&&setTimeout(Hi.unload,911),this):new Promise(function(ee,ae){try{var ge=Hi(jo(ia()),m);typeof Hi.unload=="function"&&Xe.setTimeout&&setTimeout(Hi.unload,911),ee(ge)}catch(je){ae(je.message)}})},We.API)We.API.hasOwnProperty(Ao)&&(Ao==="events"&&We.API.events.length?function(m,P){var ee,ae,ge;for(ge=P.length-1;ge!==-1;ge--)ee=P[ge][0],ae=P[ge][1],m.subscribe.apply(m,[ee].concat(typeof ae=="function"?[ae]:ae))}(Nt,We.API.events):p[Ao]=We.API[Ao]);var Ii=p.getPageWidth=function(m){return(st[m=m||q].mediaBox.topRightX-st[m].mediaBox.bottomLeftX)/$e},tc=p.setPageWidth=function(m,P){st[m].mediaBox.topRightX=P*$e+st[m].mediaBox.bottomLeftX},Fa=p.getPageHeight=function(m){return(st[m=m||q].mediaBox.topRightY-st[m].mediaBox.bottomLeftY)/$e},rc=p.setPageHeight=function(m,P){st[m].mediaBox.topRightY=P*$e+st[m].mediaBox.bottomLeftY};return p.internal={pdfEscape:ls,getStyle:zd,getFont:Mf,getFontSize:Me,getCharSpace:Rf,getTextColor:$f,getLineHeight:qd,getLineHeightFactor:Ud,getLineWidth:So,write:Ce,getHorizontalCoordinate:Rn,getVerticalCoordinate:oa,getCoordinateString:zf,getVerticalCoordinateString:Ia,collections:{},newObject:br,newAdditionalObject:mo,newObjectDeferred:pr,newObjectDeferredBegin:Ns,getFilters:Mn,putStream:Os,events:Nt,scaleFactor:$e,pageSize:{getWidth:function(){return Ii(q)},setWidth:function(m){tc(q,m)},getHeight:function(){return Fa(q)},setHeight:function(m){rc(q,m)}},encryptionOptions:f,encryption:$r,getEncryptor:Ef,output:No,getNumberOfPages:_f,pages:ke,out:J,f2:se,f3:T,getPageInfo:Md,getPageInfoByObjId:et,getCurrentPageInfo:If,getPDFVersion:_,Point:Co,Rectangle:Zl,Matrix:Ke,hasHotfix:Od},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ii(q)},set:function(m){tc(q,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fa(q)},set:function(m){rc(q,m)},enumerable:!0,configurable:!0}),kf.call(p,be),ht="F1",Fd(a,r),Nt.publish("initialized"),p}el.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},el.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},el.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},el.prototype.processOwnerPassword=function(t,e){return cp(lp(e).substr(0,5),t)},el.prototype.encryptor=function(t,e){var r=lp(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return cp(r,n)}},$h.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ct(t)!==Ct(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},We.API={events:[]},We.version="2.5.2";var sr=We.API,yg=1,fo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ko=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},at=function(t){return t.toFixed(2)},Ya=function(t){return t.toFixed(5)};sr.__acroform__={};var js=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},D1=function(t){return t*yg},Vn=function(t){var e=new cb,r=Ue.internal.getHeight(t)||0,n=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(at(n)),Number(at(r))],e},Gk=sr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Jk=sr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Yk=sr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ur=sr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yk(t,e-1)},hr=sr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Gk(t,e-1)},fr=sr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Jk(t,e-1)},Kk=sr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+l)||0,d.upperRight_X=r(a+o)||0,d.upperRight_Y=n(i)||0,[Number(at(d.lowerLeft_X)),Number(at(d.lowerLeft_Y)),Number(at(d.upperRight_X)),Number(at(d.upperRight_Y))]},Xk=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=dp(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+at(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Vn(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},dp=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,o=Ue.internal.getHeight(t)||0;o=o<0?-o:o;var l=Ue.internal.getWidth(t)||0;l=l<0?-l:l;var d=function(T,L,$){if(T+1<a.length){var V=L+" "+a[T+1][0];return qu(V,t,$).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var h,f,g=qu("3",t,i).height,y=t.multiline?o-i:(o-g)/2,p=y+=2,S=0,_=0,O=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+qu(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var w="",v=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var A=!1;if(a[N].length!==1&&O!==a[N].length-1){if((g+2)*(v+2)+2>o)continue e;w+=a[N][O],A=!0,_=N,N--}else{w=(w+=a[N][O]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var k=parseInt(N),U=d(k,w,i),M=N>=a.length-1;if(U&&!M){w+=" ",O=0;continue}if(U||M){if(M)_=k;else if(t.multiline&&(g+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(v+2)+2>o)continue e;_=k}}for(var E="",H=S;H<=_;H++){var se=a[H];if(t.multiline){if(H===_){E+=se[O]+" ",O=(O+1)%se.length;continue}if(H===S){E+=se[se.length-1]+" ";continue}}E+=se[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,f=qu(E,t,i).width,t.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;case"left":default:h=2}e+=at(h)+" "+at(p)+` Td
`,e+="("+fo(E)+`) Tj
`,e+=-at(h)+` 0 Td
`,p=-(i+2),f=0,S=A?_:_+1,v++,w=""}break}return n.text=e,n.fontSize=i,n},qu=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Qk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Zk=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},eS=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Ct(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},tS=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(En.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Qk)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new db,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Zk(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],d=[],h=l.Rect;if(l.Rect&&(l.Rect=Kk(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ue.createDefaultAppearanceStream(l),Ct(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Xk(l);d.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var g="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var p=l.appearanceStreamContent[y];if(g+="/"+y+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var S=p[o];typeof S=="function"&&(S=S.call(a,l)),g+="/"+o+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(a,l)),g+="/"+o+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:l.objId}),a.internal.out("endobj")}i&&eS(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},lb=sr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Ct(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+fo(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J0=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+fo(n(t))+")"},Xn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xn.prototype.toString=function(){return this.objId+" 0 R"},Xn.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Xn.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:lb(a,this.objId,this.scope)}):a instanceof Xn?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var cb=function(){Xn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};js(cb,Xn);var db=function(){Xn.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+fo(r(t))+")"}},set:function(r){t=r}})};js(db,Xn);var En=function t(){Xn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ur(e,3)},set:function(w){w?this.F=hr(e,3):this.F=fr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Rh)return;i="FieldObject"+t.FieldNum++}var w=function(v){return v};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+fo(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/yg:h},set:function(w){h=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Rh||this instanceof ro))return J0(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Lr?y:J0(y,this.objId,this.scope)},set:function(w){w=w.toString(),y=this instanceof Lr?w:w.substr(0,1)==="("?Ko(w.substr(1,w.length-2)):Ko(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?Ko(y.substr(1,y.length-1)):y},set:function(w){w=w.toString(),y=this instanceof Lr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Lr?p:J0(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Lr?w:w.substr(0,1)==="("?Ko(w.substr(1,w.length-2)):Ko(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?Ko(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Lr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(w){S=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,1)},set:function(w){w?this.Ff=hr(this.Ff,1):this.Ff=fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,2)},set:function(w){w?this.Ff=hr(this.Ff,2):this.Ff=fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,3)},set:function(w){w?this.Ff=hr(this.Ff,3):this.Ff=fr(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');O=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(O){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};js(En,Xn);var jl=function(){En.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lb(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var d,h=[];d=o.exec(i);)h.push(d[l]);return h}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,18)},set:function(r){r?this.Ff=hr(this.Ff,18):this.Ff=fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=hr(this.Ff,19):this.Ff=fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,20)},set:function(r){r?(this.Ff=hr(this.Ff,20),e.sort()):this.Ff=fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,22)},set:function(r){r?this.Ff=hr(this.Ff,22):this.Ff=fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,23)},set:function(r){r?this.Ff=hr(this.Ff,23):this.Ff=fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,27)},set:function(r){r?this.Ff=hr(this.Ff,27):this.Ff=fr(this.Ff,27)}}),this.hasAppearanceStream=!1};js(jl,En);var Nl=function(){jl.call(this),this.fontName="helvetica",this.combo=!1};js(Nl,jl);var kl=function(){Nl.call(this),this.combo=!0};js(kl,Nl);var nh=function(){kl.call(this),this.edit=!0};js(nh,kl);var Lr=function(){En.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,15)},set:function(r){r?this.Ff=hr(this.Ff,15):this.Ff=fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,16)},set:function(r){r?this.Ff=hr(this.Ff,16):this.Ff=fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,17)},set:function(r){r?this.Ff=hr(this.Ff,17):this.Ff=fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,26)},set:function(r){r?this.Ff=hr(this.Ff,26):this.Ff=fr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+fo(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ct(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};js(Lr,En);var ah=function(){Lr.call(this),this.pushButton=!0};js(ah,Lr);var Sl=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};js(Sl,Lr);var Rh=function(){var t,e;En.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+fo(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ct(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};js(Rh,En),Sl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Sl.prototype.createOption=function(t){var e=new Rh;return e.Parent=this,e.optionName=t,this.Kids.push(e),rS.call(this.scope,e),e};var ih=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};js(ih,Lr);var ro=function(){En.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,13)},set:function(e){e?this.Ff=hr(this.Ff,13):this.Ff=fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,21)},set:function(e){e?this.Ff=hr(this.Ff,21):this.Ff=fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,23)},set:function(e){e?this.Ff=hr(this.Ff,23):this.Ff=fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,24)},set:function(e){e?this.Ff=hr(this.Ff,24):this.Ff=fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,25)},set:function(e){e?this.Ff=hr(this.Ff,25):this.Ff=fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,26)},set:function(e){e?this.Ff=hr(this.Ff,26):this.Ff=fr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};js(ro,En);var oh=function(){ro.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ur(this.Ff,14)},set:function(t){t?this.Ff=hr(this.Ff,14):this.Ff=fr(this.Ff,14)}}),this.password=!0};js(oh,ro);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Vn(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=dp(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+at(Ue.internal.getWidth(t))+" "+at(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+at(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Vn(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Ue.internal.getHeight(t),o=Ue.internal.getWidth(t),l=dp(t,t.caption);return a.push("1 g"),a.push("0 0 "+at(o)+" "+at(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+at(o-1)+" "+at(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+at(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Vn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+at(Ue.internal.getWidth(t))+" "+at(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Vn(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Ue.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ya(Ue.internal.getWidth(t)/2)+" "+Ya(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Vn(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ue.internal.Bezier_C).toFixed(5)),o=Number((n*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ya(Ue.internal.getWidth(t)/2)+" "+Ya(Ue.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ya(Ue.internal.getWidth(t)/2)+" "+Ya(Ue.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Vn(t);e.scope=t.scope;var r=[],n=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ue.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ya(Ue.internal.getWidth(t)/2)+" "+Ya(Ue.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Vn(t);e.scope=t.scope;var r=[],n=Ue.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+at(Ue.internal.getWidth(t)-2)+" "+at(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(at(n.x1.x)+" "+at(n.x1.y)+" m"),r.push(at(n.x2.x)+" "+at(n.x2.y)+" l"),r.push(at(n.x4.x)+" "+at(n.x4.y)+" m"),r.push(at(n.x3.x)+" "+at(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Vn(t);e.scope=t.scope;var r=Ue.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+at(Ue.internal.getWidth(t))+" "+at(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+at(Ue.internal.getWidth(t)-2)+" "+at(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(at(r.x1.x)+" "+at(r.x1.y)+" m"),n.push(at(r.x2.x)+" "+at(r.x2.y)+" l"),n.push(at(r.x4.x)+" "+at(r.x4.y)+" m"),n.push(at(r.x3.x)+" "+at(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Vn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+at(Ue.internal.getWidth(t))+" "+at(Ue.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),r=Ue.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ue.internal.getWidth=function(t){var e=0;return Ct(t)==="object"&&(e=D1(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return Ct(t)==="object"&&(e=D1(t.Rect[3])),e};var rS=sr.addField=function(t){if(tS(this,t),!(t instanceof En))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};sr.AcroFormChoiceField=jl,sr.AcroFormListBox=Nl,sr.AcroFormComboBox=kl,sr.AcroFormEditBox=nh,sr.AcroFormButton=Lr,sr.AcroFormPushButton=ah,sr.AcroFormRadioButton=Sl,sr.AcroFormCheckBox=ih,sr.AcroFormTextField=ro,sr.AcroFormPasswordField=oh,sr.AcroFormAppearance=Ue,sr.AcroForm={ChoiceField:jl,ListBox:Nl,ComboBox:kl,EditBox:nh,Button:Lr,PushButton:ah,RadioButton:Sl,CheckBox:ih,TextField:ro,PasswordField:oh,Appearance:Ue},We.AcroForm={ChoiceField:jl,ListBox:Nl,ComboBox:kl,EditBox:nh,Button:Lr,PushButton:ah,RadioButton:Sl,CheckBox:ih,TextField:ro,PasswordField:oh,Appearance:Ue};function ub(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(T,L){var $,V,Y,re,ne,R=e;if((L=L||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(U(T))for(ne in r)for(Y=r[ne],$=0;$<Y.length;$+=1){for(re=!0,V=0;V<Y[$].length;V+=1)if(Y[$][V]!==void 0&&Y[$][V]!==T[V]){re=!1;break}if(re===!0){R=ne;break}}else for(ne in r)for(Y=r[ne],$=0;$<Y.length;$+=1){for(re=!0,V=0;V<Y[$].length;V+=1)if(Y[$][V]!==void 0&&Y[$][V]!==T.charCodeAt(V)){re=!1;break}if(re===!0){R=ne;break}}return R===e&&L!==e&&(R=L),R},a=function T(L){for(var $=this.internal.write,V=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:L.width}),re.push({key:"Height",value:L.height}),L.colorSpace===O.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===O.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var ne="",R=0,W=L.transparency.length;R<W;R++)ne+=L.transparency[R]+" "+L.transparency[R]+" ";re.push({key:"Mask",value:"["+ne+"]"})}L.sMask!==void 0&&re.push({key:"SMask",value:L.objectId+1+" 0 R"});var G=L.filter!==void 0?["/"+L.filter]:void 0;if(V({data:L.data,additionalKeyValues:re,alreadyAppliedFilters:G,objectId:L.objectId}),$("endobj"),"sMask"in L&&L.sMask!==void 0){var ue="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,b={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ue,data:L.sMask};"filter"in L&&(b.filter=L.filter),T.call(this,b)}if(L.colorSpace===O.INDEXED){var q=this.internal.newObject();V({data:E(new Uint8Array(L.palette)),objectId:q}),$("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var L in T)a.call(this,T[L])},o=function(){var T,L=this.internal.collections.addImage_images,$=this.internal.write;for(var V in L)$("/I"+(T=L[V]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},h=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},g=function(T){return Ct(T)==="object"&&T.nodeType===1},y=function(T,L){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var $=""+T.getAttribute("src");if($.indexOf("data:image/")===0)return Xc(unescape($).split("base64,").pop());var V=t.loadFile($,!0);if(V!==void 0)return V}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Y;switch(L){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return Xc(T.toDataURL(Y,1).split("base64,").pop())}},p=function(T){var L=this.internal.collections.addImage_images;if(L){for(var $ in L)if(T===L[$].alias)return L[$]}},S=function(T,L,$){return T||L||(T=-96,L=-96),T<0&&(T=-1*$.width*72/T/this.internal.scaleFactor),L<0&&(L=-1*$.height*72/L/this.internal.scaleFactor),T===0&&(T=L*$.width/$.height),L===0&&(L=T*$.height/$.width),[T,L]},_=function(T,L,$,V,Y,re){var ne=S.call(this,$,V,Y),R=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,G=d.call(this);if($=ne[0],V=ne[1],G[Y.index]=Y,re){re*=Math.PI/180;var ue=Math.cos(re),b=Math.sin(re),q=function(te){return te.toFixed(4)},F=[q(ue),q(b),q(-1*b),q(ue),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,R(T),W(L+V),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([R($),"0","0",R(V),"0","0","cm"].join(" "))):this.internal.write([R($),"0","0",R(V),R(T),W(L+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},O=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(T){var L,$,V=0;if(typeof T=="string")for($=T.length,L=0;L<$;L++)V=(V<<5)-V+T.charCodeAt(L),V|=0;else if(U(T))for($=T.byteLength/2,L=0;L<$;L++)V=(V<<5)-V+T[L],V|=0;return V},N=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var L=!0;return T.length===0&&(L=!1),T.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(L=!1),L},A=t.__addimage__.extractImageFromDataUrl=function(T){var L=(T=T||"").split("base64,"),$=null;if(L.length===2){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(V)&&($={mimeType:V[1],charset:V[2],data:L[1]})}return $},k=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return k()&&T instanceof ArrayBuffer};var U=t.__addimage__.isArrayBufferView=function(T){return k()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(T){for(var L=T.length,$=new Uint8Array(L),V=0;V<L;V++)$[V]=T.charCodeAt(V);return $},E=t.__addimage__.arrayBufferToBinaryString=function(T){for(var L="",$=U(T)?T:new Uint8Array(T),V=0;V<$.length;V+=8192)L+=String.fromCharCode.apply(null,$.subarray(V,V+8192));return L};t.addImage=function(){var T,L,$,V,Y,re,ne,R,W;if(typeof arguments[1]=="number"?(L=e,$=arguments[1],V=arguments[2],Y=arguments[3],re=arguments[4],ne=arguments[5],R=arguments[6],W=arguments[7]):(L=arguments[1],$=arguments[2],V=arguments[3],Y=arguments[4],re=arguments[5],ne=arguments[6],R=arguments[7],W=arguments[8]),Ct(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var G=T;T=G.imageData,L=G.format||L||e,$=G.x||$||0,V=G.y||V||0,Y=G.w||G.width||Y,re=G.h||G.height||re,ne=G.alias||ne,R=G.compression||R,W=G.rotation||G.angle||W}var ue=this.internal.getFilters();if(R===void 0&&ue.indexOf("FlateEncode")!==-1&&(R="SLOW"),isNaN($)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var b=H.call(this,T,L,ne,R);return _.call(this,$,V,Y,re,b,W),this};var H=function(T,L,$,V){var Y,re,ne;if(typeof T=="string"&&n(T)===e){T=unescape(T);var R=se(T,!1);(R!==""||(R=t.loadFile(T,!0))!==void 0)&&(T=R)}if(g(T)&&(T=y(T,L)),L=n(T,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ne=$)==null||ne.length===0)&&($=function(W){return typeof W=="string"||U(W)?v(W):U(W.data)?v(W.data):null}(T)),(Y=p.call(this,$))||(k()&&(T instanceof Uint8Array||L==="RGBA"||(re=T,T=M(T))),Y=this["process"+L.toUpperCase()](T,h.call(this),$,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:w.NONE}(V),re)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},se=t.__addimage__.convertBase64ToBinaryString=function(T,L){var $;L=typeof L!="boolean"||L;var V,Y="";if(typeof T=="string"){V=($=A(T))!==null?$.data:T;try{Y=Xc(V)}catch(re){if(L)throw N(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};t.getImageProperties=function(T){var L,$,V="";if(g(T)&&(T=y(T)),typeof T=="string"&&n(T)===e&&((V=se(T,!1))===""&&(V=t.loadFile(T)||""),T=V),$=n(T),!f($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!k()||T instanceof Uint8Array||(T=M(T)),!(L=this["process"+$.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=$,L}})(We.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};We.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,f=!1,g=0;g<h.length&&!f;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",i+=" /Popup "+O.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+p(w(v))+") >>",_.content=i;var N=_.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",O.content=i,this.internal.write(_.objId,"0 R",O.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var U=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+U+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(r),y:h(n),w:d(r+a),h:h(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(h*f)}else l=d,o=h;return this.text(r,n,a,i),a+=.2*h,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-h,l,o,i),d},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(We.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},l=t.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&i(_)&&e[_.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&a.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&i(_)&&e[_.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&i(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&i(_)&&e[_.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&i(_)&&e[_.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(_){var O=0,w=r,v="",N=0;for(O=0;O<_.length;O+=1)w[_.charCodeAt(O)]!==void 0?(N++,typeof(w=w[_.charCodeAt(O)])=="number"&&(v+=String.fromCharCode(w),w=r,N=0),O===_.length-1&&(w=r,v+=_.charAt(O-(N-1)),O-=N-1,N=0)):(w=r,v+=_.charAt(O-N),O-=N,N=0);return v};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(_,O,w){return o(_)?i(_)===!1?-1:!h(_)||!o(O)&&!o(w)||!o(w)&&l(O)||l(_)&&!o(O)||l(_)&&d(O)||l(_)&&l(O)?0:f(_)&&o(O)&&!l(O)&&o(w)&&h(w)?3:l(_)||!o(w)?1:2:-1},p=function(_){var O=0,w=0,v=0,N="",A="",k="",U=(_=_||"").split("\\s+"),M=[];for(O=0;O<U.length;O+=1){for(M.push(""),w=0;w<U[O].length;w+=1)N=U[O][w],A=U[O][w-1],k=U[O][w+1],o(N)?(v=y(N,A,k),M[O]+=v!==-1?String.fromCharCode(e[N.charCodeAt(0)][v]):N):M[O]+=N;M[O]=g(M[O])}return M.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var _,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(O)){var v=0;for(w=[],v=0;v<O.length;v+=1)Array.isArray(O[v])?w.push([p(O[v][0]),O[v][1],O[v][2]]):w.push([p(O[v])]);_=w}else _=p(O);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",S])}(We.API),We.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(We.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(_){S=_}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,h){n.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,p=0,S=0,_=0,O=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var w=h.maxWidth;w>0?typeof d=="string"?d=this.splitTextToSize(d,w):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(N,A){return N.concat(O.splitTextToSize(A,w))},[])):d=Array.isArray(d)?d:[d];for(var v=0;v<d.length;v++)p<(_=this.getStringUnitWidth(d[v],{font:g})*f)&&(p=_);return p!==0&&(S=d.length),{w:p/=y,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,p&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};t.table=function(d,h,f,g,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,S,_,O,w=[],v=[],N=[],A={},k={},U=[],M=[],E=(y=y||{}).autoSize||!1,H=y.printHeaders!==!1,se=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},e),L=typeof y.padding=="number"?y.padding:3,$=y.headerBackgroundColor||"#c8c8c8",V=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=V,this.setFontSize(se),g==null)v=w=Object.keys(f[0]),N=w.map(function(){return"left"});else if(Array.isArray(g)&&Ct(g[0])==="object")for(w=g.map(function(G){return G.name}),v=g.map(function(G){return G.prompt||G.name||""}),N=g.map(function(G){return G.align||"left"}),p=0;p<g.length;p+=1)k[g[p].name]=g[p].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(v=w=g,N=w.map(function(){return"left"}));if(E||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<w.length;p+=1){for(A[O=w[p]]=f.map(function(G){return G[O]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=A[O],this.setFont(void 0,"normal"),_=0;_<S.length;_+=1)U.push(this.getTextDimensions(S[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[O]=Math.max.apply(null,U)+L+L,U=[]}if(H){var Y={};for(p=0;p<w.length;p+=1)Y[w[p]]={},Y[w[p]].text=v[p],Y[w[p]].align=N[p];var re=l.call(this,Y,k);M=w.map(function(G){return new i(d,h,k[G],re,Y[G].text,void 0,Y[G].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var ne=g.reduce(function(G,ue){return G[ue.name]=ue.align,G},{});for(p=0;p<f.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:f[p]},this);var R=l.call(this,f[p],k);for(_=0;_<w.length;_+=1){var W=f[p][w[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:_,data:W},this),o.call(this,new i(d,h,k[w[_]],R,W,p+2,ne[w[_]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var l=function(d,h){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(p){var S=d[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/y+f+f},this).reduce(function(p,S){return Math.max(p,S)},0)};t.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(We.API);var hb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],up=ub(fb),mb=[100,200,300,400,500,600,700,800,900],sS=ub(mb);function hp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hb[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof up[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function O1(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var nS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},M1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z1(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function aS(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},nS,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=hp(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+z1(i)+"' and default family '"+n+"'.");if(o=function(d,h){if(h[d])return h[d];var f=up[d],g=f<=up.normal?-1:1,y=O1(h,fb,f,g);if(!y)throw new Error("Could not find a matching font-stretch value for "+d);return y}(i.stretch,o),o=function(d,h){if(h[d])return h[d];for(var f=hb[d],g=0;g<f.length;++g)if(h[f[g]])return h[f[g]];throw new Error("Could not find a matching font-style for "+d)}(i.style,o),!(o=function(d,h){if(h[d])return h[d];if(d===400&&h[500])return h[500];if(d===500&&h[400])return h[400];var f=sS[d],g=O1(h,mb,f,d<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+d);return g}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+z1(i)+"'.");return o}function $1(t){return t.trimLeft()}function iS(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function oS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Bu,R1,q1,Y0=["times"];(function(t){var e,r,n,a,i,o,l,d,h,f=function(b){return b=b||{},this.isStrokeTransparent=b.isStrokeTransparent||!1,this.strokeOpacity=b.strokeOpacity||1,this.strokeStyle=b.strokeStyle||"#000000",this.fillStyle=b.fillStyle||"#000000",this.isFillTransparent=b.isFillTransparent||!1,this.fillOpacity=b.fillOpacity||1,this.font=b.font||"10px sans-serif",this.textBaseline=b.textBaseline||"alphabetic",this.textAlign=b.textAlign||"left",this.lineWidth=b.lineWidth||1,this.lineJoin=b.lineJoin||"miter",this.lineCap=b.lineCap||"butt",this.path=b.path||[],this.transform=b.transform!==void 0?b.transform.clone():new d,this.globalCompositeOperation=b.globalCompositeOperation||"normal",this.globalAlpha=b.globalAlpha||1,this.clip_path=b.clip_path||[],this.currentPoint=b.currentPoint||new o,this.miterLimit=b.miterLimit||10,this.lastPoint=b.lastPoint||new o,this.lineDashOffset=b.lineDashOffset||0,this.lineDash=b.lineDash||[],this.margin=b.margin||[0,0,0,0],this.prevPageLastElemOffset=b.prevPageLastElemOffset||0,this.ignoreClearRect=typeof b.ignoreClearRect!="boolean"||b.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,h=new f}]);var g=function(b){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=b;Object.defineProperty(this,"pdf",{get:function(){return q}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(ie){F=!!ie}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(ie){te=!!ie}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ie){isNaN(ie)||(Z=ie)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(ie){isNaN(ie)||(pe=ie)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ie){var J;typeof ie=="number"?J=[ie,ie,ie,ie]:((J=new Array(4))[0]=ie[0],J[1]=ie.length>=2?ie[1]:J[0],J[2]=ie.length>=3?ie[2]:J[0],J[3]=ie.length>=4?ie[3]:J[1]),h.margin=J}});var K=!1;Object.defineProperty(this,"autoPaging",{get:function(){return K},set:function(ie){K=ie}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(ie){ce=ie}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(ie){he=ie}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ie){ie instanceof f&&(h=ie)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ie){h.path=ie}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ie){ke=ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ie){var J;J=y(ie),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ie){var J=y(ie);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ie){["butt","round","square"].indexOf(ie)!==-1&&(this.ctx.lineCap=ie,this.pdf.setLineCap(ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ie){isNaN(ie)||(this.ctx.lineWidth=ie,this.pdf.setLineWidth(ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ie){["bevel","round","miter"].indexOf(ie)!==-1&&(this.ctx.lineJoin=ie,this.pdf.setLineJoin(ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ie){isNaN(ie)||(this.ctx.miterLimit=ie,this.pdf.setMiterLimit(ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ie){this.ctx.textBaseline=ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ie){["right","end","center","left","start"].indexOf(ie)!==-1&&(this.ctx.textAlign=ie)}});var ve=null;function Ie(ie,J){if(ve===null){var Ce=function(ze){var be=[];return Object.keys(ze).forEach(function(Ee){ze[Ee].forEach(function(Te){var Me=null;switch(Te){case"bold":Me={family:Ee,weight:"bold"};break;case"italic":Me={family:Ee,style:"italic"};break;case"bolditalic":Me={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:Ee}}Me!==null&&(Me.ref={name:Ee,style:Te},be.push(Me))})}),be}(ie.getFontList());ve=function(ze){for(var be={},Ee=0;Ee<ze.length;++Ee){var Te=hp(ze[Ee]),Me=Te.family,Ge=Te.stretch,rt=Te.style,ct=Te.weight;be[Me]=be[Me]||{},be[Me][Ge]=be[Me][Ge]||{},be[Me][Ge][rt]=be[Me][Ge][rt]||{},be[Me][Ge][rt][ct]=Te}return be}(Ce.concat(J))}return ve}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(ie){ve=null,Ve=ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ie){var J;if(this.ctx.font=ie,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ie))!==null){var Ce=J[1],ze=(J[2],J[3]),be=J[4],Ee=(J[5],J[6]),Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(Te==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var Me=function(Ze){var ht,$e,zr=[],bt=Ze.trim();if(bt==="")return Y0;if(bt in M1)return[M1[bt]];for(;bt!=="";){switch($e=null,ht=(bt=$1(bt)).charAt(0)){case'"':case"'":$e=iS(bt.substring(1),ht);break;default:$e=oS(bt)}if($e===null||(zr.push($e[0]),(bt=$1($e[1]))!==""&&bt.charAt(0)!==","))return Y0;bt=bt.replace(/^,/,"")}return zr}(Ee);if(this.fontFaces){var Ge=aS(Ie(this.pdf,this.fontFaces),Me.map(function(Ze){return{family:Ze,stretch:"normal",weight:ze,style:Ce}}));this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var rt="";(ze==="bold"||parseInt(ze,10)>=700||Ce==="bold")&&(rt="bold"),Ce==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var ct="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Me.length;xt++){if(this.pdf.internal.getFont(Me[xt],rt,{noFallback:!0,disableWarning:!0})!==void 0){ct=Me[xt];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(Me[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Me[xt],rt="bold";else if(this.pdf.internal.getFont(Me[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Me[xt],rt="normal";break}}if(ct===""){for(var Pt=0;Pt<Me.length;Pt++)if(ut[Me[Pt]]){ct=ut[Me[Pt]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ie){this.ctx.globalCompositeOperation=ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ie){this.ctx.globalAlpha=ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ie){this.ctx.lineDashOffset=ie,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ie){this.ctx.lineDash=ie,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ie){this.ctx.ignoreClearRect=!!ie}})};g.prototype.setLineDash=function(b){this.lineDash=b},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){A.call(this,"fill",!1)},g.prototype.stroke=function(){A.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(b,q){if(isNaN(b)||isNaN(q))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new o(b,q));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(b,q)},g.prototype.closePath=function(){var b=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Ct(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){b=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(b.x,b.y)},g.prototype.lineTo=function(b,q){if(isNaN(b)||isNaN(q))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new o(b,q));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},g.prototype.quadraticCurveTo=function(b,q,F,te){if(isNaN(F)||isNaN(te)||isNaN(b)||isNaN(q))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(F,te)),pe=this.ctx.transform.applyToPoint(new o(b,q));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},g.prototype.bezierCurveTo=function(b,q,F,te,Z,pe){if(isNaN(Z)||isNaN(pe)||isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var K=this.ctx.transform.applyToPoint(new o(Z,pe)),ce=this.ctx.transform.applyToPoint(new o(b,q)),he=this.ctx.transform.applyToPoint(new o(F,te));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:he.x,y2:he.y,x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},g.prototype.arc=function(b,q,F,te,Z,pe){if(isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te)||isNaN(Z))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var K=this.ctx.transform.applyToPoint(new o(b,q));b=K.x,q=K.y;var ce=this.ctx.transform.applyToPoint(new o(0,F)),he=this.ctx.transform.applyToPoint(new o(0,0));F=Math.sqrt(Math.pow(ce.x-he.x,2)+Math.pow(ce.y-he.y,2))}Math.abs(Z-te)>=2*Math.PI&&(te=0,Z=2*Math.PI),this.path.push({type:"arc",x:b,y:q,radius:F,startAngle:te,endAngle:Z,counterclockwise:pe})},g.prototype.arcTo=function(b,q,F,te,Z){throw new Error("arcTo not implemented.")},g.prototype.rect=function(b,q,F,te){if(isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(b,q),this.lineTo(b+F,q),this.lineTo(b+F,q+te),this.lineTo(b,q+te),this.lineTo(b,q),this.lineTo(b+F,q),this.lineTo(b,q)},g.prototype.fillRect=function(b,q,F,te){if(isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(b,q,F,te),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},g.prototype.strokeRect=function(b,q,F,te){if(isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(b,q,F,te),this.stroke())},g.prototype.clearRect=function(b,q,F,te){if(isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(b,q,F,te))},g.prototype.save=function(b){b=typeof b!="boolean"||b;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),b){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},g.prototype.restore=function(b){b=typeof b!="boolean"||b;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(q),b&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(b){var q,F,te,Z;if(b.isCanvasGradient===!0&&(b=b.getColor()),!b)return{r:0,g:0,b:0,a:0,style:b};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(b))q=0,F=0,te=0,Z=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(b);if(pe!==null)q=parseInt(pe[1]),F=parseInt(pe[2]),te=parseInt(pe[3]),Z=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(b))!==null)q=parseInt(pe[1]),F=parseInt(pe[2]),te=parseInt(pe[3]),Z=parseFloat(pe[4]);else{if(Z=1,typeof b=="string"&&b.charAt(0)!=="#"){var K=new ab(b);b=K.ok?K.toHex():"#000000"}b.length===4?(q=b.substring(1,2),q+=q,F=b.substring(2,3),F+=F,te=b.substring(3,4),te+=te):(q=b.substring(1,3),F=b.substring(3,5),te=b.substring(5,7)),q=parseInt(q,16),F=parseInt(F,16),te=parseInt(te,16)}}return{r:q,g:F,b:te,a:Z,style:b}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(b,q,F,te){if(isNaN(q)||isNaN(F)||typeof b!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var Z=R(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:b,x:q,y:F,scale:pe,angle:Z,align:this.textAlign,maxWidth:te})}},g.prototype.strokeText=function(b,q,F,te){if(isNaN(q)||isNaN(F)||typeof b!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){te=isNaN(te)?void 0:te;var Z=R(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:b,x:q,y:F,scale:pe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:te})}},g.prototype.measureText=function(b){if(typeof b!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,F=this.pdf.internal.scaleFactor,te=q.internal.getFontSize(),Z=q.getStringUnitWidth(b)*te/q.internal.scaleFactor,pe=function(K){var ce=(K=K||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new pe({width:Z*=Math.round(96*F/72*1e4)/1e4})},g.prototype.scale=function(b,q){if(isNaN(b)||isNaN(q))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new d(b,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},g.prototype.rotate=function(b){if(isNaN(b))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new d(Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(b,q){if(isNaN(b)||isNaN(q))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new d(1,0,0,1,b,q);this.ctx.transform=this.ctx.transform.multiply(F)},g.prototype.transform=function(b,q,F,te,Z,pe){if(isNaN(b)||isNaN(q)||isNaN(F)||isNaN(te)||isNaN(Z)||isNaN(pe))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var K=new d(b,q,F,te,Z,pe);this.ctx.transform=this.ctx.transform.multiply(K)},g.prototype.setTransform=function(b,q,F,te,Z,pe){b=isNaN(b)?1:b,q=isNaN(q)?0:q,F=isNaN(F)?0:F,te=isNaN(te)?1:te,Z=isNaN(Z)?0:Z,pe=isNaN(pe)?0:pe,this.ctx.transform=new d(b,q,F,te,Z,pe)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(b,q,F,te,Z,pe,K,ce,he){var ke=this.pdf.getImageProperties(b),ve=1,Ie=1,Ve=1,ie=1;te!==void 0&&ce!==void 0&&(Ve=ce/te,ie=he/Z,ve=ke.width/te*ce/te,Ie=ke.height/Z*he/Z),pe===void 0&&(pe=q,K=F,q=0,F=0),te!==void 0&&ce===void 0&&(ce=te,he=Z),te===void 0&&ce===void 0&&(ce=ke.width,he=ke.height);for(var J,Ce=this.ctx.transform.decompose(),ze=R(Ce.rotate.shx),be=new d,Ee=(be=(be=(be=be.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new l(pe-q*Ve,K-F*ie,te*ve,Z*Ie)),Te=O.call(this,Ee),Me=[],Ge=0;Ge<Te.length;Ge+=1)Me.indexOf(Te[Ge])===-1&&Me.push(Te[Ge]);if(N(Me),this.autoPaging)for(var rt=Me[0],ct=Me[Me.length-1],ut=rt;ut<ct+1;ut++){this.pdf.setPage(ut);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=ut===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=ut===1?0:Ze+(ut-2)*ht;if(this.ctx.clip_path.length!==0){var zr=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(J,this.posX+this.margin[3],-$e+Pt+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=zr}var bt=JSON.parse(JSON.stringify(Ee));bt=v([bt],this.posX+this.margin[3],-$e+Pt+this.ctx.prevPageLastElemOffset)[0];var tn=(ut>rt||ut<ct)&&_.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,ht,null).clip().discardPath()),this.pdf.addImage(b,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,ze),tn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(b,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,ze)};var O=function(b,q,F){var te=[];q=q||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(b.type){default:case"mt":case"lt":te.push(Math.floor((b.y+Z)/F)+1);break;case"arc":te.push(Math.floor((b.y+Z-b.radius)/F)+1),te.push(Math.floor((b.y+Z+b.radius)/F)+1);break;case"qct":var pe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,b.x1,b.y1,b.x,b.y);te.push(Math.floor((pe.y+Z)/F)+1),te.push(Math.floor((pe.y+pe.h+Z)/F)+1);break;case"bct":var K=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,b.x1,b.y1,b.x2,b.y2,b.x,b.y);te.push(Math.floor((K.y+Z)/F)+1),te.push(Math.floor((K.y+K.h+Z)/F)+1);break;case"rect":te.push(Math.floor((b.y+Z)/F)+1),te.push(Math.floor((b.y+b.h+Z)/F)+1)}for(var ce=0;ce<te.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<te[ce];)w.call(this);return te},w=function(){var b=this.fillStyle,q=this.strokeStyle,F=this.font,te=this.lineCap,Z=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=b,this.strokeStyle=q,this.font=F,this.lineCap=te,this.lineWidth=Z,this.lineJoin=pe},v=function(b,q,F){for(var te=0;te<b.length;te++)switch(b[te].type){case"bct":b[te].x2+=q,b[te].y2+=F;case"qct":b[te].x1+=q,b[te].y1+=F;case"mt":case"lt":case"arc":default:b[te].x+=q,b[te].y+=F}return b},N=function(b){return b.sort(function(q,F){return q-F})},A=function(b,q){for(var F,te,Z=this.fillStyle,pe=this.strokeStyle,K=this.lineCap,ce=this.lineWidth,he=Math.abs(ce*this.ctx.transform.scaleX),ke=this.lineJoin,ve=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Ve=[],ie=0;ie<Ie.length;ie++)if(Ie[ie].x!==void 0)for(var J=O.call(this,Ie[ie]),Ce=0;Ce<J.length;Ce+=1)Ve.indexOf(J[Ce])===-1&&Ve.push(J[Ce]);for(var ze=0;ze<Ve.length;ze++)for(;this.pdf.internal.getNumberOfPages()<Ve[ze];)w.call(this);if(N(Ve),this.autoPaging)for(var be=Ve[0],Ee=Ve[Ve.length-1],Te=be;Te<Ee+1;Te++){this.pdf.setPage(Te),this.fillStyle=Z,this.strokeStyle=pe,this.lineCap=K,this.lineWidth=he,this.lineJoin=ke;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Te===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Te===1?0:rt+(Te-2)*ct;if(this.ctx.clip_path.length!==0){var xt=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(F,this.posX+this.margin[3],-ut+Ge+this.ctx.prevPageLastElemOffset),k.call(this,b,!0),this.path=xt}if(te=JSON.parse(JSON.stringify(ve)),this.path=v(te,this.posX+this.margin[3],-ut+Ge+this.ctx.prevPageLastElemOffset),q===!1||Te===0){var Pt=(Te>be||Te<Ee)&&_.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,ct,null).clip().discardPath()),k.call(this,b,q),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=he,k.call(this,b,q),this.lineWidth=ce;this.path=ve},k=function(b,q){if((b!=="stroke"||q||!S.call(this))&&(b==="stroke"||q||!p.call(this))){for(var F,te,Z=[],pe=this.path,K=0;K<pe.length;K++){var ce=pe[K];switch(ce.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ce,deltas:[],abs:[]});break;case"lt":var he=Z.length;if(pe[K-1]&&!isNaN(pe[K-1].x)&&(F=[ce.x-pe[K-1].x,ce.y-pe[K-1].y],he>0)){for(;he>=0;he--)if(Z[he-1].close!==!0&&Z[he-1].begin!==!0){Z[he-1].deltas.push(F),Z[he-1].abs.push(ce);break}}break;case"bct":F=[ce.x1-pe[K-1].x,ce.y1-pe[K-1].y,ce.x2-pe[K-1].x,ce.y2-pe[K-1].y,ce.x-pe[K-1].x,ce.y-pe[K-1].y],Z[Z.length-1].deltas.push(F);break;case"qct":var ke=pe[K-1].x+2/3*(ce.x1-pe[K-1].x),ve=pe[K-1].y+2/3*(ce.y1-pe[K-1].y),Ie=ce.x+2/3*(ce.x1-ce.x),Ve=ce.y+2/3*(ce.y1-ce.y),ie=ce.x,J=ce.y;F=[ke-pe[K-1].x,ve-pe[K-1].y,Ie-pe[K-1].x,Ve-pe[K-1].y,ie-pe[K-1].x,J-pe[K-1].y],Z[Z.length-1].deltas.push(F);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ce)}}te=q?null:b==="stroke"?"stroke":"fill";for(var Ce=!1,ze=0;ze<Z.length;ze++)if(Z[ze].arc)for(var be=Z[ze].abs,Ee=0;Ee<be.length;Ee++){var Te=be[Ee];Te.type==="arc"?E.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,q,!Ce):$.call(this,Te.x,Te.y),Ce=!0}else if(Z[ze].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(Z[ze].begin!==!0){var Me=Z[ze].start.x,Ge=Z[ze].start.y;V.call(this,Z[ze].deltas,Me,Ge),Ce=!0}te&&H.call(this,te),q&&se.call(this)}},U=function(b){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return b-F;case"top":return b+q-F;case"hanging":return b+q-2*F;case"middle":return b+q/2-F;case"ideographic":return b;case"alphabetic":default:return b}},M=function(b){return b+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var b=function(){};return b.colorStops=[],b.addColorStop=function(q,F){this.colorStops.push([q,F])},b.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},b.isCanvasGradient=!0,b},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(b,q,F,te,Z,pe,K,ce,he){for(var ke=re.call(this,F,te,Z,pe),ve=0;ve<ke.length;ve++){var Ie=ke[ve];ve===0&&(he?T.call(this,Ie.x1+b,Ie.y1+q):$.call(this,Ie.x1+b,Ie.y1+q)),Y.call(this,b,q,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ce?se.call(this):H.call(this,K)},H=function(b){switch(b){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(b,q){this.pdf.internal.out(r(b)+" "+n(q)+" m")},L=function(b){var q;switch(b.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var F=this.pdf.getTextDimensions(b.text),te=U.call(this,b.y),Z=M.call(this,te)-F.h,pe=this.ctx.transform.applyToPoint(new o(b.x,te)),K=this.ctx.transform.decompose(),ce=new d;ce=(ce=(ce=ce.multiply(K.translate)).multiply(K.skew)).multiply(K.scale);for(var he,ke,ve,Ie=this.ctx.transform.applyToRectangle(new l(b.x,te,F.w,F.h)),Ve=ce.applyToRectangle(new l(b.x,Z,F.w,F.h)),ie=O.call(this,Ve),J=[],Ce=0;Ce<ie.length;Ce+=1)J.indexOf(ie[Ce])===-1&&J.push(ie[Ce]);if(N(J),this.autoPaging)for(var ze=J[0],be=J[J.length-1],Ee=ze;Ee<be+1;Ee++){this.pdf.setPage(Ee);var Te=Ee===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[2],rt=Ge-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],ut=ct-this.margin[3],xt=Ee===1?0:Me+(Ee-2)*rt;if(this.ctx.clip_path.length!==0){var Pt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(he,this.posX+this.margin[3],-1*xt+Te),k.call(this,"fill",!0),this.path=Pt}var Ze=v([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-xt+Te+this.ctx.prevPageLastElemOffset)[0];b.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*b.scale),ve=this.lineWidth,this.lineWidth=ve*b.scale);var ht=this.autoPaging!=="text";if(ht||Ze.y+Ze.h<=Ge){if(ht||Ze.y>=Te&&Ze.x<=ct){var $e=ht?b.text:this.pdf.splitTextToSize(b.text,b.maxWidth||ct-Ze.x)[0],zr=v([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-xt+Te+this.ctx.prevPageLastElemOffset)[0],bt=ht&&(Ee>ze||Ee<be)&&_.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,rt,null).clip().discardPath()),this.pdf.text($e,zr.x,zr.y,{angle:b.angle,align:q,renderingMode:b.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else Ze.y<Ge&&(this.ctx.prevPageLastElemOffset+=Ge-Ze.y);b.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=ve)}else b.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*b.scale),ve=this.lineWidth,this.lineWidth=ve*b.scale),this.pdf.text(b.text,pe.x+this.posX,pe.y+this.posY,{angle:b.angle,align:q,renderingMode:b.renderingMode,maxWidth:b.maxWidth}),b.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=ve)},$=function(b,q,F,te){F=F||0,te=te||0,this.pdf.internal.out(r(b+F)+" "+n(q+te)+" l")},V=function(b,q,F){return this.pdf.lines(b,q,F,null,null)},Y=function(b,q,F,te,Z,pe,K,ce){this.pdf.internal.out([e(a(F+b)),e(i(te+q)),e(a(Z+b)),e(i(pe+q)),e(a(K+b)),e(i(ce+q)),"c"].join(" "))},re=function(b,q,F,te){for(var Z=2*Math.PI,pe=Math.PI/2;q>F;)q-=Z;var K=Math.abs(F-q);K<Z&&te&&(K=Z-K);for(var ce=[],he=te?-1:1,ke=q;K>1e-5;){var ve=ke+he*Math.min(K,pe);ce.push(ne.call(this,b,ke,ve)),K-=Math.abs(ve-ke),ke=ve}return ce},ne=function(b,q,F){var te=(F-q)/2,Z=b*Math.cos(te),pe=b*Math.sin(te),K=Z,ce=-pe,he=K*K+ce*ce,ke=he+K*Z+ce*pe,ve=4/3*(Math.sqrt(2*he*ke)-ke)/(K*pe-ce*Z),Ie=K-ve*ce,Ve=ce+ve*K,ie=Ie,J=-Ve,Ce=te+q,ze=Math.cos(Ce),be=Math.sin(Ce);return{x1:b*Math.cos(q),y1:b*Math.sin(q),x2:Ie*ze-Ve*be,y2:Ie*be+Ve*ze,x3:ie*ze-J*be,y3:ie*be+J*ze,x4:b*Math.cos(F),y4:b*Math.sin(F)}},R=function(b){return 180*b/Math.PI},W=function(b,q,F,te,Z,pe){var K=b+.5*(F-b),ce=q+.5*(te-q),he=Z+.5*(F-Z),ke=pe+.5*(te-pe),ve=Math.min(b,Z,K,he),Ie=Math.max(b,Z,K,he),Ve=Math.min(q,pe,ce,ke),ie=Math.max(q,pe,ce,ke);return new l(ve,Ve,Ie-ve,ie-Ve)},G=function(b,q,F,te,Z,pe,K,ce){var he,ke,ve,Ie,Ve,ie,J,Ce,ze,be,Ee,Te,Me,Ge,rt=F-b,ct=te-q,ut=Z-F,xt=pe-te,Pt=K-Z,Ze=ce-pe;for(ke=0;ke<41;ke++)ze=(J=(ve=b+(he=ke/40)*rt)+he*((Ve=F+he*ut)-ve))+he*(Ve+he*(Z+he*Pt-Ve)-J),be=(Ce=(Ie=q+he*ct)+he*((ie=te+he*xt)-Ie))+he*(ie+he*(pe+he*Ze-ie)-Ce),ke==0?(Ee=ze,Te=be,Me=ze,Ge=be):(Ee=Math.min(Ee,ze),Te=Math.min(Te,be),Me=Math.max(Me,ze),Ge=Math.max(Ge,be));return new l(Math.round(Ee),Math.round(Te),Math.round(Me-Ee),Math.round(Ge-Te))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var b,q,F=(b=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:b,lineDashOffset:q}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(We.API),function(t){var e=function(i){var o,l,d,h,f,g,y,p,S,_;for(l=[],d=0,h=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;h>d;d+=4)(f=(i.charCodeAt(d)<<24)+(i.charCodeAt(d+1)<<16)+(i.charCodeAt(d+2)<<8)+i.charCodeAt(d+3))!==0?(g=(f=((f=((f=((f=(f-(_=f%85))/85)-(S=f%85))/85)-(p=f%85))/85)-(y=f%85))/85)%85,l.push(g+33,y+33,p+33,S+33,_+33)):l.push(122);return function(O,w){for(var v=w;v>0;v--)O.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,d,h,f,g=String,y="length",p=255,S="charCodeAt",_="slice",O="replace";for(i[_](-2),i=i[_](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),d=[],h=0,f=(i+=o="uuuuu"[_](i[y]%5||5))[y];f>h;h+=5)l=52200625*(i[S](h)-33)+614125*(i[S](h+1)-33)+7225*(i[S](h+2)-33)+85*(i[S](h+3)-33)+(i[S](h+4)-33),d.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(w,v){for(var N=v;N>0;N--)w.pop()}(d,o[y]),g.fromCharCode.apply(g,d)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",d=0;d<i.length;d+=2)l+=String.fromCharCode("0x"+(i[d]+i[d+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=ip(o)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};t.processDataByFilters=function(i,o){var l=0,d=i||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}}(We.API),function(t){t.loadFile=function(e,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(d,h,f){var g=new XMLHttpRequest,y=0,p=function(S){var _=S.length,O=[],w=String.fromCharCode;for(y=0;y<_;y+=1)O.push(w(255&S.charCodeAt(y)));return O.join("")};if(g.open("GET",d,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?f(p(this.responseText)):f(void 0)}),g.send(null),h&&g.status===200)return p(g.responseText)}(a,i,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(We.API),function(t){function e(){return(Xe.html2canvas?Promise.resolve(Xe.html2canvas):yi(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Xe.DOMPurify?Promise.resolve(Xe.DOMPurify):yi(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ct(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var d=document.createElement(o);for(var h in l.className&&(d.className=l.className),l.innerHTML&&l.dompurify&&(d.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)d.style[h]=l.style[h];return d},i=function o(l){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),d);return h=(h=h.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function d(h,f){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||g.appendChild(d(y,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,l(this.prop.container,d)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var d=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var p=h[y],S=p.src.find(function(_){return _.format==="truetype"});S&&d.addFont(S.url,p.ref.name,p.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,d.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(d){if(d in i.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var d=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(d):d})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(o=o||We.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,d,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,d,h){return this.setProgress(o?this.progress.val+o:null,l||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(o,l){var d=this;return this.thenCore(o,l,function(h,f){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return d.updateProgress(null,h),g}).then(h,f).then(function(g){return d.updateProgress(1),g})})},i.prototype.thenCore=function(o,l,d){d=d||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=d.call(h,o,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(d){l=l.thenCore(d)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,We.getPageSize=function(o,l,d){if(Ct(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,d=h.format||d}l=l||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,S=0,_=0;if(y.hasOwnProperty(g))S=y[g][1]/f,_=y[g][0]/f;else try{S=d[1],_=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",_>S&&(p=_,_=S,S=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>_&&(p=_,_=S,S=p)}return{width:_,height:S,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(hp):null;var d=new i(l);return l.worker?d:d.from(o).doCallback()}}(We.API),We.API.addJS=function(t){return q1=t,this.internal.events.subscribe("postPutResources",function(){Bu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),R1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bu!==void 0&&R1!==void 0&&this.internal.out("/Names <</JavaScript "+Bu+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var d=l[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(i=0;i<h;i++){var g=r.internal.newObject();f.push(g);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(We.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var d,h=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(d=function(g){for(var y,p=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,_={width:0,height:0,numcomponents:1},O=4;O<S;O+=2){if(O+=p,e.indexOf(g.charCodeAt(O+1))!==-1){y=256*g.charCodeAt(O+5)+g.charCodeAt(O+6),_={width:256*g.charCodeAt(O+7)+g.charCodeAt(O+8),height:y,numcomponents:g.charCodeAt(O+9)};break}p=256*g.charCodeAt(O+2)+g.charCodeAt(O+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:h,index:n,alias:a}}return f}}(We.API);var Xo,Uu,B1,U1,V1,lS=function(){var t,e,r;function n(i){var o,l,d,h,f,g,y,p,S,_,O,w,v,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),S=(function(){var A,k;for(k=[],A=0;A<4;++A)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*f/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),i=(g!=null?g.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((_=d-this.transparency.indexed.length)>0)for(v=0;0<=_?v<_:v>_;0<=_?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(O=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,O.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,O.slice(y+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),d=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(g,y,p,S){var _,O,w,v,N,A,k,U,M,E,H,se,T,L,$,V,Y,re,ne,R,W,G=Math.ceil((h.width-g)/p),ue=Math.ceil((h.height-y)/S),b=h.width==G&&h.height==ue;for(L=o*G,se=b?l:new Uint8Array(L*ue),A=i.length,T=0,O=0;T<ue&&d<A;){switch(i[d++]){case 0:for(v=Y=0;Y<L;v=Y+=1)se[O++]=i[d++];break;case 1:for(v=re=0;re<L;v=re+=1)_=i[d++],N=v<o?0:se[O-o],se[O++]=(_+N)%256;break;case 2:for(v=ne=0;ne<L;v=ne+=1)_=i[d++],w=(v-v%o)/o,$=T&&se[(T-1)*L+w*o+v%o],se[O++]=($+_)%256;break;case 3:for(v=R=0;R<L;v=R+=1)_=i[d++],w=(v-v%o)/o,N=v<o?0:se[O-o],$=T&&se[(T-1)*L+w*o+v%o],se[O++]=(_+Math.floor((N+$)/2))%256;break;case 4:for(v=W=0;W<L;v=W+=1)_=i[d++],w=(v-v%o)/o,N=v<o?0:se[O-o],T===0?$=V=0:($=se[(T-1)*L+w*o+v%o],V=w&&se[(T-1)*L+(w-1)*o+v%o]),k=N+$-V,U=Math.abs(k-N),E=Math.abs(k-$),H=Math.abs(k-V),M=U<=E&&U<=H?N:E<=H?$:V,se[O++]=(_+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[d-1])}if(!b){var q=((y+T*S)*h.width+g)*o,F=T*L;for(v=0;v<G;v+=1){for(var te=0;te<o;te+=1)l[q++]=se[F++];q+=(p-1)*o}}T++}}return i=Rk(i),h.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,d,h,f,g,y,p;for(l=this.palette,f=this.transparency.indexed||[],h=new Uint8Array((f.length||0)+l.length),d=0,i=0,o=g=0,y=l.length;g<y;o=g+=3)h[d++]=l[o],h[d++]=l[o+1],h[d++]=l[o+2],h[d++]=(p=f[i++])!=null?p:255;return h},n.prototype.copyToImageData=function(i,o){var l,d,h,f,g,y,p,S,_,O,w;if(d=this.colors,_=null,l=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),d=4,l=!0),S=(h=i.data||i).length,g=_||o,f=y=0,d===1)for(;f<S;)p=_?4*o[f/4]:y,O=g[p++],h[f++]=O,h[f++]=O,h[f++]=O,h[f++]=l?g[p++]:255,y=p;else for(;f<S;)p=_?4*o[f/4]:y,h[f++]=g[p++],h[f++]=g[p++],h[f++]=g[p++],h[f++]=l?g[p++]:255,y=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Xe)==="[object Window]"){try{e=Xe.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,d,h,f,g,y,p;if(this.animation){for(p=[],l=f=0,g=(y=this.animation.frames).length;f<g;l=++f)o=y[l],d=i.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(d,h),o.imageData=d,p.push(o.image=t(d));return p}},n.prototype.renderFrame=function(i,o){var l,d,h;return l=(d=this.animation.frames)[o],h=d[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,d,h,f,g,y=this;return l=0,g=this.animation,h=g.numFrames,d=g.frames,f=g.numPlays,(o=function(){var p,S;if(p=l++%h,S=d[p],y.renderFrame(i,p),h>1&&l/h<f)return y.animation._timeout=setTimeout(o,S.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function cS(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,d=null;i&&(l=e,d=o,e+=3*o);var h=!0,f=[],g=0,y=null,p=0,S=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];g=t[e++]|t[e++]<<8,y=t[e++],!(1&_)&&(y=null),p=_>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var O=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,A=t[e++],k=A>>6&1,U=1<<(7&A)+1,M=l,E=d,H=!1;A>>7&&(H=!0,M=e,E=U,e+=3*U);var se=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}f.push({x:O,y:w,width:v,height:N,has_local_palette:H,palette_offset:M,palette_size:E,data_offset:se,data_length:e-se,transparent_index:y,interlaced:!!k,delay:g,disposal:p});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(L){if(L<0||L>=f.length)throw new Error("Frame index out of range.");return f[L]},this.decodeAndBlitFrameBGRA=function(L,$){var V=this.frameInfo(L),Y=V.width*V.height,re=new Uint8Array(Y);H1(t,V.data_offset,re,Y);var ne=V.palette_offset,R=V.transparent_index;R===null&&(R=256);var W=V.width,G=r-W,ue=W,b=4*(V.y*r+V.x),q=4*((V.y+V.height)*r+V.x),F=b,te=4*G;V.interlaced===!0&&(te+=4*r*7);for(var Z=8,pe=0,K=re.length;pe<K;++pe){var ce=re[pe];if(ue===0&&(ue=W,(F+=te)>=q&&(te=4*G+4*r*(Z-1),F=b+(W+G)*(Z<<1),Z>>=1)),ce===R)F+=4;else{var he=t[ne+3*ce],ke=t[ne+3*ce+1],ve=t[ne+3*ce+2];$[F++]=ve,$[F++]=ke,$[F++]=he,$[F++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(L,$){var V=this.frameInfo(L),Y=V.width*V.height,re=new Uint8Array(Y);H1(t,V.data_offset,re,Y);var ne=V.palette_offset,R=V.transparent_index;R===null&&(R=256);var W=V.width,G=r-W,ue=W,b=4*(V.y*r+V.x),q=4*((V.y+V.height)*r+V.x),F=b,te=4*G;V.interlaced===!0&&(te+=4*r*7);for(var Z=8,pe=0,K=re.length;pe<K;++pe){var ce=re[pe];if(ue===0&&(ue=W,(F+=te)>=q&&(te=4*G+4*r*(Z-1),F=b+(W+G)*(Z<<1),Z>>=1)),ce===R)F+=4;else{var he=t[ne+3*ce],ke=t[ne+3*ce+1],ve=t[ne+3*ce+2];$[F++]=he,$[F++]=ke,$[F++]=ve,$[F++]=255}--ue}}}function H1(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,d=a+1,h=(1<<d)-1,f=0,g=0,y=0,p=t[e++],S=new Int32Array(4096),_=null;;){for(;f<16&&p!==0;)g|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<d)break;var O=g&h;if(g>>=d,f-=d,O!==i){if(O===o)break;for(var w=O<l?O:_,v=0,N=w;N>i;)N=S[N]>>8,++v;var A=N;if(y+v+(w!==O?1:0)>n)return void Tt.log("Warning, gif stream longer than expected.");r[y++]=A;var k=y+=v;for(w!==O&&(r[y++]=A),N=w;v--;)N=S[N],r[--k]=255&N,N>>=8;_!==null&&l<4096&&(S[l++]=_<<8|A,l>=h+1&&d<12&&(++d,h=h<<1|1)),_=O}else l=o+1,h=(1<<(d=a+1))-1,_=null}return y!==n&&Tt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function K0(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),d=new Array(64),h=new Array(64),f=new Array(64),g=new Array(65535),y=new Array(65535),p=new Array(64),S=new Array(64),_=[],O=0,w=7,v=new Array(64),N=new Array(64),A=new Array(64),k=new Array(256),U=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(b,q){for(var F=0,te=0,Z=new Array,pe=1;pe<=16;pe++){for(var K=1;K<=b[pe];K++)Z[q[te]]=[],Z[q[te]][0]=F,Z[q[te]][1]=pe,te++,F++;F*=2}return Z}function ne(b){for(var q=b[0],F=b[1]-1;F>=0;)q&1<<F&&(O|=1<<w),F--,--w<0&&(O==255?(R(255),R(0)):R(O),w=7,O=0)}function R(b){_.push(b)}function W(b){R(b>>8&255),R(255&b)}function G(b,q,F,te,Z){for(var pe,K=Z[0],ce=Z[240],he=function(be,Ee){var Te,Me,Ge,rt,ct,ut,xt,Pt,Ze,ht,$e=0;for(Ze=0;Ze<8;++Ze){Te=be[$e],Me=be[$e+1],Ge=be[$e+2],rt=be[$e+3],ct=be[$e+4],ut=be[$e+5],xt=be[$e+6];var zr=Te+(Pt=be[$e+7]),bt=Te-Pt,tn=Me+xt,Et=Me-xt,Ut=Ge+ut,Fn=Ge-ut,jt=rt+ct,_i=rt-ct,Zt=zr+jt,rn=zr-jt,na=tn+Ut,er=tn-Ut;be[$e]=Zt+na,be[$e+4]=Zt-na;var st=.707106781*(er+rn);be[$e+2]=rn+st,be[$e+6]=rn-st;var Nt=.382683433*((Zt=_i+Fn)-(er=Et+bt)),Ci=.5411961*Zt+Nt,Ir=1.306562965*er+Nt,Tn=.707106781*(na=Fn+Et),Dn=bt+Tn,Ke=bt-Tn;be[$e+5]=Ke+Ci,be[$e+3]=Ke-Ci,be[$e+1]=Dn+Ir,be[$e+7]=Dn-Ir,$e+=8}for($e=0,Ze=0;Ze<8;++Ze){Te=be[$e],Me=be[$e+8],Ge=be[$e+16],rt=be[$e+24],ct=be[$e+32],ut=be[$e+40],xt=be[$e+48];var sn=Te+(Pt=be[$e+56]),On=Te-Pt,os=Me+xt,br=Me-xt,pr=Ge+ut,Ns=Ge-ut,mo=rt+ct,aa=rt-ct,nn=sn+mo,an=sn-mo,on=os+pr,Mn=os-pr;be[$e]=nn+on,be[$e+32]=nn-on;var Os=.707106781*(Mn+an);be[$e+16]=an+Os,be[$e+48]=an-Os;var zn=.382683433*((nn=aa+Ns)-(Mn=br+On)),Ai=.5411961*nn+zn,po=1.306562965*Mn+zn,go=.707106781*(on=Ns+br),xo=On+go,yo=On-go;be[$e+40]=yo+Ai,be[$e+24]=yo-Ai,be[$e+8]=xo+po,be[$e+56]=xo-po,$e++}for(Ze=0;Ze<64;++Ze)ht=be[Ze]*Ee[Ze],p[Ze]=ht>0?ht+.5|0:ht-.5|0;return p}(b,q),ke=0;ke<64;++ke)S[M[ke]]=he[ke];var ve=S[0]-F;F=S[0],ve==0?ne(te[0]):(ne(te[y[pe=32767+ve]]),ne(g[pe]));for(var Ie=63;Ie>0&&S[Ie]==0;)Ie--;if(Ie==0)return ne(K),F;for(var Ve,ie=1;ie<=Ie;){for(var J=ie;S[ie]==0&&ie<=Ie;)++ie;var Ce=ie-J;if(Ce>=16){Ve=Ce>>4;for(var ze=1;ze<=Ve;++ze)ne(ce);Ce&=15}pe=32767+S[ie],ne(Z[(Ce<<4)+y[pe]]),ne(g[pe]),ie++}return Ie!=63&&ne(K),F}function ue(b){b=Math.min(Math.max(b,1),100),i!=b&&(function(q){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var Z=o((F[te]*q+50)/100);Z=Math.min(Math.max(Z,1),255),l[M[te]]=Z}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],K=0;K<64;K++){var ce=o((pe[K]*q+50)/100);ce=Math.min(Math.max(ce,1),255),d[M[K]]=ce}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,ve=0;ve<8;ve++)for(var Ie=0;Ie<8;Ie++)h[ke]=1/(l[M[ke]]*he[ve]*he[Ie]*8),f[ke]=1/(d[M[ke]]*he[ve]*he[Ie]*8),ke++}(b<50?Math.floor(5e3/b):Math.floor(200-2*b)),i=b)}this.encode=function(b,q){q&&ue(q),_=new Array,O=0,w=7,W(65496),W(65504),W(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),W(1),W(1),R(0),R(0),function(){W(65499),W(132),R(0);for(var Me=0;Me<64;Me++)R(l[Me]);R(1);for(var Ge=0;Ge<64;Ge++)R(d[Ge])}(),function(Me,Ge){W(65472),W(17),R(8),W(Ge),W(Me),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(b.width,b.height),function(){W(65476),W(418),R(0);for(var Me=0;Me<16;Me++)R(E[Me+1]);for(var Ge=0;Ge<=11;Ge++)R(H[Ge]);R(16);for(var rt=0;rt<16;rt++)R(se[rt+1]);for(var ct=0;ct<=161;ct++)R(T[ct]);R(1);for(var ut=0;ut<16;ut++)R(L[ut+1]);for(var xt=0;xt<=11;xt++)R($[xt]);R(17);for(var Pt=0;Pt<16;Pt++)R(V[Pt+1]);for(var Ze=0;Ze<=161;Ze++)R(Y[Ze])}(),W(65498),W(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var F=0,te=0,Z=0;O=0,w=7,this.encode.displayName="_encode_";for(var pe,K,ce,he,ke,ve,Ie,Ve,ie,J=b.data,Ce=b.width,ze=b.height,be=4*Ce,Ee=0;Ee<ze;){for(pe=0;pe<be;){for(ke=be*Ee+pe,Ie=-1,Ve=0,ie=0;ie<64;ie++)ve=ke+(Ve=ie>>3)*be+(Ie=4*(7&ie)),Ee+Ve>=ze&&(ve-=be*(Ee+1+Ve-ze)),pe+Ie>=be&&(ve-=pe+Ie-be+4),K=J[ve++],ce=J[ve++],he=J[ve++],v[ie]=(U[K]+U[ce+256>>0]+U[he+512>>0]>>16)-128,N[ie]=(U[K+768>>0]+U[ce+1024>>0]+U[he+1280>>0]>>16)-128,A[ie]=(U[K+1280>>0]+U[ce+1536>>0]+U[he+1792>>0]>>16)-128;F=G(v,h,F,e,n),te=G(N,f,te,r,a),Z=G(A,f,Z,r,a),pe+=32}Ee+=8}if(w>=0){var Te=[];Te[1]=w+1,Te[0]=(1<<w+1)-1,ne(Te)}return W(65497),new Uint8Array(_)},t=t||50,function(){for(var b=String.fromCharCode,q=0;q<256;q++)k[q]=b(q)}(),e=re(E,H),r=re(L,$),n=re(se,T),a=re(V,Y),function(){for(var b=1,q=2,F=1;F<=15;F++){for(var te=b;te<q;te++)y[32767+te]=F,g[32767+te]=[],g[32767+te][1]=F,g[32767+te][0]=te;for(var Z=-(q-1);Z<=-b;Z++)y[32767+Z]=F,g[32767+Z]=[],g[32767+Z][1]=F,g[32767+Z][0]=q-1+Z;b<<=1,q<<=1}}(),function(){for(var b=0;b<256;b++)U[b]=19595*b,U[b+256>>0]=38470*b,U[b+512>>0]=7471*b+32768,U[b+768>>0]=-11059*b,U[b+1024>>0]=-21709*b,U[b+1280>>0]=32768*b+8421375,U[b+1536>>0]=-27439*b,U[b+1792>>0]=-5329*b}(),ue(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function W1(t){function e(E){if(!E)throw Error("assert :P")}function r(E,H,se){for(var T=0;4>T;T++)if(E[H+T]!=se.charCodeAt(T))return!0;return!1}function n(E,H,se,T,L){for(var $=0;$<L;$++)E[H+$]=se[T+$]}function a(E,H,se,T){for(var L=0;L<T;L++)E[H+L]=se}function i(E){return new Int32Array(E)}function o(E,H){for(var se=[],T=0;T<E;T++)se.push(new H);return se}function l(E,H){var se=[];return function T(L,$,V){for(var Y=V[$],re=0;re<Y&&(L.push(V.length>$+1?[]:new H),!(V.length<$+1));re++)T(L[re],$+1,V)}(se,0,E),se}var d=function(){var E=this;function H(c,u){for(var x=1<<u-1>>>0;c&x;)x>>>=1;return x?(c&x-1)+x:c}function se(c,u,x,j,C){e(!(j%x));do c[u+(j-=x)]=C;while(0<j)}function T(c,u,x,j,C){if(e(2328>=C),512>=C)var I=i(512);else if((I=i(C))==null)return 0;return function(D,z,B,Q,oe,xe){var ye,me,_e=z,we=1<<B,le=i(16),fe=i(16);for(e(oe!=0),e(Q!=null),e(D!=null),e(0<B),me=0;me<oe;++me){if(15<Q[me])return 0;++le[Q[me]]}if(le[0]==oe)return 0;for(fe[1]=0,ye=1;15>ye;++ye){if(le[ye]>1<<ye)return 0;fe[ye+1]=fe[ye]+le[ye]}for(me=0;me<oe;++me)ye=Q[me],0<Q[me]&&(xe[fe[ye]++]=me);if(fe[15]==1)return(Q=new L).g=0,Q.value=xe[0],se(D,_e,1,we,Q),we;var Ne,Ae=-1,Se=we-1,qe=0,Fe=1,Ye=1,Oe=1<<B;for(me=0,ye=1,oe=2;ye<=B;++ye,oe<<=1){if(Fe+=Ye<<=1,0>(Ye-=le[ye]))return 0;for(;0<le[ye];--le[ye])(Q=new L).g=ye,Q.value=xe[me++],se(D,_e+qe,oe,Oe,Q),qe=H(qe,ye)}for(ye=B+1,oe=2;15>=ye;++ye,oe<<=1){if(Fe+=Ye<<=1,0>(Ye-=le[ye]))return 0;for(;0<le[ye];--le[ye]){if(Q=new L,(qe&Se)!=Ae){for(_e+=Oe,Ne=1<<(Ae=ye)-B;15>Ae&&!(0>=(Ne-=le[Ae]));)++Ae,Ne<<=1;we+=Oe=1<<(Ne=Ae-B),D[z+(Ae=qe&Se)].g=Ne+B,D[z+Ae].value=_e-z-Ae}Q.g=ye-B,Q.value=xe[me++],se(D,_e+(qe>>B),oe,Oe,Q),qe=H(qe,ye)}}return Fe!=2*fe[15]-1?0:we}(c,u,x,j,C,I)}function L(){this.value=this.g=0}function $(){this.value=this.g=0}function V(){this.G=o(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fr,$)}function Y(c,u,x,j){e(c!=null),e(u!=null),e(2147483648>j),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=u,c.pa=x,c.Jd=u,c.Yc=x+j,c.Zc=4<=j?x+j-4+1:x,pe(c)}function re(c,u){for(var x=0;0<u--;)x|=ce(c,128)<<u;return x}function ne(c,u){var x=re(c,u);return K(c)?-x:x}function R(c,u,x,j){var C,I=0;for(e(c!=null),e(u!=null),e(4294967288>j),c.Sb=j,c.Ra=0,c.u=0,c.h=0,4<j&&(j=4),C=0;C<j;++C)I+=u[x+C]<<8*C;c.Ra=I,c.bb=j,c.oa=u,c.pa=x}function W(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Fo-8>>>0,++c.bb,c.u-=8;F(c)&&(c.h=1,c.u=0)}function G(c,u){if(e(0<=u),!c.h&&u<=Io){var x=q(c)&Eo[u];return c.u+=u,W(c),x}return c.h=1,c.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(c){return c.Ra>>>(c.u&Fo-1)>>>0}function F(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Fo}function te(c,u){c.u=u,c.h=F(c)}function Z(c){c.u>=oc&&(e(c.u>=oc),W(c))}function pe(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function K(c){return re(c,1)}function ce(c,u){var x=c.Ca;0>c.b&&pe(c);var j=c.b,C=x*u>>>8,I=(c.I>>>j>C)+0;for(I?(x-=C,c.I-=C+1<<j>>>0):x=C+1,j=x,C=0;256<=j;)C+=8,j>>=8;return j=7^C+cs[j],c.b-=j,c.Ca=(x<<j)-1,I}function he(c,u,x){c[u+0]=x>>24&255,c[u+1]=x>>16&255,c[u+2]=x>>8&255,c[u+3]=x>>0&255}function ke(c,u){return c[u+0]<<0|c[u+1]<<8}function ve(c,u){return ke(c,u)|c[u+2]<<16}function Ie(c,u){return ke(c,u)|ke(c,u+2)<<16}function Ve(c,u){var x=1<<u;return e(c!=null),e(0<u),c.X=i(x),c.X==null?0:(c.Mb=32-u,c.Xa=u,1)}function ie(c,u){e(c!=null),e(u!=null),e(c.Xa==u.Xa),n(u.X,0,c.X,0,1<<u.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Ce(c,u,x,j){e(x!=null),e(j!=null);var C=x[0],I=j[0];return C==0&&(C=(c*I+u/2)/u),I==0&&(I=(u*C+c/2)/c),0>=C||0>=I?0:(x[0]=C,j[0]=I,1)}function ze(c,u){return c+(1<<u)-1>>>u}function be(c,u){return((4278255360&c)+(4278255360&u)>>>0&4278255360)+((16711935&c)+(16711935&u)>>>0&16711935)>>>0}function Ee(c,u){E[u]=function(x,j,C,I,D,z,B){var Q;for(Q=0;Q<D;++Q){var oe=E[c](z[B+Q-1],C,I+Q);z[B+Q]=be(x[j+Q],oe)}}}function Te(){this.ud=this.hd=this.jd=0}function Me(c,u){return((4278124286&(c^u))>>>1)+(c&u)>>>0}function Ge(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function rt(c,u){return Ge(c+(c-u+.5>>1))}function ct(c,u,x){return Math.abs(u-x)-Math.abs(c-x)}function ut(c,u,x,j,C,I,D){for(j=I[D-1],x=0;x<C;++x)I[D+x]=j=be(c[u+x],j)}function xt(c,u,x,j,C){var I;for(I=0;I<x;++I){var D=c[u+I],z=D>>8&255,B=16711935&(B=(B=16711935&D)+((z<<16)+z));j[C+I]=(4278255360&D)+B>>>0}}function Pt(c,u){u.jd=c>>0&255,u.hd=c>>8&255,u.ud=c>>16&255}function Ze(c,u,x,j,C,I){var D;for(D=0;D<j;++D){var z=u[x+D],B=z>>>8,Q=z,oe=255&(oe=(oe=z>>>16)+((c.jd<<24>>24)*(B<<24>>24)>>>5));Q=255&(Q=(Q=Q+((c.hd<<24>>24)*(B<<24>>24)>>>5))+((c.ud<<24>>24)*(oe<<24>>24)>>>5)),C[I+D]=(4278255360&z)+(oe<<16)+Q}}function ht(c,u,x,j,C){E[u]=function(I,D,z,B,Q,oe,xe,ye,me){for(B=xe;B<ye;++B)for(xe=0;xe<me;++xe)Q[oe++]=C(z[j(I[D++])])},E[c]=function(I,D,z,B,Q,oe,xe){var ye=8>>I.b,me=I.Ea,_e=I.K[0],we=I.w;if(8>ye)for(I=(1<<I.b)-1,we=(1<<ye)-1;D<z;++D){var le,fe=0;for(le=0;le<me;++le)le&I||(fe=j(B[Q++])),oe[xe++]=C(_e[fe&we]),fe>>=ye}else E["VP8LMapColor"+x](B,Q,_e,we,oe,xe,D,z,me)}}function $e(c,u,x,j,C){for(x=u+x;u<x;){var I=c[u++];j[C++]=I>>16&255,j[C++]=I>>8&255,j[C++]=I>>0&255}}function zr(c,u,x,j,C){for(x=u+x;u<x;){var I=c[u++];j[C++]=I>>16&255,j[C++]=I>>8&255,j[C++]=I>>0&255,j[C++]=I>>24&255}}function bt(c,u,x,j,C){for(x=u+x;u<x;){var I=(D=c[u++])>>16&240|D>>12&15,D=D>>0&240|D>>28&15;j[C++]=I,j[C++]=D}}function tn(c,u,x,j,C){for(x=u+x;u<x;){var I=(D=c[u++])>>16&248|D>>13&7,D=D>>5&224|D>>3&31;j[C++]=I,j[C++]=D}}function Et(c,u,x,j,C){for(x=u+x;u<x;){var I=c[u++];j[C++]=I>>0&255,j[C++]=I>>8&255,j[C++]=I>>16&255}}function Ut(c,u,x,j,C,I){if(I==0)for(x=u+x;u<x;)he(j,((I=c[u++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),C+=32;else n(j,C,c,u,x)}function Fn(c,u){E[u][0]=E[c+"0"],E[u][1]=E[c+"1"],E[u][2]=E[c+"2"],E[u][3]=E[c+"3"],E[u][4]=E[c+"4"],E[u][5]=E[c+"5"],E[u][6]=E[c+"6"],E[u][7]=E[c+"7"],E[u][8]=E[c+"8"],E[u][9]=E[c+"9"],E[u][10]=E[c+"10"],E[u][11]=E[c+"11"],E[u][12]=E[c+"12"],E[u][13]=E[c+"13"],E[u][14]=E[c+"0"],E[u][15]=E[c+"0"]}function jt(c){return c==Hf||c==Wf||c==su||c==Gf}function _i(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _i,this.f.kb=new Zt,this.sd=null}function na(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Nt(c,u){var x=c.T,j=u.ba.f.RGBA,C=j.eb,I=j.fb+c.ka*j.A,D=Bs[u.ba.S],z=c.y,B=c.O,Q=c.f,oe=c.N,xe=c.ea,ye=c.W,me=u.cc,_e=u.dc,we=u.Mc,le=u.Nc,fe=c.ka,Ne=c.ka+c.T,Ae=c.U,Se=Ae+1>>1;for(fe==0?D(z,B,null,null,Q,oe,xe,ye,Q,oe,xe,ye,C,I,null,null,Ae):(D(u.ec,u.fc,z,B,me,_e,we,le,Q,oe,xe,ye,C,I-j.A,C,I,Ae),++x);fe+2<Ne;fe+=2)me=Q,_e=oe,we=xe,le=ye,oe+=c.Rc,ye+=c.Rc,I+=2*j.A,D(z,(B+=2*c.fa)-c.fa,z,B,me,_e,we,le,Q,oe,xe,ye,C,I-j.A,C,I,Ae);return B+=c.fa,c.j+Ne<c.o?(n(u.ec,u.fc,z,B,Ae),n(u.cc,u.dc,Q,oe,Se),n(u.Mc,u.Nc,xe,ye,Se),x--):1&Ne||D(z,B,null,null,Q,oe,xe,ye,Q,oe,xe,ye,C,I+j.A,null,null,Ae),x}function Ci(c,u,x){var j=c.F,C=[c.J];if(j!=null){var I=c.U,D=u.ba.S,z=D==ru||D==su;u=u.ba.f.RGBA;var B=[0],Q=c.ka;B[0]=c.T,c.Kb&&(Q==0?--B[0]:(--Q,C[0]-=c.width),c.j+c.ka+c.T==c.o&&(B[0]=c.o-c.j-Q));var oe=u.eb;Q=u.fb+Q*u.A,c=Ot(j,C[0],c.width,I,B,oe,Q+(z?0:3),u.A),e(x==B),c&&jt(D)&&Rs(oe,Q,z,I,B,u.A)}return 0}function Ir(c){var u=c.ma,x=u.ba.S,j=11>x,C=x==eu||x==tu||x==ru||x==Vf||x==12||jt(x);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!ac(u.Oa,c,C?11:12))return 0;if(C&&jt(x)&&Pe(),c.da)alert("todo:use_scaling");else{if(j){if(u.Ib=st,c.Kb){if(x=c.U+1>>1,u.memory=i(c.U+2*x),u.memory==null)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+c.U,u.Mc=u.cc,u.Nc=u.dc+x,u.Ib=Nt,Pe()}}else alert("todo:EmitYUV");C&&(u.Jb=Ci,j&&ge())}if(j&&!Pg){for(c=0;256>c;++c)Db[c]=89858*(c-128)+au>>nu,zb[c]=-22014*(c-128)+au,Mb[c]=-45773*(c-128),Ob[c]=113618*(c-128)+au>>nu;for(c=mc;c<Kf;++c)u=76283*(c-16)+au>>nu,$b[c-mc]=ks(u,255),Rb[c-mc]=ks(u+8>>4,15);Pg=1}return 1}function Tn(c){var u=c.ma,x=c.U,j=c.T;return e(!(1&c.ka)),0>=x||0>=j?0:(x=u.Ib(c,u),u.Jb!=null&&u.Jb(c,u,x),u.Dc+=x,1)}function Dn(c){c.ma.memory=null}function Ke(c,u,x,j){return G(c,8)!=47?0:(u[0]=G(c,14)+1,x[0]=G(c,14)+1,j[0]=G(c,1),G(c,3)!=0?0:!c.h)}function sn(c,u){if(4>c)return c+1;var x=c-2>>1;return(2+(1&c)<<x)+G(u,x)+1}function On(c,u){return 120<u?u-120:1<=(x=((x=wb[u-1])>>4)*c+(8-(15&x)))?x:1;var x}function os(c,u,x){var j=q(x),C=c[u+=255&j].g-8;return 0<C&&(te(x,x.u+8),j=q(x),u+=c[u].value,u+=j&(1<<C)-1),te(x,x.u+c[u].g),c[u].value}function br(c,u,x){return x.g+=c.g,x.value+=c.value<<u>>>0,e(8>=x.g),c.g}function pr(c,u,x){var j=c.xc;return e((u=j==0?0:c.vc[c.md*(x>>j)+(u>>j)])<c.Wb),c.Ya[u]}function Ns(c,u,x,j){var C=c.ab,I=c.c*u,D=c.C;u=D+u;var z=x,B=j;for(j=c.Ta,x=c.Ua;0<C--;){var Q=c.gc[C],oe=D,xe=u,ye=z,me=B,_e=(B=j,z=x,Q.Ea);switch(e(oe<xe),e(xe<=Q.nc),Q.hc){case 2:Gd(ye,me,(xe-oe)*_e,B,z);break;case 0:var we=oe,le=xe,fe=B,Ne=z,Ae=(Oe=Q).Ea;we==0&&(Bf(ye,me,null,null,1,fe,Ne),ut(ye,me+1,0,0,Ae-1,fe,Ne+1),me+=Ae,Ne+=Ae,++we);for(var Se=1<<Oe.b,qe=Se-1,Fe=ze(Ae,Oe.b),Ye=Oe.K,Oe=Oe.w+(we>>Oe.b)*Fe;we<le;){var wt=Ye,kt=Oe,yt=1;for(lc(ye,me,fe,Ne-Ae,1,fe,Ne);yt<Ae;){var pt=(yt&~qe)+Se;pt>Ae&&(pt=Ae),(0,Ta[wt[kt++]>>8&15])(ye,me+ +yt,fe,Ne+yt-Ae,pt-yt,fe,Ne+yt),yt=pt}me+=Ae,Ne+=Ae,++we&qe||(Oe+=Fe)}xe!=Q.nc&&n(B,z-_e,B,z+(xe-oe-1)*_e,_e);break;case 1:for(_e=ye,le=me,Ae=(ye=Q.Ea)-(Ne=ye&~(fe=(me=1<<Q.b)-1)),we=ze(ye,Q.b),Se=Q.K,Q=Q.w+(oe>>Q.b)*we;oe<xe;){for(qe=Se,Fe=Q,Ye=new Te,Oe=le+Ne,wt=le+ye;le<Oe;)Pt(qe[Fe++],Ye),Fi(Ye,_e,le,me,B,z),le+=me,z+=me;le<wt&&(Pt(qe[Fe++],Ye),Fi(Ye,_e,le,Ae,B,z),le+=Ae,z+=Ae),++oe&fe||(Q+=we)}break;case 3:if(ye==B&&me==z&&0<Q.b){for(le=B,ye=_e=z+(xe-oe)*_e-(Ne=(xe-oe)*ze(Q.Ea,Q.b)),me=B,fe=z,we=[],Ne=(Ae=Ne)-1;0<=Ne;--Ne)we[Ne]=me[fe+Ne];for(Ne=Ae-1;0<=Ne;--Ne)le[ye+Ne]=we[Ne];Ms(Q,oe,xe,B,_e,B,z)}else Ms(Q,oe,xe,ye,me,B,z)}z=j,B=x}B!=x&&n(j,x,z,B,I)}function mo(c,u){var x=c.V,j=c.Ba+c.c*c.C,C=u-c.C;if(e(u<=c.l.o),e(16>=C),0<C){var I=c.l,D=c.Ta,z=c.Ua,B=I.width;if(Ns(c,C,x,j),C=z=[z],e((x=c.C)<(j=u)),e(I.v<I.va),j>I.o&&(j=I.o),x<I.j){var Q=I.j-x;x=I.j,C[0]+=Q*B}if(x>=j?x=0:(C[0]+=4*I.v,I.ka=x-I.j,I.U=I.va-I.v,I.T=j-x,x=1),x){if(z=z[0],11>(x=c.ca).S){var oe=x.f.RGBA,xe=(j=x.S,C=I.U,I=I.T,Q=oe.eb,oe.A),ye=I;for(oe=oe.fb+c.Ma*oe.A;0<ye--;){var me=D,_e=z,we=C,le=Q,fe=oe;switch(j){case Zd:ds(me,_e,we,le,fe);break;case eu:Qr(me,_e,we,le,fe);break;case Hf:Qr(me,_e,we,le,fe),Rs(le,fe,0,we,1,0);break;case vg:ca(me,_e,we,le,fe);break;case tu:Ut(me,_e,we,le,fe,1);break;case Wf:Ut(me,_e,we,le,fe,1),Rs(le,fe,0,we,1,0);break;case ru:Ut(me,_e,we,le,fe,0);break;case su:Ut(me,_e,we,le,fe,0),Rs(le,fe,1,we,1,0);break;case Vf:Da(me,_e,we,le,fe);break;case Gf:Da(me,_e,we,le,fe),Dt(le,fe,we,1,0);break;case bg:la(me,_e,we,le,fe);break;default:e(0)}z+=B,oe+=xe}c.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=x.height)}}c.C=u,e(c.C<=c.i)}function aa(c){var u;if(0<c.ua)return 0;for(u=0;u<c.Wb;++u){var x=c.Ya[u].G,j=c.Ya[u].H;if(0<x[1][j[1]+0].g||0<x[2][j[2]+0].g||0<x[3][j[3]+0].g)return 0}return 1}function nn(c,u,x,j,C,I){if(c.Z!=0){var D=c.qd,z=c.rd;for(e($a[c.Z]!=null);u<x;++u)$a[c.Z](D,z,j,C,j,C,I),D=j,z=C,C+=I;c.qd=D,c.rd=z}}function an(c,u){var x=c.l.ma,j=x.Z==0||x.Z==1?c.l.j:c.C;if(j=c.C<j?j:c.C,e(u<=c.l.o),u>j){var C=c.l.width,I=x.ca,D=x.tb+C*j,z=c.V,B=c.Ba+c.c*j,Q=c.gc;e(c.ab==1),e(Q[0].hc==3),Jd(Q[0],j,u,z,B,I,D),nn(x,j,u,I,D,C)}c.C=c.Ma=u}function on(c,u,x,j,C,I,D){var z=c.$/j,B=c.$%j,Q=c.m,oe=c.s,xe=x+c.$,ye=xe;C=x+j*C;var me=x+j*I,_e=280+oe.ua,we=c.Pb?z:16777216,le=0<oe.ua?oe.Wa:null,fe=oe.wc,Ne=xe<me?pr(oe,B,z):null;e(c.C<I),e(me<=C);var Ae=!1;e:for(;;){for(;Ae||xe<me;){var Se=0;if(z>=we){var qe=xe-x;e((we=c).Pb),we.wd=we.m,we.xd=qe,0<we.s.ua&&ie(we.s.Wa,we.s.vb),we=z+Nb}if(B&fe||(Ne=pr(oe,B,z)),e(Ne!=null),Ne.Qb&&(u[xe]=Ne.qb,Ae=!0),!Ae)if(Z(Q),Ne.jc){Se=Q,qe=u;var Fe=xe,Ye=Ne.pd[q(Se)&Fr-1];e(Ne.jc),256>Ye.g?(te(Se,Se.u+Ye.g),qe[Fe]=Ye.value,Se=0):(te(Se,Se.u+Ye.g-256),e(256<=Ye.value),Se=Ye.value),Se==0&&(Ae=!0)}else Se=os(Ne.G[0],Ne.H[0],Q);if(Q.h)break;if(Ae||256>Se){if(!Ae)if(Ne.nd)u[xe]=(Ne.qb|Se<<8)>>>0;else{if(Z(Q),Ae=os(Ne.G[1],Ne.H[1],Q),Z(Q),qe=os(Ne.G[2],Ne.H[2],Q),Fe=os(Ne.G[3],Ne.H[3],Q),Q.h)break;u[xe]=(Fe<<24|Ae<<16|Se<<8|qe)>>>0}if(Ae=!1,++xe,++B>=j&&(B=0,++z,D!=null&&z<=I&&!(z%16)&&D(c,z),le!=null))for(;ye<xe;)Se=u[ye++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else if(280>Se){if(Se=sn(Se-256,Q),qe=os(Ne.G[4],Ne.H[4],Q),Z(Q),qe=On(j,qe=sn(qe,Q)),Q.h)break;if(xe-x<qe||C-xe<Se)break e;for(Fe=0;Fe<Se;++Fe)u[xe+Fe]=u[xe+Fe-qe];for(xe+=Se,B+=Se;B>=j;)B-=j,++z,D!=null&&z<=I&&!(z%16)&&D(c,z);if(e(xe<=C),B&fe&&(Ne=pr(oe,B,z)),le!=null)for(;ye<xe;)Se=u[ye++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else{if(!(Se<_e))break e;for(Ae=Se-280,e(le!=null);ye<xe;)Se=u[ye++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se;Se=xe,e(!(Ae>>>(qe=le).Xa)),u[Se]=qe.X[Ae],Ae=!0}Ae||e(Q.h==F(Q))}if(c.Pb&&Q.h&&xe<C)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&ie(c.s.vb,c.s.Wa);else{if(Q.h)break e;D!=null&&D(c,z>I?I:z),c.a=0,c.$=xe-x}return 1}return c.a=3,0}function Mn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var u=c.Wa;u!=null&&(u.X=null),c.vb=null,e(c!=null)}function Os(){var c=new qf;return c==null?null:(c.a=0,c.xb=Ng,Fn("Predictor","VP8LPredictors"),Fn("Predictor","VP8LPredictors_C"),Fn("PredictorAdd","VP8LPredictorsAdd"),Fn("PredictorAdd","VP8LPredictorsAdd_C"),Gd=xt,Fi=Ze,ds=$e,Qr=zr,Da=bt,la=tn,ca=Et,E.VP8LMapColor32b=To,E.VP8LMapColor8b=Yd,c)}function zn(c,u,x,j,C){var I=1,D=[c],z=[u],B=j.m,Q=j.s,oe=null,xe=0;e:for(;;){if(x)for(;I&&G(B,1);){var ye=D,me=z,_e=j,we=1,le=_e.m,fe=_e.gc[_e.ab],Ne=G(le,2);if(_e.Oc&1<<Ne)I=0;else{switch(_e.Oc|=1<<Ne,fe.hc=Ne,fe.Ea=ye[0],fe.nc=me[0],fe.K=[null],++_e.ab,e(4>=_e.ab),Ne){case 0:case 1:fe.b=G(le,3)+2,we=zn(ze(fe.Ea,fe.b),ze(fe.nc,fe.b),0,_e,fe.K),fe.K=fe.K[0];break;case 3:var Ae,Se=G(le,8)+1,qe=16<Se?0:4<Se?1:2<Se?2:3;if(ye[0]=ze(fe.Ea,qe),fe.b=qe,Ae=we=zn(Se,1,0,_e,fe.K)){var Fe,Ye=Se,Oe=fe,wt=1<<(8>>Oe.b),kt=i(wt);if(kt==null)Ae=0;else{var yt=Oe.K[0],pt=Oe.w;for(kt[0]=Oe.K[0][0],Fe=1;Fe<1*Ye;++Fe)kt[Fe]=be(yt[pt+Fe],kt[Fe-1]);for(;Fe<4*wt;++Fe)kt[Fe]=0;Oe.K[0]=null,Oe.K[0]=kt,Ae=1}}we=Ae;break;case 2:break;default:e(0)}I=we}}if(D=D[0],z=z[0],I&&G(B,1)&&!(I=1<=(xe=G(B,4))&&11>=xe)){j.a=3;break e}var It;if(It=I)t:{var Lt,ot,xr,us=j,yr=D,hs=z,St=xe,_s=x,Cs=us.m,_r=us.s,Tr=[null],es=1,Us=0,Bn=jb[St];r:for(;;){if(_s&&G(Cs,1)){var Cr=G(Cs,3)+2,fa=ze(yr,Cr),zi=ze(hs,Cr),$o=fa*zi;if(!zn(fa,zi,0,us,Tr))break r;for(Tr=Tr[0],_r.xc=Cr,Lt=0;Lt<$o;++Lt){var Ra=Tr[Lt]>>8&65535;Tr[Lt]=Ra,Ra>=es&&(es=Ra+1)}}if(Cs.h)break r;for(ot=0;5>ot;++ot){var rr=wg[ot];!ot&&0<St&&(rr+=1<<St),Us<rr&&(Us=rr)}var Xf=o(es*Bn,L),Ig=es,Fg=o(Ig,V);if(Fg==null)var ou=null;else e(65536>=Ig),ou=Fg;var pc=i(Us);if(ou==null||pc==null||Xf==null){us.a=1;break r}var lu=Xf;for(Lt=xr=0;Lt<es;++Lt){var hn=ou[Lt],Ro=hn.G,qo=hn.H,Tg=0,cu=1,Dg=0;for(ot=0;5>ot;++ot){rr=wg[ot],Ro[ot]=lu,qo[ot]=xr,!ot&&0<St&&(rr+=1<<St);n:{var du,Qf=rr,uu=us,gc=pc,Ub=lu,Vb=xr,Zf=0,qa=uu.m,Hb=G(qa,1);if(a(gc,0,0,Qf),Hb){var Wb=G(qa,1)+1,Gb=G(qa,1),Og=G(qa,Gb==0?1:8);gc[Og]=1,Wb==2&&(gc[Og=G(qa,8)]=1);var hu=1}else{var Mg=i(19),zg=G(qa,4)+4;if(19<zg){uu.a=3;var fu=0;break n}for(du=0;du<zg;++du)Mg[bb[du]]=G(qa,3);var e0=void 0,xc=void 0,$g=uu,Jb=Mg,mu=Qf,Rg=gc,t0=0,Ba=$g.m,qg=8,Bg=o(128,L);s:for(;T(Bg,0,7,Jb,19);){if(G(Ba,1)){var Yb=2+2*G(Ba,3);if((e0=2+G(Ba,Yb))>mu)break s}else e0=mu;for(xc=0;xc<mu&&e0--;){Z(Ba);var Ug=Bg[0+(127&q(Ba))];te(Ba,Ba.u+Ug.g);var Bo=Ug.value;if(16>Bo)Rg[xc++]=Bo,Bo!=0&&(qg=Bo);else{var Kb=Bo==16,Vg=Bo-16,Xb=yb[Vg],Hg=G(Ba,xb[Vg])+Xb;if(xc+Hg>mu)break s;for(var Qb=Kb?qg:0;0<Hg--;)Rg[xc++]=Qb}}t0=1;break s}t0||($g.a=3),hu=t0}(hu=hu&&!qa.h)&&(Zf=T(Ub,Vb,8,gc,Qf)),hu&&Zf!=0?fu=Zf:(uu.a=3,fu=0)}if(fu==0)break r;if(cu&&vb[ot]==1&&(cu=lu[xr].g==0),Tg+=lu[xr].g,xr+=fu,3>=ot){var yc,r0=pc[0];for(yc=1;yc<rr;++yc)pc[yc]>r0&&(r0=pc[yc]);Dg+=r0}}if(hn.nd=cu,hn.Qb=0,cu&&(hn.qb=(Ro[3][qo[3]+0].value<<24|Ro[1][qo[1]+0].value<<16|Ro[2][qo[2]+0].value)>>>0,Tg==0&&256>Ro[0][qo[0]+0].value&&(hn.Qb=1,hn.qb+=Ro[0][qo[0]+0].value<<8)),hn.jc=!hn.Qb&&6>Dg,hn.jc){var pu,ma=hn;for(pu=0;pu<Fr;++pu){var Ua=pu,Va=ma.pd[Ua],gu=ma.G[0][ma.H[0]+Ua];256<=gu.value?(Va.g=gu.g+256,Va.value=gu.value):(Va.g=0,Va.value=0,Ua>>=br(gu,8,Va),Ua>>=br(ma.G[1][ma.H[1]+Ua],16,Va),Ua>>=br(ma.G[2][ma.H[2]+Ua],0,Va),br(ma.G[3][ma.H[3]+Ua],24,Va))}}}_r.vc=Tr,_r.Wb=es,_r.Ya=ou,_r.yc=Xf,It=1;break t}It=0}if(!(I=It)){j.a=3;break e}if(0<xe){if(Q.ua=1<<xe,!Ve(Q.Wa,xe)){j.a=1,I=0;break e}}else Q.ua=0;var s0=j,Wg=D,Zb=z,n0=s0.s,a0=n0.xc;if(s0.c=Wg,s0.i=Zb,n0.md=ze(Wg,a0),n0.wc=a0==0?-1:(1<<a0)-1,x){j.xb=Lb;break e}if((oe=i(D*z))==null){j.a=1,I=0;break e}I=(I=on(j,oe,0,D,z,z,null))&&!B.h;break e}return I?(C!=null?C[0]=oe:(e(oe==null),e(x)),j.$=0,x||Mn(Q)):Mn(Q),I}function Ai(c,u){var x=c.c*c.i,j=x+u+16*u;return e(c.c<=u),c.V=i(j),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+x+u,1)}function po(c,u){var x=c.C,j=u-x,C=c.V,I=c.Ba+c.c*x;for(e(u<=c.l.o);0<j;){var D=16<j?16:j,z=c.l.ma,B=c.l.width,Q=B*D,oe=z.ca,xe=z.tb+B*x,ye=c.Ta,me=c.Ua;Ns(c,D,C,I),lr(ye,me,oe,xe,Q),nn(z,x,x+D,oe,xe,B),j-=D,C+=D*c.c,x+=D}e(x==u),c.C=c.Ma=u}function go(){this.ub=this.yd=this.td=this.Rb=0}function xo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yo(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Cd(){this.Yb=function(){var c=[];return function u(x,j,C){for(var I=C[j],D=0;D<I&&(x.push(C.length>j+1?[]:0),!(C.length<j+1));D++)u(x[D],j+1,C)}(c,0,[3,11]),c}()}function yf(){this.jb=i(3),this.Wc=l([4,8],Cd),this.Xc=l([4,17],Cd)}function vf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function vo(){this.ld=this.La=this.dd=this.tc=0}function Ad(){this.Na=this.la=0}function bf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ul(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wf(){this.uc=this.M=this.Nb=0,this.wa=Array(new vo),this.Y=0,this.ya=Array(new Ul),this.aa=0,this.l=new bo}function Pd(){this.y=i(16),this.f=i(8),this.ea=i(8)}function jf(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new go,this.Kc=new xo,this.ed=new vf,this.Qa=new yo,this.Ic=this.$c=this.Aa=0,this.D=new wf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,bf),this.Pa=new yf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pd),this.Hd=0,this.rb=Array(new Ad),this.sb=0,this.wa=Array(new vo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ul),this.L=this.aa=0,this.gd=l([4,2],vo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Nf(){var c=new jf;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,fc||(fc=Id)),c}function ir(c,u,x){return c.a==0&&(c.a=u,c.sc=x,c.cb=0),0}function Ld(c,u,x){return 3<=x&&c[u+0]==157&&c[u+1]==1&&c[u+2]==42}function Ed(c,u){if(c==null)return 0;if(c.a=0,c.sc="OK",u==null)return ir(c,2,"null VP8Io passed to VP8GetHeaders()");var x=u.data,j=u.w,C=u.ha;if(4>C)return ir(c,7,"Truncated header.");var I=x[j+0]|x[j+1]<<8|x[j+2]<<16,D=c.Od;if(D.Rb=!(1&I),D.td=I>>1&7,D.yd=I>>4&1,D.ub=I>>5,3<D.td)return ir(c,3,"Incorrect keyframe parameters.");if(!D.yd)return ir(c,4,"Frame not displayable.");j+=3,C-=3;var z=c.Kc;if(D.Rb){if(7>C)return ir(c,7,"cannot parse picture header");if(!Ld(x,j,C))return ir(c,3,"Bad code word");z.c=16383&(x[j+4]<<8|x[j+3]),z.Td=x[j+4]>>6,z.i=16383&(x[j+6]<<8|x[j+5]),z.Ud=x[j+6]>>6,j+=7,C-=7,c.za=z.c+15>>4,c.Ub=z.i+15>>4,u.width=z.c,u.height=z.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,a((I=c.Pa).jb,0,255,I.jb.length),e((I=c.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,a(I.Zb,0,0,I.Zb.length),a(I.Lb,0,0,I.Lb)}if(D.ub>C)return ir(c,7,"bad partition length");Y(I=c.m,x,j,D.ub),j+=D.ub,C-=D.ub,D.Rb&&(z.Ld=K(I),z.Kd=K(I)),z=c.Qa;var B,Q=c.Pa;if(e(I!=null),e(z!=null),z.Cb=K(I),z.Cb){if(z.Bb=K(I),K(I)){for(z.Fb=K(I),B=0;4>B;++B)z.Zb[B]=K(I)?ne(I,7):0;for(B=0;4>B;++B)z.Lb[B]=K(I)?ne(I,6):0}if(z.Bb)for(B=0;3>B;++B)Q.jb[B]=K(I)?re(I,8):255}else z.Bb=0;if(I.Ka)return ir(c,3,"cannot parse segment header");if((z=c.ed).zd=K(I),z.Tb=re(I,6),z.wb=re(I,3),z.Pc=K(I),z.Pc&&K(I)){for(Q=0;4>Q;++Q)K(I)&&(z.vd[Q]=ne(I,6));for(Q=0;4>Q;++Q)K(I)&&(z.od[Q]=ne(I,6))}if(c.L=z.Tb==0?0:z.zd?1:2,I.Ka)return ir(c,3,"cannot parse filter header");var oe=C;if(C=B=j,j=B+oe,z=oe,c.Xb=(1<<re(c.m,2))-1,oe<3*(Q=c.Xb))x=7;else{for(B+=3*Q,z-=3*Q,oe=0;oe<Q;++oe){var xe=x[C+0]|x[C+1]<<8|x[C+2]<<16;xe>z&&(xe=z),Y(c.Jc[+oe],x,B,xe),B+=xe,z-=xe,C+=3}Y(c.Jc[+Q],x,B,z),x=B<j?0:5}if(x!=0)return ir(c,x,"cannot parse partitions");for(x=re(B=c.m,7),C=K(B)?ne(B,4):0,j=K(B)?ne(B,4):0,z=K(B)?ne(B,4):0,Q=K(B)?ne(B,4):0,B=K(B)?ne(B,4):0,oe=c.Qa,xe=0;4>xe;++xe){if(oe.Cb){var ye=oe.Zb[xe];oe.Fb||(ye+=x)}else{if(0<xe){c.pb[xe]=c.pb[0];continue}ye=x}var me=c.pb[xe];me.Sc[0]=Jf[ks(ye+C,127)],me.Sc[1]=Yf[ks(ye+0,127)],me.Eb[0]=2*Jf[ks(ye+j,127)],me.Eb[1]=101581*Yf[ks(ye+z,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Jf[ks(ye+Q,117)],me.Qc[1]=Yf[ks(ye+B,127)],me.lc=ye+B}if(!D.Rb)return ir(c,4,"Not a key frame.");for(K(I),D=c.Pa,x=0;4>x;++x){for(C=0;8>C;++C)for(j=0;3>j;++j)for(z=0;11>z;++z)Q=ce(I,Ab[x][C][j][z])?re(I,8):_b[x][C][j][z],D.Wc[x][C].Yb[j][z]=Q;for(C=0;17>C;++C)D.Xc[x][C]=D.Wc[x][Pb[C]]}return c.kc=K(I),c.kc&&(c.Bd=re(I,8)),c.cb=1}function Id(c,u,x,j,C,I,D){var z=u[C].Yb[x];for(x=0;16>C;++C){if(!ce(c,z[x+0]))return C;for(;!ce(c,z[x+1]);)if(z=u[++C].Yb[0],x=0,C==16)return 16;var B=u[C+1].Yb;if(ce(c,z[x+2])){var Q=c,oe=0;if(ce(Q,(ye=z)[(xe=x)+3]))if(ce(Q,ye[xe+6])){for(z=0,xe=2*(oe=ce(Q,ye[xe+8]))+(ye=ce(Q,ye[xe+9+oe])),oe=0,ye=kb[xe];ye[z];++z)oe+=oe+ce(Q,ye[z]);oe+=3+(8<<xe)}else ce(Q,ye[xe+7])?(oe=7+2*ce(Q,165),oe+=ce(Q,145)):oe=5+ce(Q,159);else oe=ce(Q,ye[xe+4])?3+ce(Q,ye[xe+5]):2;z=B[2]}else oe=1,z=B[1];B=D+Sb[C],0>(Q=c).b&&pe(Q);var xe,ye=Q.b,me=(xe=Q.Ca>>1)-(Q.I>>ye)>>31;--Q.b,Q.Ca+=me,Q.Ca|=1,Q.I-=(xe+1&me)<<ye,I[B]=((oe^me)-me)*j[(0<C)+0]}return 16}function Vl(c){var u=c.rb[c.sb-1];u.la=0,u.Na=0,a(c.zc,0,0,c.zc.length),c.ja=0}function kf(c,u){if(c==null)return 0;if(u==null)return ir(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!Ed(c,u))return 0;if(e(c.cb),u.ac==null||u.ac(u)){u.ob&&(c.L=0);var x=iu[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=u.v-x>>4,c.zb=u.j-x>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=u.o+15+x>>4,c.Hb=u.va+15+x>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var j=c.ed;for(x=0;4>x;++x){var C;if(c.Qa.Cb){var I=c.Qa.Lb[x];c.Qa.Fb||(I+=j.Tb)}else I=j.Tb;for(C=0;1>=C;++C){var D=c.gd[x][C],z=I;if(j.Pc&&(z+=j.vd[0],C&&(z+=j.od[0])),0<(z=0>z?0:63<z?63:z)){var B=z;0<j.wb&&(B=4<j.wb?B>>2:B>>1)>9-j.wb&&(B=9-j.wb),1>B&&(B=1),D.dd=B,D.tc=2*z+B,D.ld=40<=z?2:15<=z?1:0}else D.tc=0;D.La=C}}}x=0}else ir(c,6,"Frame setup failed"),x=c.a;if(x=x==0){if(x){c.$c=0,0<c.Aa||(c.Ic=Bb);e:{x=c.Ic,j=4*(B=c.za);var Q=32*B,oe=B+1,xe=0<c.L?B*(0<c.Aa?2:1):0,ye=(c.Aa==2?2:1)*B;if((D=j+832+(C=3*(16*x+iu[c.L])/2*Q)+(I=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=D)x=0;else{if(D>c.Vb){if(c.Vb=0,c.Ec=i(D),c.Fc=0,c.Ec==null){x=ir(c,1,"no memory during frame initialization.");break e}c.Vb=D}D=c.Ec,z=c.Fc,c.Ac=D,c.Bc=z,z+=j,c.Gd=o(Q,Pd),c.Hd=0,c.rb=o(oe+1,Ad),c.sb=1,c.wa=xe?o(xe,vo):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=B),e(!0),c.oc=D,c.pc=z,z+=832,c.ya=o(ye,Ul),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=B),c.R=16*B,c.B=8*B,B=(Q=iu[c.L])*c.R,Q=Q/2*c.B,c.sa=D,c.ta=z+B,c.qa=c.sa,c.ra=c.ta+16*x*c.R+Q,c.Ha=c.qa,c.Ia=c.ra+8*x*c.B+Q,c.$c=0,z+=C,c.mb=I?D:null,c.nb=I?z:null,e(z+I<=c.Fc+c.Vb),Vl(c),a(c.Ac,c.Bc,0,j),x=1}}if(x){if(u.ka=0,u.y=c.sa,u.O=c.ta,u.f=c.qa,u.N=c.ra,u.ea=c.Ha,u.Vd=c.Ia,u.fa=c.R,u.Rc=c.B,u.F=null,u.J=0,!Xd){for(x=-255;255>=x;++x)wr[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)ua[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)hc[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)zo[255+x]=0>x?0:255<x?255:x;Xd=1}Do=Cf,da=Sf,cc=Td,Zr=_f,zs=Dd,or=Fd,Oo=Kl,Kd=Ei,dc=Rf,Ti=Xl,Di=$f,Oa=_o,Oi=Ql,Mo=Vd,Mi=Ud,Ma=Rn,uc=oa,$s=zf,un[0]=$n,un[1]=Af,un[2]=If,un[3]=Ff,un[4]=zd,un[5]=ko,un[6]=$d,un[7]=Gl,un[8]=Df,un[9]=Tf,za[0]=Od,za[1]=Lf,za[2]=ia,za[3]=jo,za[4]=$r,za[5]=Ef,za[6]=Md,ha[0]=Ea,ha[1]=Pf,ha[2]=Of,ha[3]=Jl,ha[4]=Li,ha[5]=Mf,ha[6]=Yl,x=1}else x=0}x&&(x=function(me,_e){for(me.M=0;me.M<me.Va;++me.M){var we,le=me.Jc[me.M&me.Xb],fe=me.m,Ne=me;for(we=0;we<Ne.za;++we){var Ae=fe,Se=Ne,qe=Se.Ac,Fe=Se.Bc+4*we,Ye=Se.zc,Oe=Se.ya[Se.aa+we];if(Se.Qa.Bb?Oe.$b=ce(Ae,Se.Pa.jb[0])?2+ce(Ae,Se.Pa.jb[2]):ce(Ae,Se.Pa.jb[1]):Oe.$b=0,Se.kc&&(Oe.Ad=ce(Ae,Se.Bd)),Oe.Za=!ce(Ae,145)+0,Oe.Za){var wt=Oe.Ob,kt=0;for(Se=0;4>Se;++Se){var yt,pt=Ye[0+Se];for(yt=0;4>yt;++yt){pt=Cb[qe[Fe+yt]][pt];for(var It=jg[ce(Ae,pt[0])];0<It;)It=jg[2*It+ce(Ae,pt[It])];pt=-It,qe[Fe+yt]=pt}n(wt,kt,qe,Fe,4),kt+=4,Ye[0+Se]=pt}}else pt=ce(Ae,156)?ce(Ae,128)?1:3:ce(Ae,163)?2:0,Oe.Ob[0]=pt,a(qe,Fe,pt,4),a(Ye,0,pt,4);Oe.Dd=ce(Ae,142)?ce(Ae,114)?ce(Ae,183)?1:3:2:0}if(Ne.m.Ka)return ir(me,7,"Premature end-of-partition0 encountered.");for(;me.ja<me.za;++me.ja){if(Ne=le,Ae=(fe=me).rb[fe.sb-1],qe=fe.rb[fe.sb+fe.ja],we=fe.ya[fe.aa+fe.ja],Fe=fe.kc?we.Ad:0)Ae.la=qe.la=0,we.Za||(Ae.Na=qe.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var Lt,ot;if(Ae=qe,qe=Ne,Fe=fe.Pa.Xc,Ye=fe.ya[fe.aa+fe.ja],Oe=fe.pb[Ye.$b],Se=Ye.ad,wt=0,kt=fe.rb[fe.sb-1],pt=yt=0,a(Se,wt,0,384),Ye.Za)var xr=0,us=Fe[3];else{It=i(16);var yr=Ae.Na+kt.Na;if(yr=fc(qe,Fe[1],yr,Oe.Eb,0,It,0),Ae.Na=kt.Na=(0<yr)+0,1<yr)Do(It,0,Se,wt);else{var hs=It[0]+3>>3;for(It=0;256>It;It+=16)Se[wt+It]=hs}xr=1,us=Fe[0]}var St=15&Ae.la,_s=15&kt.la;for(It=0;4>It;++It){var Cs=1&_s;for(hs=ot=0;4>hs;++hs)St=St>>1|(Cs=(yr=fc(qe,us,yr=Cs+(1&St),Oe.Sc,xr,Se,wt))>xr)<<7,ot=ot<<2|(3<yr?3:1<yr?2:Se[wt+0]!=0),wt+=16;St>>=4,_s=_s>>1|Cs<<7,yt=(yt<<8|ot)>>>0}for(us=St,xr=_s>>4,Lt=0;4>Lt;Lt+=2){for(ot=0,St=Ae.la>>4+Lt,_s=kt.la>>4+Lt,It=0;2>It;++It){for(Cs=1&_s,hs=0;2>hs;++hs)yr=Cs+(1&St),St=St>>1|(Cs=0<(yr=fc(qe,Fe[2],yr,Oe.Qc,0,Se,wt)))<<3,ot=ot<<2|(3<yr?3:1<yr?2:Se[wt+0]!=0),wt+=16;St>>=2,_s=_s>>1|Cs<<5}pt|=ot<<4*Lt,us|=St<<4<<Lt,xr|=(240&_s)<<Lt}Ae.la=us,kt.la=xr,Ye.Hc=yt,Ye.Gc=pt,Ye.ia=43690&pt?0:Oe.ia,Fe=!(yt|pt)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[we.$b][we.Za],fe.wa[fe.Y+fe.ja].La|=!Fe),Ne.Ka)return ir(me,7,"Premature end-of-file encountered.")}if(Vl(me),fe=_e,Ne=1,we=(le=me).D,Ae=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(we.M=le.M,we.uc=Ae,nc(le,we),Ne=1,we=(ot=le.D).Nb,Ae=(pt=iu[le.L])*le.R,qe=pt/2*le.B,It=16*we*le.R,hs=8*we*le.B,Fe=le.sa,Ye=le.ta-Ae+It,Oe=le.qa,Se=le.ra-qe+hs,wt=le.Ha,kt=le.Ia-qe+hs,_s=(St=ot.M)==0,yt=St>=le.Va-1,le.Aa==2&&nc(le,ot),ot.uc)for(Cs=(yr=le).D.M,e(yr.D.uc),ot=yr.yb;ot<yr.Hb;++ot){xr=ot,us=Cs;var _r=(Tr=(rr=yr).D).Nb;Lt=rr.R;var Tr=Tr.wa[Tr.Y+xr],es=rr.sa,Us=rr.ta+16*_r*Lt+16*xr,Bn=Tr.dd,Cr=Tr.tc;if(Cr!=0)if(e(3<=Cr),rr.L==1)0<xr&&Ma(es,Us,Lt,Cr+4),Tr.La&&$s(es,Us,Lt,Cr),0<us&&Mi(es,Us,Lt,Cr+4),Tr.La&&uc(es,Us,Lt,Cr);else{var fa=rr.B,zi=rr.qa,$o=rr.ra+8*_r*fa+8*xr,Ra=rr.Ha,rr=rr.Ia+8*_r*fa+8*xr;_r=Tr.ld,0<xr&&(Kd(es,Us,Lt,Cr+4,Bn,_r),Ti(zi,$o,Ra,rr,fa,Cr+4,Bn,_r)),Tr.La&&(Oa(es,Us,Lt,Cr,Bn,_r),Mo(zi,$o,Ra,rr,fa,Cr,Bn,_r)),0<us&&(Oo(es,Us,Lt,Cr+4,Bn,_r),dc(zi,$o,Ra,rr,fa,Cr+4,Bn,_r)),Tr.La&&(Di(es,Us,Lt,Cr,Bn,_r),Oi(zi,$o,Ra,rr,fa,Cr,Bn,_r))}}if(le.ia&&alert("todo:DitherRow"),fe.put!=null){if(ot=16*St,St=16*(St+1),_s?(fe.y=le.sa,fe.O=le.ta+It,fe.f=le.qa,fe.N=le.ra+hs,fe.ea=le.Ha,fe.W=le.Ia+hs):(ot-=pt,fe.y=Fe,fe.O=Ye,fe.f=Oe,fe.N=Se,fe.ea=wt,fe.W=kt),yt||(St-=pt),St>fe.o&&(St=fe.o),fe.F=null,fe.J=null,le.Fa!=null&&0<le.Fa.length&&ot<St&&(fe.J=rc(le,fe,ot,St-ot),fe.F=le.mb,fe.F==null&&fe.F.length==0)){Ne=ir(le,3,"Could not decode alpha data.");break e}ot<fe.j&&(pt=fe.j-ot,ot=fe.j,e(!(1&pt)),fe.O+=le.R*pt,fe.N+=le.B*(pt>>1),fe.W+=le.B*(pt>>1),fe.F!=null&&(fe.J+=fe.width*pt)),ot<St&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=ot-fe.j,fe.U=fe.va-fe.v,fe.T=St-ot,Ne=fe.put(fe))}we+1!=le.Ic||yt||(n(le.sa,le.ta-Ae,Fe,Ye+16*le.R,Ae),n(le.qa,le.ra-qe,Oe,Se+8*le.B,qe),n(le.Ha,le.Ia-qe,wt,kt+8*le.B,qe))}if(!Ne)return ir(me,6,"Output aborted.")}return 1}(c,u)),u.bc!=null&&u.bc(u),x&=1}return x?(c.cb=0,x):0}function ln(c,u,x,j,C){C=c[u+x+32*j]+(C>>3),c[u+x+32*j]=-256&C?0>C?0:255:C}function wo(c,u,x,j,C,I){ln(c,u,0,x,j+C),ln(c,u,1,x,j+I),ln(c,u,2,x,j-I),ln(c,u,3,x,j-C)}function ls(c){return(20091*c>>16)+c}function Hl(c,u,x,j){var C,I=0,D=i(16);for(C=0;4>C;++C){var z=c[u+0]+c[u+8],B=c[u+0]-c[u+8],Q=(35468*c[u+4]>>16)-ls(c[u+12]),oe=ls(c[u+4])+(35468*c[u+12]>>16);D[I+0]=z+oe,D[I+1]=B+Q,D[I+2]=B-Q,D[I+3]=z-oe,I+=4,u++}for(C=I=0;4>C;++C)z=(c=D[I+0]+4)+D[I+8],B=c-D[I+8],Q=(35468*D[I+4]>>16)-ls(D[I+12]),ln(x,j,0,0,z+(oe=ls(D[I+4])+(35468*D[I+12]>>16))),ln(x,j,1,0,B+Q),ln(x,j,2,0,B-Q),ln(x,j,3,0,z-oe),I++,j+=32}function Fd(c,u,x,j){var C=c[u+0]+4,I=35468*c[u+4]>>16,D=ls(c[u+4]),z=35468*c[u+1]>>16;wo(x,j,0,C+D,c=ls(c[u+1]),z),wo(x,j,1,C+I,c,z),wo(x,j,2,C-I,c,z),wo(x,j,3,C-D,c,z)}function Sf(c,u,x,j,C){Hl(c,u,x,j),C&&Hl(c,u+16,x,j+4)}function Td(c,u,x,j){da(c,u+0,x,j,1),da(c,u+32,x,j+128,1)}function _f(c,u,x,j){var C;for(c=c[u+0]+4,C=0;4>C;++C)for(u=0;4>u;++u)ln(x,j,u,C,c)}function Dd(c,u,x,j){c[u+0]&&Zr(c,u+0,x,j),c[u+16]&&Zr(c,u+16,x,j+4),c[u+32]&&Zr(c,u+32,x,j+128),c[u+48]&&Zr(c,u+48,x,j+128+4)}function Cf(c,u,x,j){var C,I=i(16);for(C=0;4>C;++C){var D=c[u+0+C]+c[u+12+C],z=c[u+4+C]+c[u+8+C],B=c[u+4+C]-c[u+8+C],Q=c[u+0+C]-c[u+12+C];I[0+C]=D+z,I[8+C]=D-z,I[4+C]=Q+B,I[12+C]=Q-B}for(C=0;4>C;++C)D=(c=I[0+4*C]+3)+I[3+4*C],z=I[1+4*C]+I[2+4*C],B=I[1+4*C]-I[2+4*C],Q=c-I[3+4*C],x[j+0]=D+z>>3,x[j+16]=Q+B>>3,x[j+32]=D-z>>3,x[j+48]=Q-B>>3,j+=64}function Wl(c,u,x){var j,C=u-32,I=Ss,D=255-c[C-1];for(j=0;j<x;++j){var z,B=I,Q=D+c[u-1];for(z=0;z<x;++z)c[u+z]=B[Q+c[C+z]];u+=32}}function Af(c,u){Wl(c,u,4)}function Pf(c,u){Wl(c,u,8)}function Lf(c,u){Wl(c,u,16)}function ia(c,u){var x;for(x=0;16>x;++x)n(c,u+32*x,c,u-32,16)}function jo(c,u){var x;for(x=16;0<x;--x)a(c,u,c[u-1],16),u+=32}function No(c,u,x){var j;for(j=0;16>j;++j)a(u,x+32*j,c,16)}function Od(c,u){var x,j=16;for(x=0;16>x;++x)j+=c[u-1+32*x]+c[u+x-32];No(j>>5,c,u)}function $r(c,u){var x,j=8;for(x=0;16>x;++x)j+=c[u-1+32*x];No(j>>4,c,u)}function Ef(c,u){var x,j=8;for(x=0;16>x;++x)j+=c[u+x-32];No(j>>4,c,u)}function Md(c,u){No(128,c,u)}function et(c,u,x){return c+2*u+x+2>>2}function If(c,u){var x,j=u-32;for(j=new Uint8Array([et(c[j-1],c[j+0],c[j+1]),et(c[j+0],c[j+1],c[j+2]),et(c[j+1],c[j+2],c[j+3]),et(c[j+2],c[j+3],c[j+4])]),x=0;4>x;++x)n(c,u+32*x,j,0,j.length)}function Ff(c,u){var x=c[u-1],j=c[u-1+32],C=c[u-1+64],I=c[u-1+96];he(c,u+0,16843009*et(c[u-1-32],x,j)),he(c,u+32,16843009*et(x,j,C)),he(c,u+64,16843009*et(j,C,I)),he(c,u+96,16843009*et(C,I,I))}function $n(c,u){var x,j=4;for(x=0;4>x;++x)j+=c[u+x-32]+c[u-1+32*x];for(j>>=3,x=0;4>x;++x)a(c,u+32*x,j,4)}function zd(c,u){var x=c[u-1+0],j=c[u-1+32],C=c[u-1+64],I=c[u-1-32],D=c[u+0-32],z=c[u+1-32],B=c[u+2-32],Q=c[u+3-32];c[u+0+96]=et(j,C,c[u-1+96]),c[u+1+96]=c[u+0+64]=et(x,j,C),c[u+2+96]=c[u+1+64]=c[u+0+32]=et(I,x,j),c[u+3+96]=c[u+2+64]=c[u+1+32]=c[u+0+0]=et(D,I,x),c[u+3+64]=c[u+2+32]=c[u+1+0]=et(z,D,I),c[u+3+32]=c[u+2+0]=et(B,z,D),c[u+3+0]=et(Q,B,z)}function $d(c,u){var x=c[u+1-32],j=c[u+2-32],C=c[u+3-32],I=c[u+4-32],D=c[u+5-32],z=c[u+6-32],B=c[u+7-32];c[u+0+0]=et(c[u+0-32],x,j),c[u+1+0]=c[u+0+32]=et(x,j,C),c[u+2+0]=c[u+1+32]=c[u+0+64]=et(j,C,I),c[u+3+0]=c[u+2+32]=c[u+1+64]=c[u+0+96]=et(C,I,D),c[u+3+32]=c[u+2+64]=c[u+1+96]=et(I,D,z),c[u+3+64]=c[u+2+96]=et(D,z,B),c[u+3+96]=et(z,B,B)}function ko(c,u){var x=c[u-1+0],j=c[u-1+32],C=c[u-1+64],I=c[u-1-32],D=c[u+0-32],z=c[u+1-32],B=c[u+2-32],Q=c[u+3-32];c[u+0+0]=c[u+1+64]=I+D+1>>1,c[u+1+0]=c[u+2+64]=D+z+1>>1,c[u+2+0]=c[u+3+64]=z+B+1>>1,c[u+3+0]=B+Q+1>>1,c[u+0+96]=et(C,j,x),c[u+0+64]=et(j,x,I),c[u+0+32]=c[u+1+96]=et(x,I,D),c[u+1+32]=c[u+2+96]=et(I,D,z),c[u+2+32]=c[u+3+96]=et(D,z,B),c[u+3+32]=et(z,B,Q)}function Gl(c,u){var x=c[u+0-32],j=c[u+1-32],C=c[u+2-32],I=c[u+3-32],D=c[u+4-32],z=c[u+5-32],B=c[u+6-32],Q=c[u+7-32];c[u+0+0]=x+j+1>>1,c[u+1+0]=c[u+0+64]=j+C+1>>1,c[u+2+0]=c[u+1+64]=C+I+1>>1,c[u+3+0]=c[u+2+64]=I+D+1>>1,c[u+0+32]=et(x,j,C),c[u+1+32]=c[u+0+96]=et(j,C,I),c[u+2+32]=c[u+1+96]=et(C,I,D),c[u+3+32]=c[u+2+96]=et(I,D,z),c[u+3+64]=et(D,z,B),c[u+3+96]=et(z,B,Q)}function Tf(c,u){var x=c[u-1+0],j=c[u-1+32],C=c[u-1+64],I=c[u-1+96];c[u+0+0]=x+j+1>>1,c[u+2+0]=c[u+0+32]=j+C+1>>1,c[u+2+32]=c[u+0+64]=C+I+1>>1,c[u+1+0]=et(x,j,C),c[u+3+0]=c[u+1+32]=et(j,C,I),c[u+3+32]=c[u+1+64]=et(C,I,I),c[u+3+64]=c[u+2+64]=c[u+0+96]=c[u+1+96]=c[u+2+96]=c[u+3+96]=I}function Df(c,u){var x=c[u-1+0],j=c[u-1+32],C=c[u-1+64],I=c[u-1+96],D=c[u-1-32],z=c[u+0-32],B=c[u+1-32],Q=c[u+2-32];c[u+0+0]=c[u+2+32]=x+D+1>>1,c[u+0+32]=c[u+2+64]=j+x+1>>1,c[u+0+64]=c[u+2+96]=C+j+1>>1,c[u+0+96]=I+C+1>>1,c[u+3+0]=et(z,B,Q),c[u+2+0]=et(D,z,B),c[u+1+0]=c[u+3+32]=et(x,D,z),c[u+1+32]=c[u+3+64]=et(j,x,D),c[u+1+64]=c[u+3+96]=et(C,j,x),c[u+1+96]=et(I,C,j)}function Of(c,u){var x;for(x=0;8>x;++x)n(c,u+32*x,c,u-32,8)}function Jl(c,u){var x;for(x=0;8>x;++x)a(c,u,c[u-1],8),u+=32}function Pi(c,u,x){var j;for(j=0;8>j;++j)a(u,x+32*j,c,8)}function Ea(c,u){var x,j=8;for(x=0;8>x;++x)j+=c[u+x-32]+c[u-1+32*x];Pi(j>>4,c,u)}function Mf(c,u){var x,j=4;for(x=0;8>x;++x)j+=c[u+x-32];Pi(j>>3,c,u)}function Li(c,u){var x,j=4;for(x=0;8>x;++x)j+=c[u-1+32*x];Pi(j>>3,c,u)}function Yl(c,u){Pi(128,c,u)}function So(c,u,x){var j=c[u-x],C=c[u+0],I=3*(C-j)+Uf[1020+c[u-2*x]-c[u+x]],D=Qd[112+(I+4>>3)];c[u-x]=Ss[255+j+Qd[112+(I+3>>3)]],c[u+0]=Ss[255+C-D]}function Rd(c,u,x,j){var C=c[u+0],I=c[u+x];return qs[255+c[u-2*x]-c[u-x]]>j||qs[255+I-C]>j}function qd(c,u,x,j){return 4*qs[255+c[u-x]-c[u+0]]+qs[255+c[u-2*x]-c[u+x]]<=j}function Bd(c,u,x,j,C){var I=c[u-3*x],D=c[u-2*x],z=c[u-x],B=c[u+0],Q=c[u+x],oe=c[u+2*x],xe=c[u+3*x];return 4*qs[255+z-B]+qs[255+D-Q]>j?0:qs[255+c[u-4*x]-I]<=C&&qs[255+I-D]<=C&&qs[255+D-z]<=C&&qs[255+xe-oe]<=C&&qs[255+oe-Q]<=C&&qs[255+Q-B]<=C}function Ud(c,u,x,j){var C=2*j+1;for(j=0;16>j;++j)qd(c,u+j,x,C)&&So(c,u+j,x)}function Rn(c,u,x,j){var C=2*j+1;for(j=0;16>j;++j)qd(c,u+j*x,1,C)&&So(c,u+j*x,1)}function oa(c,u,x,j){var C;for(C=3;0<C;--C)Ud(c,u+=4*x,x,j)}function zf(c,u,x,j){var C;for(C=3;0<C;--C)Rn(c,u+=4,x,j)}function Ia(c,u,x,j,C,I,D,z){for(I=2*I+1;0<C--;){if(Bd(c,u,x,I,D))if(Rd(c,u,x,z))So(c,u,x);else{var B=c,Q=u,oe=x,xe=B[Q-2*oe],ye=B[Q-oe],me=B[Q+0],_e=B[Q+oe],we=B[Q+2*oe],le=27*(Ne=Uf[1020+3*(me-ye)+Uf[1020+xe-_e]])+63>>7,fe=18*Ne+63>>7,Ne=9*Ne+63>>7;B[Q-3*oe]=Ss[255+B[Q-3*oe]+Ne],B[Q-2*oe]=Ss[255+xe+fe],B[Q-oe]=Ss[255+ye+le],B[Q+0]=Ss[255+me-le],B[Q+oe]=Ss[255+_e-fe],B[Q+2*oe]=Ss[255+we-Ne]}u+=j}}function cn(c,u,x,j,C,I,D,z){for(I=2*I+1;0<C--;){if(Bd(c,u,x,I,D))if(Rd(c,u,x,z))So(c,u,x);else{var B=c,Q=u,oe=x,xe=B[Q-oe],ye=B[Q+0],me=B[Q+oe],_e=Qd[112+((we=3*(ye-xe))+4>>3)],we=Qd[112+(we+3>>3)],le=_e+1>>1;B[Q-2*oe]=Ss[255+B[Q-2*oe]+le],B[Q-oe]=Ss[255+xe+we],B[Q+0]=Ss[255+ye-_e],B[Q+oe]=Ss[255+me-le]}u+=j}}function Kl(c,u,x,j,C,I){Ia(c,u,x,1,16,j,C,I)}function Ei(c,u,x,j,C,I){Ia(c,u,1,x,16,j,C,I)}function $f(c,u,x,j,C,I){var D;for(D=3;0<D;--D)cn(c,u+=4*x,x,1,16,j,C,I)}function _o(c,u,x,j,C,I){var D;for(D=3;0<D;--D)cn(c,u+=4,1,x,16,j,C,I)}function Rf(c,u,x,j,C,I,D,z){Ia(c,u,C,1,8,I,D,z),Ia(x,j,C,1,8,I,D,z)}function Xl(c,u,x,j,C,I,D,z){Ia(c,u,1,C,8,I,D,z),Ia(x,j,1,C,8,I,D,z)}function Ql(c,u,x,j,C,I,D,z){cn(c,u+4*C,C,1,8,I,D,z),cn(x,j+4*C,C,1,8,I,D,z)}function Vd(c,u,x,j,C,I,D,z){cn(c,u+4,1,C,8,I,D,z),cn(x,j+4,1,C,8,I,D,z)}function Co(){this.ba=new rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ec(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hd(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new L}function qf(){this.xb=this.a=0,this.l=new bo,this.ca=new rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hd,this.ab=0,this.gc=o(4,ec),this.Oc=0}function Ao(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ii(c,u,x,j,C,I,D){for(c=c==null?0:c[u+0],u=0;u<D;++u)C[I+u]=c+x[j+u]&255,c=C[I+u]}function tc(c,u,x,j,C,I,D){var z;if(c==null)Ii(null,null,x,j,C,I,D);else for(z=0;z<D;++z)C[I+z]=c[u+z]+x[j+z]&255}function Fa(c,u,x,j,C,I,D){if(c==null)Ii(null,null,x,j,C,I,D);else{var z,B=c[u+0],Q=B,oe=B;for(z=0;z<D;++z)Q=oe+(B=c[u+z])-Q,oe=x[j+z]+(-256&Q?0>Q?0:255:Q)&255,Q=B,C[I+z]=oe}}function rc(c,u,x,j){var C=u.width,I=u.o;if(e(c!=null&&u!=null),0>x||0>=j||x+j>I)return null;if(!c.Cc){if(c.ga==null){var D;if(c.ga=new Ao,(D=c.ga==null)||(D=u.width*u.o,e(c.Gb.length==0),c.Gb=i(D),c.Uc=0,c.Gb==null?D=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,D=1),D=!D),!D){D=c.ga;var z=c.Fa,B=c.P,Q=c.qc,oe=c.mb,xe=c.nb,ye=B+1,me=Q-1,_e=D.l;if(e(z!=null&&oe!=null&&u!=null),$a[0]=null,$a[1]=Ii,$a[2]=tc,$a[3]=Fa,D.ca=oe,D.tb=xe,D.c=u.width,D.i=u.height,e(0<D.c&&0<D.i),1>=Q)u=0;else if(D.$a=z[B+0]>>0&3,D.Z=z[B+0]>>2&3,D.Lc=z[B+0]>>4&3,B=z[B+0]>>6&3,0>D.$a||1<D.$a||4<=D.Z||1<D.Lc||B)u=0;else if(_e.put=Tn,_e.ac=Ir,_e.bc=Dn,_e.ma=D,_e.width=u.width,_e.height=u.height,_e.Da=u.Da,_e.v=u.v,_e.va=u.va,_e.j=u.j,_e.o=u.o,D.$a)e:{e(D.$a==1),u=Os();t:for(;;){if(u==null){u=0;break e}if(e(D!=null),D.mc=u,u.c=D.c,u.i=D.i,u.l=D.l,u.l.ma=D,u.l.width=D.c,u.l.height=D.i,u.a=0,R(u.m,z,ye,me),!zn(D.c,D.i,1,u,null)||(u.ab==1&&u.gc[0].hc==3&&aa(u.s)?(D.ic=1,z=u.c*u.i,u.Ta=null,u.Ua=0,u.V=i(z),u.Ba=0,u.V==null?(u.a=1,u=0):u=1):(D.ic=0,u=Ai(u,D.c)),!u))break t;u=1;break e}D.mc=null,u=0}else u=me>=D.c*D.i;D=!u}if(D)return null;c.ga.Lc!=1?c.Ga=0:j=I-x}e(c.ga!=null),e(x+j<=I);e:{if(u=(z=c.ga).c,I=z.l.o,z.$a==0){if(ye=c.rc,me=c.Vc,_e=c.Fa,B=c.P+1+x*u,Q=c.mb,oe=c.nb+x*u,e(B<=c.P+c.qc),z.Z!=0)for(e($a[z.Z]!=null),D=0;D<j;++D)$a[z.Z](ye,me,_e,B,Q,oe,u),ye=Q,me=oe,oe+=u,B+=u;else for(D=0;D<j;++D)n(Q,oe,_e,B,u),ye=Q,me=oe,oe+=u,B+=u;c.rc=ye,c.Vc=me}else{if(e(z.mc!=null),u=x+j,e((D=z.mc)!=null),e(u<=D.i),D.C>=u)u=1;else if(z.ic||ge(),z.ic){z=D.V,ye=D.Ba,me=D.c;var we=D.i,le=(_e=1,B=D.$/me,Q=D.$%me,oe=D.m,xe=D.s,D.$),fe=me*we,Ne=me*u,Ae=xe.wc,Se=le<Ne?pr(xe,Q,B):null;e(le<=fe),e(u<=we),e(aa(xe));t:for(;;){for(;!oe.h&&le<Ne;){if(Q&Ae||(Se=pr(xe,Q,B)),e(Se!=null),Z(oe),256>(we=os(Se.G[0],Se.H[0],oe)))z[ye+le]=we,++le,++Q>=me&&(Q=0,++B<=u&&!(B%16)&&an(D,B));else{if(!(280>we)){_e=0;break t}we=sn(we-256,oe);var qe,Fe=os(Se.G[4],Se.H[4],oe);if(Z(oe),!(le>=(Fe=On(me,Fe=sn(Fe,oe)))&&fe-le>=we)){_e=0;break t}for(qe=0;qe<we;++qe)z[ye+le+qe]=z[ye+le+qe-Fe];for(le+=we,Q+=we;Q>=me;)Q-=me,++B<=u&&!(B%16)&&an(D,B);le<Ne&&Q&Ae&&(Se=pr(xe,Q,B))}e(oe.h==F(oe))}an(D,B>u?u:B);break t}!_e||oe.h&&le<fe?(_e=0,D.a=oe.h?5:3):D.$=le,u=_e}else u=on(D,D.V,D.Ba,D.c,D.i,u,po);if(!u){j=0;break e}}x+j>=I&&(c.Cc=1),j=1}if(!j)return null;if(c.Cc&&((j=c.ga)!=null&&(j.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+x*C}function m(c,u,x,j,C,I){for(;0<C--;){var D,z=c,B=u+(x?1:0),Q=c,oe=u+(x?0:3);for(D=0;D<j;++D){var xe=Q[oe+4*D];xe!=255&&(xe*=32897,z[B+4*D+0]=z[B+4*D+0]*xe>>23,z[B+4*D+1]=z[B+4*D+1]*xe>>23,z[B+4*D+2]=z[B+4*D+2]*xe>>23)}u+=I}}function P(c,u,x,j,C){for(;0<j--;){var I;for(I=0;I<x;++I){var D=c[u+2*I+0],z=15&(Q=c[u+2*I+1]),B=4369*z,Q=(240&Q|Q>>4)*B>>16;c[u+2*I+0]=(240&D|D>>4)*B>>16&240|(15&D|D<<4)*B>>16>>4&15,c[u+2*I+1]=240&Q|z}u+=C}}function ee(c,u,x,j,C,I,D,z){var B,Q,oe=255;for(Q=0;Q<C;++Q){for(B=0;B<j;++B){var xe=c[u+B];I[D+4*B]=xe,oe&=xe}u+=x,D+=z}return oe!=255}function ae(c,u,x,j,C){var I;for(I=0;I<C;++I)x[j+I]=c[u+I]>>8}function ge(){Rs=m,Dt=P,Ot=ee,lr=ae}function je(c,u,x){E[c]=function(j,C,I,D,z,B,Q,oe,xe,ye,me,_e,we,le,fe,Ne,Ae){var Se,qe=Ae-1>>1,Fe=z[B+0]|Q[oe+0]<<16,Ye=xe[ye+0]|me[_e+0]<<16;e(j!=null);var Oe=3*Fe+Ye+131074>>2;for(u(j[C+0],255&Oe,Oe>>16,we,le),I!=null&&(Oe=3*Ye+Fe+131074>>2,u(I[D+0],255&Oe,Oe>>16,fe,Ne)),Se=1;Se<=qe;++Se){var wt=z[B+Se]|Q[oe+Se]<<16,kt=xe[ye+Se]|me[_e+Se]<<16,yt=Fe+wt+Ye+kt+524296,pt=yt+2*(wt+Ye)>>3;Oe=pt+Fe>>1,Fe=(yt=yt+2*(Fe+kt)>>3)+wt>>1,u(j[C+2*Se-1],255&Oe,Oe>>16,we,le+(2*Se-1)*x),u(j[C+2*Se-0],255&Fe,Fe>>16,we,le+(2*Se-0)*x),I!=null&&(Oe=yt+Ye>>1,Fe=pt+kt>>1,u(I[D+2*Se-1],255&Oe,Oe>>16,fe,Ne+(2*Se-1)*x),u(I[D+2*Se+0],255&Fe,Fe>>16,fe,Ne+(2*Se+0)*x)),Fe=wt,Ye=kt}1&Ae||(Oe=3*Fe+Ye+131074>>2,u(j[C+Ae-1],255&Oe,Oe>>16,we,le+(Ae-1)*x),I!=null&&(Oe=3*Ye+Fe+131074>>2,u(I[D+Ae-1],255&Oe,Oe>>16,fe,Ne+(Ae-1)*x)))}}function Pe(){Bs[Zd]=Eb,Bs[eu]=kg,Bs[vg]=Ib,Bs[tu]=Sg,Bs[ru]=_g,Bs[Vf]=Cg,Bs[bg]=Fb,Bs[Hf]=kg,Bs[Wf]=Sg,Bs[su]=_g,Bs[Gf]=Cg}function Re(c){return c&~Tb?0>c?0:255:c>>Ag}function Je(c,u){return Re((19077*c>>8)+(26149*u>>8)-14234)}function it(c,u,x){return Re((19077*c>>8)-(6419*u>>8)-(13320*x>>8)+8708)}function nt(c,u){return Re((19077*c>>8)+(33050*u>>8)-17685)}function gt(c,u,x,j,C){j[C+0]=Je(c,x),j[C+1]=it(c,u,x),j[C+2]=nt(c,u)}function Jt(c,u,x,j,C){j[C+0]=nt(c,u),j[C+1]=it(c,u,x),j[C+2]=Je(c,x)}function tr(c,u,x,j,C){var I=it(c,u,x);u=I<<3&224|nt(c,u)>>3,j[C+0]=248&Je(c,x)|I>>5,j[C+1]=u}function gr(c,u,x,j,C){var I=240&nt(c,u)|15;j[C+0]=240&Je(c,x)|it(c,u,x)>>4,j[C+1]=I}function Rr(c,u,x,j,C){j[C+0]=255,gt(c,u,x,j,C+1)}function Sr(c,u,x,j,C){Jt(c,u,x,j,C),j[C+3]=255}function dn(c,u,x,j,C){gt(c,u,x,j,C),j[C+3]=255}function ks(c,u){return 0>c?0:c>u?u:c}function qn(c,u,x){E[c]=function(j,C,I,D,z,B,Q,oe,xe){for(var ye=oe+(-2&xe)*x;oe!=ye;)u(j[C+0],I[D+0],z[B+0],Q,oe),u(j[C+1],I[D+0],z[B+0],Q,oe+x),C+=2,++D,++B,oe+=2*x;1&xe&&u(j[C+0],I[D+0],z[B+0],Q,oe)}}function Wd(c,u,x){return x==0?c==0?u==0?6:5:u==0?4:0:x}function sc(c,u,x,j,C){switch(c>>>30){case 3:da(u,x,j,C,0);break;case 2:or(u,x,j,C);break;case 1:Zr(u,x,j,C)}}function nc(c,u){var x,j,C=u.M,I=u.Nb,D=c.oc,z=c.pc+40,B=c.oc,Q=c.pc+584,oe=c.oc,xe=c.pc+600;for(x=0;16>x;++x)D[z+32*x-1]=129;for(x=0;8>x;++x)B[Q+32*x-1]=129,oe[xe+32*x-1]=129;for(0<C?D[z-1-32]=B[Q-1-32]=oe[xe-1-32]=129:(a(D,z-32-1,127,21),a(B,Q-32-1,127,9),a(oe,xe-32-1,127,9)),j=0;j<c.za;++j){var ye=u.ya[u.aa+j];if(0<j){for(x=-1;16>x;++x)n(D,z+32*x-4,D,z+32*x+12,4);for(x=-1;8>x;++x)n(B,Q+32*x-4,B,Q+32*x+4,4),n(oe,xe+32*x-4,oe,xe+32*x+4,4)}var me=c.Gd,_e=c.Hd+j,we=ye.ad,le=ye.Hc;if(0<C&&(n(D,z-32,me[_e].y,0,16),n(B,Q-32,me[_e].f,0,8),n(oe,xe-32,me[_e].ea,0,8)),ye.Za){var fe=D,Ne=z-32+16;for(0<C&&(j>=c.za-1?a(fe,Ne,me[_e].y[15],4):n(fe,Ne,me[_e+1].y,0,4)),x=0;4>x;x++)fe[Ne+128+x]=fe[Ne+256+x]=fe[Ne+384+x]=fe[Ne+0+x];for(x=0;16>x;++x,le<<=2)fe=D,Ne=z+Lg[x],un[ye.Ob[x]](fe,Ne),sc(le,we,16*+x,fe,Ne)}else if(fe=Wd(j,C,ye.Ob[0]),za[fe](D,z),le!=0)for(x=0;16>x;++x,le<<=2)sc(le,we,16*+x,D,z+Lg[x]);for(x=ye.Gc,fe=Wd(j,C,ye.Dd),ha[fe](B,Q),ha[fe](oe,xe),le=we,fe=B,Ne=Q,255&(ye=x>>0)&&(170&ye?cc(le,256,fe,Ne):zs(le,256,fe,Ne)),ye=oe,le=xe,255&(x>>=8)&&(170&x?cc(we,320,ye,le):zs(we,320,ye,le)),C<c.Ub-1&&(n(me[_e].y,0,D,z+480,16),n(me[_e].f,0,B,Q+224,8),n(me[_e].ea,0,oe,xe+224,8)),x=8*I*c.B,me=c.sa,_e=c.ta+16*j+16*I*c.R,we=c.qa,ye=c.ra+8*j+x,le=c.Ha,fe=c.Ia+8*j+x,x=0;16>x;++x)n(me,_e+x*c.R,D,z+32*x,16);for(x=0;8>x;++x)n(we,ye+x*c.B,B,Q+32*x,8),n(le,fe+x*c.B,oe,xe+32*x,8)}}function Po(c,u,x,j,C,I,D,z,B){var Q=[0],oe=[0],xe=0,ye=B!=null?B.kd:0,me=B??new Zl;if(c==null||12>x)return 7;me.data=c,me.w=u,me.ha=x,u=[u],x=[x],me.gb=[me.gb];e:{var _e=u,we=x,le=me.gb;if(e(c!=null),e(we!=null),e(le!=null),le[0]=0,12<=we[0]&&!r(c,_e[0],"RIFF")){if(r(c,_e[0]+8,"WEBP")){le=3;break e}var fe=Ie(c,_e[0]+4);if(12>fe||4294967286<fe){le=3;break e}if(ye&&fe>we[0]-8){le=7;break e}le[0]=fe,_e[0]+=12,we[0]-=12}le=0}if(le!=0)return le;for(fe=0<me.gb[0],x=x[0];;){e:{var Ne=c;we=u,le=x;var Ae=Q,Se=oe,qe=_e=[0];if((Oe=xe=[xe])[0]=0,8>le[0])le=7;else{if(!r(Ne,we[0],"VP8X")){if(Ie(Ne,we[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Fe=Ie(Ne,we[0]+8),Ye=1+ve(Ne,we[0]+12);if(2147483648<=Ye*(Ne=1+ve(Ne,we[0]+15))){le=3;break e}qe!=null&&(qe[0]=Fe),Ae!=null&&(Ae[0]=Ye),Se!=null&&(Se[0]=Ne),we[0]+=18,le[0]-=18,Oe[0]=1}le=0}}if(xe=xe[0],_e=_e[0],le!=0)return le;if(we=!!(2&_e),!fe&&xe)return 3;if(I!=null&&(I[0]=!!(16&_e)),D!=null&&(D[0]=we),z!=null&&(z[0]=0),D=Q[0],_e=oe[0],xe&&we&&B==null){le=0;break}if(4>x){le=7;break}if(fe&&xe||!fe&&!xe&&!r(c,u[0],"ALPH")){x=[x],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Fe=c,le=u,fe=x;var Oe=me.gb;Ae=me.na,Se=me.P,qe=me.Sa,Ye=22,e(Fe!=null),e(fe!=null),Ne=le[0];var wt=fe[0];for(e(Ae!=null),e(qe!=null),Ae[0]=null,Se[0]=null,qe[0]=0;;){if(le[0]=Ne,fe[0]=wt,8>wt){le=7;break e}var kt=Ie(Fe,Ne+4);if(4294967286<kt){le=3;break e}var yt=8+kt+1&-2;if(Ye+=yt,0<Oe&&Ye>Oe){le=3;break e}if(!r(Fe,Ne,"VP8 ")||!r(Fe,Ne,"VP8L")){le=0;break e}if(wt[0]<yt){le=7;break e}r(Fe,Ne,"ALPH")||(Ae[0]=Fe,Se[0]=Ne+8,qe[0]=kt),Ne+=yt,wt-=yt}}if(x=x[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],le!=0)break}x=[x],me.Ja=[me.Ja],me.xa=[me.xa];e:if(Oe=c,le=u,fe=x,Ae=me.gb[0],Se=me.Ja,qe=me.xa,Fe=le[0],Ne=!r(Oe,Fe,"VP8 "),Ye=!r(Oe,Fe,"VP8L"),e(Oe!=null),e(fe!=null),e(Se!=null),e(qe!=null),8>fe[0])le=7;else{if(Ne||Ye){if(Oe=Ie(Oe,Fe+4),12<=Ae&&Oe>Ae-12){le=3;break e}if(ye&&Oe>fe[0]-8){le=7;break e}Se[0]=Oe,le[0]+=8,fe[0]-=8,qe[0]=Ye}else qe[0]=5<=fe[0]&&Oe[Fe+0]==47&&!(Oe[Fe+4]>>5),Se[0]=fe[0];le=0}if(x=x[0],me.Ja=me.Ja[0],me.xa=me.xa[0],u=u[0],le!=0)break;if(4294967286<me.Ja)return 3;if(z==null||we||(z[0]=me.xa?2:1),D=[D],_e=[_e],me.xa){if(5>x){le=7;break}z=D,ye=_e,we=I,c==null||5>x?c=0:5<=x&&c[u+0]==47&&!(c[u+4]>>5)?(fe=[0],Oe=[0],Ae=[0],R(Se=new b,c,u,x),Ke(Se,fe,Oe,Ae)?(z!=null&&(z[0]=fe[0]),ye!=null&&(ye[0]=Oe[0]),we!=null&&(we[0]=Ae[0]),c=1):c=0):c=0}else{if(10>x){le=7;break}z=_e,c==null||10>x||!Ld(c,u+3,x-3)?c=0:(ye=c[u+0]|c[u+1]<<8|c[u+2]<<16,we=16383&(c[u+7]<<8|c[u+6]),c=16383&(c[u+9]<<8|c[u+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=me.Ja||!we||!c?c=0:(D&&(D[0]=we),z&&(z[0]=c),c=1))}if(!c||(D=D[0],_e=_e[0],xe&&(Q[0]!=D||oe[0]!=_e)))return 3;B!=null&&(B[0]=me,B.offset=u-B.w,e(4294967286>u-B.w),e(B.offset==B.ha-x));break}return le==0||le==7&&xe&&B==null?(I!=null&&(I[0]|=me.na!=null&&0<me.na.length),j!=null&&(j[0]=D),C!=null&&(C[0]=_e),0):le}function ac(c,u,x){var j=u.width,C=u.height,I=0,D=0,z=j,B=C;if(u.Da=c!=null&&0<c.Da,u.Da&&(z=c.cd,B=c.bd,I=c.v,D=c.j,11>x||(I&=-2,D&=-2),0>I||0>D||0>=z||0>=B||I+z>j||D+B>C))return 0;if(u.v=I,u.j=D,u.va=I+z,u.o=D+B,u.U=z,u.T=B,u.da=c!=null&&0<c.da,u.da){if(!Ce(z,B,x=[c.ib],I=[c.hb]))return 0;u.ib=x[0],u.hb=I[0]}return u.ob=c!=null&&c.ob,u.Kb=c==null||!c.Sd,u.da&&(u.ob=u.ib<3*j/4&&u.hb<3*C/4,u.Kb=0),1}function ic(c){if(c==null)return 2;if(11>c.S){var u=c.f.RGBA;u.fb+=(c.height-1)*u.A,u.A=-u.A}else u=c.f.kb,c=c.height,u.O+=(c-1)*u.fa,u.fa=-u.fa,u.N+=(c-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(c-1>>1)*u.Db,u.Db=-u.Db,u.F!=null&&(u.J+=(c-1)*u.lb,u.lb=-u.lb);return 0}function Lo(c,u,x,j){if(j==null||0>=c||0>=u)return 2;if(x!=null){if(x.Da){var C=x.cd,I=x.bd,D=-2&x.v,z=-2&x.j;if(0>D||0>z||0>=C||0>=I||D+C>c||z+I>u)return 2;c=C,u=I}if(x.da){if(!Ce(c,u,C=[x.ib],I=[x.hb]))return 2;c=C[0],u=I[0]}}j.width=c,j.height=u;e:{var B=j.width,Q=j.height;if(c=j.S,0>=B||0>=Q||!(c>=Zd&&13>c))c=2;else{if(0>=j.Rd&&j.sd==null){D=I=C=u=0;var oe=(z=B*Eg[c])*Q;if(11>c||(I=(Q+1)/2*(u=(B+1)/2),c==12&&(D=(C=B)*Q)),(Q=i(oe+2*I+D))==null){c=1;break e}j.sd=Q,11>c?((B=j.f.RGBA).eb=Q,B.fb=0,B.A=z,B.size=oe):((B=j.f.kb).y=Q,B.O=0,B.fa=z,B.Fd=oe,B.f=Q,B.N=0+oe,B.Ab=u,B.Cd=I,B.ea=Q,B.W=0+oe+I,B.Db=u,B.Ed=I,c==12&&(B.F=Q,B.J=0+oe+2*I),B.Tc=D,B.lb=C)}if(u=1,C=j.S,I=j.width,D=j.height,C>=Zd&&13>C)if(11>C)c=j.f.RGBA,u&=(z=Math.abs(c.A))*(D-1)+I<=c.size,u&=z>=I*Eg[C],u&=c.eb!=null;else{c=j.f.kb,z=(I+1)/2,oe=(D+1)/2,B=Math.abs(c.fa),Q=Math.abs(c.Ab);var xe=Math.abs(c.Db),ye=Math.abs(c.lb),me=ye*(D-1)+I;u&=B*(D-1)+I<=c.Fd,u&=Q*(oe-1)+z<=c.Cd,u=(u&=xe*(oe-1)+z<=c.Ed)&B>=I&Q>=z&xe>=z,u&=c.y!=null,u&=c.f!=null,u&=c.ea!=null,C==12&&(u&=ye>=I,u&=me<=c.Tc,u&=c.F!=null)}else u=0;c=u?0:2}}return c!=0||x!=null&&x.fd&&(c=ic(j)),c}var Fr=64,Eo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Io=24,Fo=32,oc=8,cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(c){return c},E.Predictor2=function(c,u,x){return u[x+0]},E.Predictor3=function(c,u,x){return u[x+1]},E.Predictor4=function(c,u,x){return u[x-1]},E.Predictor5=function(c,u,x){return Me(Me(c,u[x+1]),u[x+0])},E.Predictor6=function(c,u,x){return Me(c,u[x-1])},E.Predictor7=function(c,u,x){return Me(c,u[x+0])},E.Predictor8=function(c,u,x){return Me(u[x-1],u[x+0])},E.Predictor9=function(c,u,x){return Me(u[x+0],u[x+1])},E.Predictor10=function(c,u,x){return Me(Me(c,u[x-1]),Me(u[x+0],u[x+1]))},E.Predictor11=function(c,u,x){var j=u[x+0];return 0>=ct(j>>24&255,c>>24&255,(u=u[x-1])>>24&255)+ct(j>>16&255,c>>16&255,u>>16&255)+ct(j>>8&255,c>>8&255,u>>8&255)+ct(255&j,255&c,255&u)?j:c},E.Predictor12=function(c,u,x){var j=u[x+0];return(Ge((c>>24&255)+(j>>24&255)-((u=u[x-1])>>24&255))<<24|Ge((c>>16&255)+(j>>16&255)-(u>>16&255))<<16|Ge((c>>8&255)+(j>>8&255)-(u>>8&255))<<8|Ge((255&c)+(255&j)-(255&u)))>>>0},E.Predictor13=function(c,u,x){var j=u[x-1];return(rt((c=Me(c,u[x+0]))>>24&255,j>>24&255)<<24|rt(c>>16&255,j>>16&255)<<16|rt(c>>8&255,j>>8&255)<<8|rt(c>>0&255,j>>0&255))>>>0};var Bf=E.PredictorAdd0;E.PredictorAdd1=ut,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var lc=E.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Gd,Ms=E.ColorIndexInverseTransform,To=E.MapARGB,Jd=E.VP8LColorIndexInverseTransformAlpha,Yd=E.MapAlpha,Ta=E.VP8LPredictorsAdd=[];Ta.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Fi,ds,Qr,Da,la,ca,Do,da,or,cc,Zr,zs,Oo,Kd,dc,Ti,Di,Oa,Oi,Mo,Mi,Ma,uc,$s,Rs,Dt,Ot,lr,wr=i(511),ua=i(2041),hc=i(225),zo=i(767),Xd=0,Uf=ua,Qd=hc,Ss=zo,qs=wr,Zd=0,eu=1,vg=2,tu=3,ru=4,Vf=5,bg=6,Hf=7,Wf=8,su=9,Gf=10,xb=[2,3,7],yb=[3,3,11],wg=[280,256,256,256,40],vb=[0,1,1,1,0],bb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nb=8,Jf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fc=null,kb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_b=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ab=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],za=[],un=[],ha=[],Lb=1,Ng=2,$a=[],Bs=[];je("UpsampleRgbLinePair",gt,3),je("UpsampleBgrLinePair",Jt,3),je("UpsampleRgbaLinePair",dn,4),je("UpsampleBgraLinePair",Sr,4),je("UpsampleArgbLinePair",Rr,4),je("UpsampleRgba4444LinePair",gr,2),je("UpsampleRgb565LinePair",tr,2);var Eb=E.UpsampleRgbLinePair,Ib=E.UpsampleBgrLinePair,kg=E.UpsampleRgbaLinePair,Sg=E.UpsampleBgraLinePair,_g=E.UpsampleArgbLinePair,Cg=E.UpsampleRgba4444LinePair,Fb=E.UpsampleRgb565LinePair,nu=16,au=1<<nu-1,mc=-227,Kf=482,Ag=6,Tb=(256<<Ag)-1,Pg=0,Db=i(256),Ob=i(256),Mb=i(256),zb=i(256),$b=i(Kf-mc),Rb=i(Kf-mc);qn("YuvToRgbRow",gt,3),qn("YuvToBgrRow",Jt,3),qn("YuvToRgbaRow",dn,4),qn("YuvToBgraRow",Sr,4),qn("YuvToArgbRow",Rr,4),qn("YuvToRgba4444Row",gr,2),qn("YuvToRgb565Row",tr,2);var Lg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],iu=[0,2,8],qb=[8,7,6,4,4,2,2,2,1,1,1,1],Bb=1;this.WebPDecodeRGBA=function(c,u,x,j,C){var I=eu,D=new Co,z=new rn;D.ba=z,z.S=I,z.width=[z.width],z.height=[z.height];var B=z.width,Q=z.height,oe=new na;if(oe==null||c==null)var xe=2;else e(oe!=null),xe=Po(c,u,x,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(xe!=0?B=0:(B!=null&&(B[0]=oe.width[0]),Q!=null&&(Q[0]=oe.height[0]),B=1),B){z.width=z.width[0],z.height=z.height[0],j!=null&&(j[0]=z.width),C!=null&&(C[0]=z.height);e:{if(j=new bo,(C=new Zl).data=c,C.w=u,C.ha=x,C.kd=1,u=[0],e(C!=null),((c=Po(C.data,C.w,C.ha,null,null,null,u,null,C))==0||c==7)&&u[0]&&(c=4),(u=c)==0){if(e(D!=null),j.data=C.data,j.w=C.w+C.offset,j.ha=C.ha-C.offset,j.put=Tn,j.ac=Ir,j.bc=Dn,j.ma=D,C.xa){if((c=Os())==null){D=1;break e}if(function(ye,me){var _e=[0],we=[0],le=[0];t:for(;;){if(ye==null)return 0;if(me==null)return ye.a=2,0;if(ye.l=me,ye.a=0,R(ye.m,me.data,me.w,me.ha),!Ke(ye.m,_e,we,le)){ye.a=3;break t}if(ye.xb=Ng,me.width=_e[0],me.height=we[0],!zn(_e[0],we[0],1,ye,null))break t;return 1}return e(ye.a!=0),0}(c,j)){if(j=(u=Lo(j.width,j.height,D.Oa,D.ba))==0){t:{j=c;r:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((x=j.l)!=null),e((C=x.ma)!=null),j.xb!=0){if(j.ca=C.ba,j.tb=C.tb,e(j.ca!=null),!ac(C.Oa,x,tu)){j.a=2;break r}if(!Ai(j,x.width)||x.da)break r;if((x.da||jt(j.ca.S))&&ge(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ge()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Ve(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!on(j,j.V,j.Ba,j.c,j.i,x.o,mo))break r;C.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(u=c.a)}else u=c.a}else{if((c=new Nf)==null){D=1;break e}if(c.Fa=C.na,c.P=C.P,c.qc=C.Sa,Ed(c,j)){if((u=Lo(j.width,j.height,D.Oa,D.ba))==0){if(c.Aa=0,x=D.Oa,e((C=c)!=null),x!=null){if(0<(B=0>(B=x.Md)?0:100<B?255:255*B/100)){for(Q=oe=0;4>Q;++Q)12>(xe=C.pb[Q]).lc&&(xe.ia=B*qb[0>xe.lc?0:xe.lc]>>3),oe|=xe.ia;oe&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=x.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}kf(c,j)||(u=c.a)}}else u=c.a}u==0&&D.Oa!=null&&D.Oa.fd&&(u=ic(D.ba))}D=u}I=D!=0?null:11>I?z.f.RGBA.eb:z.f.kb.y}else I=null;return I};var Eg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(E,H){for(var se="",T=0;T<4;T++)se+=String.fromCharCode(E[H++]);return se}function f(E,H){return(E[H+0]<<0|E[H+1]<<8|E[H+2]<<16)>>>0}function g(E,H){return(E[H+0]<<0|E[H+1]<<8|E[H+2]<<16|E[H+3]<<24)>>>0}new d;var y=[0],p=[0],S=[],_=new d,O=t,w=function(E,H){var se={},T=0,L=!1,$=0,V=0;if(se.frames=[],!function(q,F,te,Z){for(var pe=0;pe<Z;pe++)if(q[F+pe]!=te.charCodeAt(pe))return!0;return!1}(E,H,"RIFF",4)){var Y,re;for(g(E,H+=4),H+=8;H<E.length;){var ne=h(E,H),R=g(E,H+=4);H+=4;var W=R+(1&R);switch(ne){case"VP8 ":case"VP8L":se.frames[T]===void 0&&(se.frames[T]={}),(b=se.frames[T]).src_off=L?V:H-8,b.src_size=$+R+8,T++,L&&(L=!1,$=0,V=0);break;case"VP8X":(b=se.header={}).feature_flags=E[H];var G=H+4;b.canvas_width=1+f(E,G),G+=3,b.canvas_height=1+f(E,G),G+=3;break;case"ALPH":L=!0,$=W+8,V=H-8;break;case"ANIM":(b=se.header).bgcolor=g(E,H),G=H+4,b.loop_count=(Y=E)[(re=G)+0]<<0|Y[re+1]<<8,G+=2;break;case"ANMF":var ue,b;(b=se.frames[T]={}).offset_x=2*f(E,H),H+=3,b.offset_y=2*f(E,H),H+=3,b.width=1+f(E,H),H+=3,b.height=1+f(E,H),H+=3,b.duration=f(E,H),H+=3,ue=E[H++],b.dispose=1&ue,b.blend=ue>>1&1}ne!="ANMF"&&(H+=W)}return se}}(O,0);w.response=O,w.rgbaoutput=!0,w.dataurl=!1;var v=w.header?w.header:null,N=w.frames?w.frames:null;if(v){v.loop_counter=v.loop_count,y=[v.canvas_height],p=[v.canvas_width];for(var A=0;A<N.length&&N[A].blend!=0;A++);}var k=N[0],U=_.WebPDecodeRGBA(O,k.src_off,k.src_size,p,y);k.rgba=U,k.imgwidth=p[0],k.imgheight=y[0];for(var M=0;M<p[0]*y[0]*4;M++)S[M]=U[M];return this.width=p,this.height=y,this.data=S,this}(function(t){var e=function(){return typeof ip=="function"},r=function(y,p,S,_){var O=4,w=o;switch(_){case t.image_compression.FAST:O=1,w=i;break;case t.image_compression.MEDIUM:O=6,w=l;break;case t.image_compression.SLOW:O=9,w=d}y=n(y,p,S,w);var v=ip(y,{level:O});return t.__addimage__.arrayBufferToBinaryString(v)},n=function(y,p,S,_){for(var O,w,v,N=y.length/p,A=new Uint8Array(y.length+N),k=f(),U=0;U<N;U+=1){if(v=U*p,O=y.subarray(v,v+p),_)A.set(_(O,S,w),v+U);else{for(var M,E=k.length,H=[];M<E;M+=1)H[M]=k[M](O,S,w);var se=g(H.concat());A.set(H[se],v+U)}w=O}return A},a=function(y){var p=Array.apply([],y);return p.unshift(0),p},i=function(y,p){var S,_=[],O=y.length;_[0]=1;for(var w=0;w<O;w+=1)S=y[w-p]||0,_[w+1]=y[w]-S+256&255;return _},o=function(y,p,S){var _,O=[],w=y.length;O[0]=2;for(var v=0;v<w;v+=1)_=S&&S[v]||0,O[v+1]=y[v]-_+256&255;return O},l=function(y,p,S){var _,O,w=[],v=y.length;w[0]=3;for(var N=0;N<v;N+=1)_=y[N-p]||0,O=S&&S[N]||0,w[N+1]=y[N]+256-(_+O>>>1)&255;return w},d=function(y,p,S){var _,O,w,v,N=[],A=y.length;N[0]=4;for(var k=0;k<A;k+=1)_=y[k-p]||0,O=S&&S[k]||0,w=S&&S[k-p]||0,v=h(_,O,w),N[k+1]=y[k]-v+256&255;return N},h=function(y,p,S){if(y===p&&p===S)return y;var _=Math.abs(p-S),O=Math.abs(y-S),w=Math.abs(y+p-S-S);return _<=O&&_<=w?y:O<=w?p:S},f=function(){return[a,i,o,l,d]},g=function(y){var p=y.map(function(S){return S.reduce(function(_,O){return _+Math.abs(O)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(y,p,S,_){var O,w,v,N,A,k,U,M,E,H,se,T,L,$,V,Y=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(v=new lS(y)).imgData,w=v.bits,O=v.colorSpace,A=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){E=(M=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,se=new Uint8Array(E*v.colors),H=new Uint8Array(E);var ne,R=v.pixelBitlength-v.bits;for($=0,V=0;$<E;$++){for(L=M[$],ne=0;ne<R;)se[V++]=L>>>ne&255,ne+=v.bits;H[$]=L>>>ne&255}}if(v.bits===16){E=(M=new Uint32Array(v.decodePixels().buffer)).length,se=new Uint8Array(E*(32/v.pixelBitlength)*v.colors),H=new Uint8Array(E*(32/v.pixelBitlength)),T=v.colors>1,$=0,V=0;for(var W=0;$<E;)L=M[$++],se[V++]=L>>>0&255,T&&(se[V++]=L>>>16&255,L=M[$++],se[V++]=L>>>0&255),H[W++]=L>>>16&255;w=8}_!==t.image_compression.NONE&&e()?(y=r(se,v.width*v.colors,v.colors,_),U=r(H,v.width,1,_)):(y=se,U=H,Y=void 0)}if(v.colorType===3&&(O=this.color_spaces.INDEXED,k=v.palette,v.transparency.indexed)){var G=v.transparency.indexed,ue=0;for($=0,E=G.length;$<E;++$)ue+=G[$];if((ue/=255)===E-1&&G.indexOf(0)!==-1)N=[G.indexOf(0)];else if(ue!==E){for(M=v.decodePixels(),H=new Uint8Array(M.length),$=0,E=M.length;$<E;$++)H[$]=G[M[$]];U=r(H,v.width,1)}}var b=function(q){var F;switch(q){case t.image_compression.FAST:F=11;break;case t.image_compression.MEDIUM:F=13;break;case t.image_compression.SLOW:F=14;break;default:F=12}return F}(_);return Y===this.decode.FLATE_DECODE&&(re="/Predictor "+b+" "),re+="/Colors "+A+" /BitsPerComponent "+w+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:S,data:y,index:p,filter:Y,decodeParameters:re,transparency:N,palette:k,sMask:U,predictor:b,width:v.width,height:v.height,bitsPerComponent:w,colorSpace:O}}}})(We.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new cS(e),o=i.width,l=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:o,height:l},f=new K0(100).encode(h,100);return t.processJPEG.call(this,f,r,n,a)},t.processGIF87A=t.processGIF89A}(We.API),pn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Tt.log("bit decode error:"+r)}},pn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var d=this.palette[i>>7-l&1];this.data[o+4*l]=d.blue,this.data[o+4*l+1]=d.green,this.data[o+4*l+2]=d.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},pn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,d=15&i,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*a+1>=this.width)break;h=this.palette[d],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},pn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},pn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,d=(i>>10&e)/e*255|0,h=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=d,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=h}this.pos+=t}},pn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,d=(o>>5&r)/r*255|0,h=(o>>11)/e*255|0,f=a*this.width*4+4*i;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},pn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},pn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},pn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new pn(e,!1),o=i.width,l=i.height,d={data:i.getData(),width:o,height:l},h=new K0(100).encode(d,100);return t.processJPEG.call(this,h,r,n,a)}}(We.API),W1.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new W1(e),o=i.width,l=i.height,d={data:i.getData(),width:o,height:l},h=new K0(100).encode(d,100);return t.processJPEG.call(this,h,r,n,a)}}(We.API),We.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,d=0,h=0;h<a;h+=4){var f=n[h],g=n[h+1],y=n[h+2],p=n[h+3];i[l++]=f,i[l++]=g,i[l++]=y,o[d++]=p}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},We.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xo=We.API,Uu=Xo.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,d=l.fof?l.fof:1,h=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=h.fof?h.fof:1,g=e.doKerning!==!1,y=0,p=t.length,S=0,_=l[0]||d,O=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?O.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(y=g&&Ct(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/f:0,O.push((l[n]||_)/d+y)),S=n;return O},B1=Xo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Xo.processArabic&&(t=Xo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Uu.apply(this,arguments).reduce(function(i,o){return i+o},0)},U1=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var d=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(d,i)),l=0,d=i),l+=e[i],i++;return d!==i&&a.push(t.slice(d,i)),a},V1=function(t,e,r){r||(r={});var n,a,i,o,l,d,h,f=[],g=[f],y=r.textIndent||0,p=0,S=0,_=t.split(" "),O=Uu.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var w=Array(d).join(" "),v=[];_.map(function(A){(A=A.split(/\s*\n/)).length>1?v=v.concat(A.map(function(k,U){return(U&&k.length?`
`:"")+k})):v.push(A[0])}),_=v,d=B1.apply(this,[w,r])}for(i=0,o=_.length;i<o;i++){var N=0;if(n=_[i],d&&n[0]==`
`&&(n=n.substr(1),N=1),y+p+(S=(a=Uu.apply(this,[n,r])).reduce(function(A,k){return A+k},0))>e||N){if(S>e){for(l=U1.apply(this,[n,a,e-(y+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)g.push([l.shift()]);S=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(A,k){return A+k},0)}else f=[n];g.push(f),y=S+d,p=O}else f.push(n),y+=p+S,p=O}return h=d?function(A,k){return(k?w:"")+A.join(" ")}:function(A){return A.join(" ")},g.map(h)},Xo.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,d,h=[];for(l=0,d=n.length;l<d;l++)h=h.concat(V1.apply(this,[n[l],o,i]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var y,p,S,_,O=["{"];for(var w in g){if(y=g[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=i(w).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof y=="number")y<0?(S=i(y).slice(3),_="-"):(S=i(y).slice(2),_=""),S=_+S.slice(0,-1)+n[S.slice(-1)];else{if(Ct(y)!=="object")throw new Error("Don't know what to do with value type "+Ct(y)+".");S=o(y)}O.push(p+S)}return O.push("}"),O.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,S,_,O={},w=1,v=O,N=[],A="",k="",U=g.length-1,M=1;M<U;M+=1)(_=g[M])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(_):_=="{"?(N.push([v,S]),v={},S=void 0):_=="}"?((p=N.pop())[0][p[1]]=v,S=void 0,v=p[0]):_=="-"?w=-1:S===void 0?r.hasOwnProperty(_)?(A+=r[_],S=parseInt(A,16)*w,w=1,A=""):A+=_:r.hasOwnProperty(_)?(k+=r[_],v[S]=parseInt(k,16)*w,w=1,S=void 0,k=""):k+=_;return O},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var y=g.font,p=f.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var S=h.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])}(We.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Xc(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(We),function(t){function e(){return(Xe.canvg?Promise.resolve(Xe.canvg):yi(()=>import("./index.es-H8Stwlsn.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}We.API.addSvgAsImage=function(r,n,a,i,o,l,d,h){if(isNaN(n)||isNaN(a))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=o;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(S){return S.fromString(g,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(y)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,a,i,o,d,h)})}}(),We.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},We.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),d=[],h=0,f=0,g=0;function y(S,_){var O,w=!1;for(O=0;O<S.length;O+=1)S[O]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(g=0;g<p;g+=1)r[l[g]].value=r[l[g]].defaultValue,r[l[g]].explicitSet=!1}if(Ct(t)==="object"){for(a in t)if(i=t[a],y(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&y(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")d.push(String(i[h]-1));else if(i[h].length>1){for(f=0;f<i[h].length;f+=1)typeof i[h][f]!="number"&&(n=!1);n===!0&&d.push([i[h][0]-1,i[h][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,_=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?_.push("/"+S+" /"+r[S].value):_.push("/"+S+" "+r[S].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+o.length+l.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(We.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,d=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],g=0,y=i.length;g<y;++g){if(l=o.metadata.characterToGlyph(i.charCodeAt(g)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(g),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},n=function(i){var o,l,d,h,f,g,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,y=(l=Object.keys(i).sort(function(p,S){return p-S})).length;g<y;g++)o=l[g],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(h=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+h+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,d=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",S=0;S<y.length;S++)p+=String.fromCharCode(y[S]);var _=h();f({data:p,addLength1:!0,objectId:_}),d("endobj");var O=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:O}),d("endobj");var w=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+tl(l.fontName)),d("/FontFile2 "+_+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var v=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+tl(l.fontName)),d("/FontDescriptor "+w+" 0 R"),d("/W "+t.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+O+" 0 R"),d("/BaseFont /"+tl(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+v+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,d=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,y="",p=0;p<g.length;p++)y+=String.fromCharCode(g[p]);var S=h();f({data:y,addLength1:!0,objectId:S}),d("endobj");var _=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var O=h();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+tl(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=h();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+tl(l.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",d=i.x,h=i.y,f=i.options||{},g=i.mutex||{},y=g.pdfEscape,p=g.activeFontKey,S=g.fonts,_=p,O="",w=0,v="",N=S[_].encoding;if(S[_].encoding!=="Identity-H")return{text:l,x:d,y:h,options:f,mutex:g};for(v=l,_=p,Array.isArray(l)&&(v=l[0]),w=0;w<v.length;w+=1)S[_].metadata.hasOwnProperty("cmap")&&(o=S[_].metadata.cmap.unicode.codeMap[v[w].charCodeAt(0)]),o||v[w].charCodeAt(0)<256&&S[_].metadata.hasOwnProperty("Unicode")?O+=v[w]:O+="";var A="";return parseInt(_.slice(1))<14||N==="WinAnsiEncoding"?A=y(O,_).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(A=r(O,S[_])),g.isHex=!0,{text:A,x:d,y:h,options:f,mutex:g}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],d={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([a(Object.assign({},d,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(a(Object.assign({},d,{text:o[h]})).text);i.text=l}else i.text=a(Object.assign({},d,{text:o})).text}])}(We),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(We.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,d,h,f,g=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,N=0;this.__bidiEngine__={};var A=function(T){var L=T.charCodeAt(),$=L>>8,V=_[$];return V!==void 0?g[256*V+(255&L)]:$===252||$===253?"AL":w.test($)?"L":$===8?"R":"N"},k=function(T){for(var L,$=0;$<T.length;$++){if((L=A(T.charAt($)))==="L")return!1;if(L==="R")return!0}return!1},U=function(T,L,$,V){var Y,re,ne,R,W=L[V];switch(W){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(W="AN");break;case"AL":v=!0,W="R";break;case"WS":W="N";break;case"CS":V<1||V+1>=L.length||(Y=$[V-1])!=="EN"&&Y!=="AN"||(re=L[V+1])!=="EN"&&re!=="AN"?W="N":v&&(re="AN"),W=re===Y?re:"N";break;case"ES":W=(Y=V>0?$[V-1]:"B")==="EN"&&V+1<L.length&&L[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&$[V-1]==="EN"){W="EN";break}if(v){W="N";break}for(ne=V+1,R=L.length;ne<R&&L[ne]==="ET";)ne++;W=ne<R&&L[ne]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(R=L.length,ne=V+1;ne<R&&L[ne]==="NSM";)ne++;if(ne<R){var G=T[V],ue=G>=1425&&G<=2303||G===64286;if(Y=L[ne],ue&&(Y==="R"||Y==="AL")){W="R";break}}}W=V<1||(Y=L[V-1])==="B"?"N":$[V-1];break;case"B":v=!1,a=!0,W=N;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":W="N"}return W},M=function(T,L,$){var V=T.split("");return $&&E(V,$,{hiLevel:N}),V.reverse(),L&&L.reverse(),V.join("")},E=function(T,L,$){var V,Y,re,ne,R,W=-1,G=T.length,ue=0,b=[],q=N?p:y,F=[];for(v=!1,a=!1,i=!1,Y=0;Y<G;Y++)F[Y]=A(T[Y]);for(re=0;re<G;re++){if(R=ue,b[re]=U(T,F,b,re),V=240&(ue=q[R][S[b[re]]]),ue&=15,L[re]=ne=q[ue][5],V>0)if(V===16){for(Y=W;Y<re;Y++)L[Y]=1;W=-1}else W=-1;if(q[ue][6])W===-1&&(W=re);else if(W>-1){for(Y=W;Y<re;Y++)L[Y]=ne;W=-1}F[re]==="B"&&(L[re]=0),$.hiLevel|=ne}i&&function(te,Z,pe){for(var K=0;K<pe;K++)if(te[K]==="S"){Z[K]=N;for(var ce=K-1;ce>=0&&te[ce]==="WS";ce--)Z[ce]=N}}(F,L,G)},H=function(T,L,$,V,Y){if(!(Y.hiLevel<T)){if(T===1&&N===1&&!a)return L.reverse(),void($&&$.reverse());for(var re,ne,R,W,G=L.length,ue=0;ue<G;){if(V[ue]>=T){for(R=ue+1;R<G&&V[R]>=T;)R++;for(W=ue,ne=R-1;W<ne;W++,ne--)re=L[W],L[W]=L[ne],L[ne]=re,$&&(re=$[W],$[W]=$[ne],$[ne]=re);ue=R}ue++}}},se=function(T,L,$){var V=T.split(""),Y={hiLevel:N};return $||($=[]),E(V,$,Y),function(re,ne,R){if(R.hiLevel!==0&&f)for(var W,G=0;G<re.length;G++)ne[G]===1&&(W=O.indexOf(re[G]))>=0&&(re[G]=O[W+1])}(V,$,Y),H(2,V,L,$,Y),H(1,V,L,$,Y),V.join("")};return this.__bidiEngine__.doBidiReorder=function(T,L,$){if(function(Y,re){if(re)for(var ne=0;ne<Y.length;ne++)re[ne]=ne;l===void 0&&(l=k(Y)),h===void 0&&(h=k(Y))}(T,L),o||!d||h)if(o&&d&&l^h)N=l?1:0,T=M(T,L,$);else if(!o&&d&&h)N=l?1:0,T=se(T,L,$),T=M(T,L);else if(!o||l||d||h){if(o&&!d&&l^h)T=M(T,L),l?(N=0,T=se(T,L,$)):(N=1,T=se(T,L,$),T=M(T,L));else if(o&&l&&!d&&h)N=1,T=se(T,L,$),T=M(T,L);else if(!o&&!d&&l^h){var V=f;l?(N=1,T=se(T,L,$),N=0,f=!1,T=se(T,L,$),f=V):(N=0,T=se(T,L,$),T=M(T,L),N=1,f=!1,T=se(T,L,$),f=V,T=M(T,L))}}else N=0,T=se(T,L,$);else N=l?1:0,T=se(T,L,$);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,d=T.isOutputVisual,l=T.isInputRtl,h=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(We),We.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new wi(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kS(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dS(this.contents),this.head=new hS(this),this.name=new xS(this),this.cmap=new pb(this),this.toUnicode={},this.hhea=new fS(this),this.maxp=new yS(this),this.hmtx=new vS(this),this.post=new pS(this),this.os2=new mS(this),this.loca=new NS(this),this.glyf=new bS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,d,h;for(h=[],o=0,l=(d=this.bbox).length;o<l;o++)e=d[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var In,wi=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,d;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^d)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+d},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),dS=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,d,h,f,g,y,p,S,_;for(_ in p=Object.keys(r).length,d=Math.log(2),g=16*Math.floor(Math.log(p)/d),o=Math.floor(g/d),f=16*p-g,(a=new wi).writeInt(this.scalarType),a.writeShort(p),a.writeShort(g),a.writeShort(o),a.writeShort(f),i=16*p,h=a.pos+i,l=null,S=[],r)for(y=r[_],a.writeString(_),a.writeInt(t(y)),a.writeInt(h),a.writeInt(y.length),S=S.concat(y),_==="head"&&(l=h),h+=y.length;h%4;)S.push(0),h++;return a.write(S),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=gb.call(r);r.length%4;)r.push(0);for(i=new wi(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),uS={}.hasOwnProperty,sa=function(t,e){for(var r in e)uS.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};In=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var hS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new wi).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),G1=function(){function t(e,r){var n,a,i,o,l,d,h,f,g,y,p,S,_,O,w,v,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,i=function(){var A,k;for(k=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)k.push(e.readUInt16());return k}(),e.pos+=2,_=function(){var A,k;for(k=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)k.push(e.readUInt16());return k}(),h=function(){var A,k;for(k=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)k.push(e.readUInt16());return k}(),f=function(){var A,k;for(k=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)k.push(e.readUInt16());return k}(),a=(this.length-e.pos+this.offset)/2,l=function(){var A,k;for(k=[],d=A=0;0<=a?A<a:A>a;d=0<=a?++A:--A)k.push(e.readUInt16());return k}(),d=w=0,N=i.length;w<N;d=++w)for(O=i[d],n=v=S=_[d];S<=O?v<=O:v>=O;n=S<=O?++v:--v)f[d]===0?o=n+h[d]:(o=l[f[d]/2+(n-S)-(y-d)]||0)!==0&&(o+=h[d]),this.codeMap[n]=65535&o}e.pos=g}return t.encode=function(e,r){var n,a,i,o,l,d,h,f,g,y,p,S,_,O,w,v,N,A,k,U,M,E,H,se,T,L,$,V,Y,re,ne,R,W,G,ue,b,q,F,te,Z,pe,K,ce,he,ke,ve;switch(V=new wi,o=Object.keys(e).sort(function(Ie,Ve){return Ie-Ve}),r){case"macroman":for(_=0,O=function(){var Ie=[];for(S=0;S<256;++S)Ie.push(0);return Ie}(),v={0:0},i={},Y=0,W=o.length;Y<W;Y++)v[ce=e[a=o[Y]]]==null&&(v[ce]=++_),i[a]={old:e[a],new:v[e[a]]},O[a]=v[e[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(O),{charMap:i,subtable:V.data,maxGlyphID:_+1};case"unicode":for(L=[],g=[],N=0,v={},n={},w=h=null,re=0,G=o.length;re<G;re++)v[k=e[a=o[re]]]==null&&(v[k]=++N),n[a]={old:k,new:v[k]},l=v[k]-a,w!=null&&l===h||(w&&g.push(w),L.push(a),h=l),w=a;for(w&&g.push(w),g.push(65535),L.push(65535),se=2*(H=L.length),E=2*Math.pow(Math.log(H)/Math.LN2,2),y=Math.log(E/2)/Math.LN2,M=2*H-E,d=[],U=[],p=[],S=ne=0,ue=L.length;ne<ue;S=++ne){if(T=L[S],f=g[S],T===65535){d.push(0),U.push(0);break}if(T-($=n[T].new)>=32768)for(d.push(0),U.push(2*(p.length+H-S)),a=R=T;T<=f?R<=f:R>=f;a=T<=f?++R:--R)p.push(n[a].new);else d.push($-T),U.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*H+2*p.length),V.writeUInt16(0),V.writeUInt16(se),V.writeUInt16(E),V.writeUInt16(y),V.writeUInt16(M),pe=0,b=g.length;pe<b;pe++)a=g[pe],V.writeUInt16(a);for(V.writeUInt16(0),K=0,q=L.length;K<q;K++)a=L[K],V.writeUInt16(a);for(he=0,F=d.length;he<F;he++)l=d[he],V.writeUInt16(l);for(ke=0,te=U.length;ke<te;ke++)A=U[ke],V.writeUInt16(A);for(ve=0,Z=p.length;ve<Z;ve++)_=p[ve],V.writeUInt16(_);return{charMap:n,subtable:V.data,maxGlyphID:N+1}}},t}(),pb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new G1(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=G1.encode(r,n),(i=new wi).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),fS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),mS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),pS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,d,h;for(h=[],o=l=0,d=this.file.maxp.numGlyphs;0<=d?l<d:l>d;o=0<=d?++l:--l)h.push(r.readUInt32());return h}).call(this)}},e}(),gS=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,o,l,d,h,f,g,y,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),d=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+d+r.readShort()});for(h={},o=g=0,y=a.length;g<y;o=++g)i=a[o],r.pos=i.offset,f=r.readString(i.length),l=new gS(f,i),h[p=i.nameID]==null&&(h[p]=[]),h[i.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),yS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),vS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,o,l,d,h;for(r.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,g;for(g=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)g.push(r.readInt16());return g}(),this.widths=(function(){var f,g,y,p;for(p=[],f=0,g=(y=this.metrics).length;f<g;f++)o=y[f],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],h=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)h.push(this.widths.push(a));return h},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),gb=[].slice,bS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,o,l,d,h,f,g,y;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(d=new wi(n.read(i))).readShort(),f=d.readShort(),y=d.readShort(),h=d.readShort(),g=d.readShort(),this.cache[r]=l===-1?new jS(d,f,y,h,g):new wS(d,l,f,y,h,g),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,o,l,d,h;for(l=[],o=[],d=0,h=n.length;d<h;d++)i=r[n[d]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),wS=function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),jS=function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new wi(gb.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),NS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sa(e,In),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var d=this.offsets[l],h=this.offsets[l+1]-d;h>0&&(i+=h)}for(var f=new Array(4*a.length),g=0;g<a.length;++g)f[4*g+3]=255&a[g],f[4*g+2]=(65280&a[g])>>8,f[4*g+1]=(16711680&a[g])>>16,f[4*g]=(4278190080&a[g])>>24;return f},e}(),kS=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,d;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,d,h,f,g,y,p,S,_,O,w;for(a in n=pb.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=n.charMap)p[(d=w[a]).old]=d.new;for(S in y=n.maxGlyphID,o)S in p||(p[S]=y++);return f=function(v){var N,A;for(N in A={},v)A[v[N]]=N;return A}(p),g=Object.keys(f).sort(function(v,N){return v-N}),_=function(){var v,N,A;for(A=[],v=0,N=g.length;v<N;v++)l=g[v],A.push(f[l]);return A}(),i=this.font.glyf.encode(o,_,p),h=this.font.loca.encode(i.offsets,_),O={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},t}();We.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,d,h;for(h=[],l=0,d=r.length;l<d;l++)n=r[l],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();const SS=({sale:t,onClose:e})=>{const{theme:r}=$t(),[n,a]=de.useState(!1),[i,o]=de.useState(!1),l=async()=>{o(!0);try{const f=new We({orientation:"portrait",unit:"mm",format:[80,297]}),g=f.internal.pageSize.width;let y=10;f.setFontSize(10),f.setFont("helvetica","bold"),f.text("CUPOM NÃO FISCAL",g/2,y,{align:"center"}),y+=10,f.setFontSize(8),f.text(`CUPOM: ${t.numero.toString().padStart(6,"0")}`,5,y),y+=4,f.text(`DATA: ${He(new Date(t.dataVenda),"dd/MM/yyyy HH:mm",{locale:Qe})}`,5,y),y+=4,f.text(`VENDEDOR: ${t.vendedor}`,5,y),y+=8,t.itens.forEach((p,S)=>{f.text(`${S+1}. ${p.produto.nome}`,5,y),y+=4,f.text(`${p.quantidade} x ${p.precoUnitario.toFixed(2)} = ${p.total.toFixed(2)}`,10,y),y+=6}),y+=5,f.setFont("helvetica","bold"),f.text(`TOTAL: R$ ${t.total.toFixed(2)}`,5,y),y+=8,t.pagamentos.forEach(p=>{const S={dinheiro:"Dinheiro",cartao_debito:"Cartão Débito",cartao_credito:"Cartão Crédito",pix:"PIX",vale:"Vale"}[p.tipo];f.text(`${S}: R$ ${p.valor.toFixed(2)}`,5,y),y+=4}),t.troco>0&&(f.text(`TROCO: R$ ${t.troco.toFixed(2)}`,5,y),y+=8),f.setFont("helvetica","normal"),f.text("Obrigado pela preferência!",g/2,y,{align:"center"}),y+=4,f.text("Powered by CYBERPIU",g/2,y,{align:"center"}),f.save(`cupom-${t.numero}.pdf`)}catch(f){console.error("Erro ao gerar PDF:",f),alert("Erro ao gerar o PDF. Tente novamente.")}finally{o(!1)}},d=()=>{a(!0),setTimeout(()=>{window.print(),a(!1)},1e3)},h=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:`rounded-xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl ${r==="dark"?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-secondary",children:s.jsx(Dh,{size:24,className:"text-white"})}),"Cupom de Venda"]}),s.jsx("button",{onClick:e,className:`p-2 rounded-xl transition-all hover:scale-110 ${r==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"print:text-black bg-white p-6 rounded-xl border border-gray-200 shadow-lg",id:"receipt",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsx("h3",{className:"text-lg font-bold",children:"CUPOM NÃO FISCAL"})}),s.jsxs("div",{className:"mb-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Cupom:"})," ",t.numero.toString().padStart(6,"0")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data:"})," ",He(new Date(t.dataVenda),"dd/MM/yyyy",{locale:Qe})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Hora:"})," ",He(new Date(t.dataVenda),"HH:mm:ss",{locale:Qe})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Vendedor:"})," ",t.vendedor]})]})]}),s.jsxs("div",{className:"border-t border-b border-gray-300 py-4 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2 pb-2 border-b border-gray-200",children:[s.jsx("span",{className:"w-1/2",children:"DESCRIÇÃO"}),s.jsx("span",{className:"w-1/6 text-center",children:"QTD"}),s.jsx("span",{className:"w-1/6 text-right",children:"VL UN"}),s.jsx("span",{className:"w-1/6 text-right",children:"TOTAL"})]}),t.itens.map((f,g)=>s.jsxs("div",{className:"mb-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"w-1/2 font-medium truncate",children:f.produto.nome}),s.jsx("span",{className:"w-1/6 text-center",children:f.quantidade}),s.jsx("span",{className:"w-1/6 text-right",children:h(f.precoUnitario)}),s.jsx("span",{className:"w-1/6 text-right font-bold",children:h(f.total)})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Cód: ",f.produto.codigo]})]},g))]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold mt-2 pt-2 border-t border-gray-200",children:[s.jsx("span",{children:"TOTAL:"}),s.jsx("span",{children:h(t.total)})]})}),s.jsxs("div",{className:"mb-4 text-sm",children:[s.jsx("p",{className:"font-medium mb-2",children:"Formas de Pagamento:"}),t.pagamentos.map((f,g)=>{const y={dinheiro:"Dinheiro",cartao_debito:"Cartão Débito",cartao_credito:"Cartão Crédito",pix:"PIX",vale:"Vale"}[f.tipo];return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[y,":"]}),s.jsx("span",{children:h(f.valor)})]},g)}),t.troco>0&&s.jsxs("div",{className:"flex justify-between font-medium text-green-600 mt-2 pt-2 border-t border-gray-200",children:[s.jsx("span",{children:"Troco:"}),s.jsx("span",{children:h(t.troco)})]})]}),s.jsxs("div",{className:"text-center text-xs text-gray-500 mt-6",children:[s.jsx("p",{children:"Obrigado pela preferência!"}),s.jsx("p",{className:"mt-4",children:"DOCUMENTO SEM VALOR FISCAL"}),s.jsx("p",{className:"mt-2",children:"Powered by CYBERPIU"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[s.jsx("button",{onClick:d,disabled:n,className:`py-4 px-6 rounded-xl font-bold transition-all hover:scale-105 flex items-center justify-center gap-3 text-white ${n?"bg-gray-400 cursor-not-allowed":"bg-primary"}`,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Enviando para impressora..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dh,{size:20}),"Imprimir Cupom"]})}),s.jsx("button",{onClick:l,disabled:i,className:`py-4 px-6 rounded-xl font-bold transition-all hover:scale-105 flex items-center justify-center gap-3 text-white ${i?"bg-gray-400 cursor-not-allowed":"bg-secondary"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando PDF..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Baixar PDF"]})})]}),s.jsx("button",{onClick:e,className:`w-full py-4 px-6 rounded-xl font-bold transition-all hover:scale-105 ${r==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Fechar"})]})]})]})})},_S=({onBack:t})=>{const{user:e}=Ln(),{theme:r}=$t(),[n,a]=de.useState([]),[i,o]=de.useState(""),[l,d]=de.useState([]),[h,f]=de.useState(!1),[g,y]=de.useState(!1),[p,S]=de.useState(null),[_,O]=de.useState(null),[w,v]=de.useState(1),[N,A]=de.useState(null),[k,U]=de.useState(new Date),M=de.useRef(null);de.useEffect(()=>{E();const Y=setInterval(()=>{U(new Date)},1e3);return()=>clearInterval(Y)},[]);const E=async()=>{try{const Y=await tt.getAllProducts();a(Y.filter(R=>R.ativo));const ne=(await tt.getAllCashSessions()).filter(R=>R.status==="aberto");ne.length>0&&A(ne[0])}catch(Y){console.error("Erro ao carregar dados:",Y)}},H=async Y=>{if(Y.key==="Enter")try{const re=await tt.getProductByCode(i);re&&(O(re),v(1),o(""))}catch(re){console.error("Erro ao buscar produto:",re)}},se=(Y,re=1)=>{if(!N){alert("É necessário abrir um caixa para realizar vendas");return}if(Y.estoque<re){alert("Estoque insuficiente!");return}const ne=l.find(R=>R.produtoId===Y.id);if(ne){const R=ne.quantidade+re;if(Y.estoque<R){alert("Estoque insuficiente!");return}d(l.map(W=>W.produtoId===Y.id?{...W,quantidade:R,total:R*W.precoUnitario}:W))}else{const R={produtoId:Y.id,produto:Y,quantidade:re,precoUnitario:Y.preco,desconto:0,total:re*Y.preco};d([...l,R])}O(null),v(1)},T=Y=>{d(l.filter(re=>re.produtoId!==Y))},L=()=>{d([]),O(null),v(1)},$=()=>l.reduce((Y,re)=>Y+re.total,0),V=async(Y,re)=>{if(!(!e||!N))try{const ne={itens:l,subtotal:$(),desconto:0,total:$(),pagamentos:Y,troco:re,vendedorId:e.id,vendedor:e.nome,dataVenda:new Date().toISOString(),cancelada:!1,caixaId:N.caixaId},R=await tt.createSale(ne);S(R),L(),f(!1),y(!0),E()}catch(ne){console.error("Erro ao finalizar venda:",ne),alert("Erro ao finalizar venda")}};return s.jsxs("div",{className:`h-screen flex flex-col ${r==="dark"?"bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800":"bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100"}`,children:[s.jsx("div",{className:`shadow-xl p-4 border-b-2 ${r==="dark"?"bg-slate-800 border-orange-500":"bg-white border-blue-500"}`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors bg-slate-600 text-white hover:bg-slate-700",children:[s.jsx(s3,{size:20}),"Voltar"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg bg-primary",children:s.jsx(An,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-primary",children:"PDV BANCA"}),s.jsx("p",{className:`text-sm font-medium ${r==="dark"?"text-blue-300":"text-slate-600"}`,children:(N==null?void 0:N.caixa)||"Nenhum caixa selecionado"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`px-3 py-2 rounded-lg flex items-center gap-2 ${N?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${N?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"font-medium text-sm",children:N?"CAIXA ABERTO":"CAIXA FECHADO"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:`text-sm ${r==="dark"?"text-blue-300":"text-slate-600"}`,children:[e==null?void 0:e.nome," • ",He(k,"HH:mm:ss",{locale:Qe})]})})]})]})}),s.jsxs("div",{className:"flex-1 flex p-4 gap-4 overflow-hidden",children:[s.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[s.jsxs("div",{className:`rounded-xl shadow-lg ${r==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-white p-3 rounded-t-xl flex items-center gap-2 bg-primary",children:[s.jsx(ep,{size:20}),s.jsx("h3",{className:"font-bold",children:"BUSCA PRODUTO"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-3 top-3 text-gray-400",size:20}),s.jsx("input",{ref:M,type:"text",placeholder:"Código, nome ou código de barras...",value:i,onChange:Y=>o(Y.target.value),onKeyPress:H,className:`w-full pl-10 pr-4 py-3 text-lg border-2 rounded-lg focus:ring-2 transition-all ${r==="dark"?"bg-slate-700 border-slate-600 text-white focus:border-blue-400":"bg-white border-blue-300 text-gray-800 focus:border-blue-500"}`})]})})]}),_&&s.jsxs("div",{className:`rounded-xl shadow-lg ${r==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-white p-3 rounded-t-xl flex items-center gap-2 bg-primary",children:[s.jsx(mr,{size:20}),s.jsx("h3",{className:"font-bold",children:"PRODUTO SELECIONADO"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:_.nome}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[s.jsxs("div",{children:["Código: ",s.jsx("span",{className:"font-bold",children:_.codigo})]}),s.jsxs("div",{children:["Estoque: ",s.jsx("span",{className:"font-bold",children:_.estoque})]}),s.jsxs("div",{children:["Preço: ",s.jsxs("span",{className:"font-bold",children:["R$ ",_.preco.toFixed(2)]})]}),s.jsxs("div",{children:["Categoria: ",s.jsx("span",{className:"font-bold",children:_.categoria})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"QUANTIDADE"}),s.jsx("input",{type:"number",min:"1",value:w,onChange:Y=>v(parseInt(Y.target.value)||1),className:`w-full px-3 py-2 border rounded-lg text-center font-bold ${r==="dark"?"bg-slate-700 border-slate-600 text-white":"bg-white border-blue-300 text-gray-800"}`})]}),s.jsx("button",{onClick:()=>se(_,w),className:"w-full text-white py-3 px-4 rounded-lg font-bold hover:opacity-90 transition-all bg-secondary",children:"⚡ ADICIONAR"})]})]})]}),s.jsxs("div",{className:`w-1/3 rounded-xl shadow-lg flex flex-col ${r==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-white p-3 rounded-t-xl flex items-center gap-2 bg-primary",children:[s.jsx(An,{size:20}),s.jsx("h3",{className:"font-bold",children:"CARRINHO"}),s.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded-full text-sm font-bold",children:l.length})]}),s.jsx("div",{className:"flex-1 p-3 overflow-y-auto",children:l.length===0?s.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[s.jsx(mr,{size:48,className:"mx-auto mb-3 text-blue-300"}),s.jsx("p",{className:"font-medium",children:"Carrinho vazio"})]}):s.jsx("div",{className:"space-y-2",children:l.map(Y=>s.jsxs("div",{className:`p-3 rounded-lg border-l-4 transition-all hover:shadow-md ${r==="dark"?"bg-slate-700 border-orange-500":"bg-blue-50 border-orange-500"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm",children:Y.produto.nome}),s.jsx("p",{className:"text-xs text-gray-500 font-mono",children:Y.produto.codigo})]}),s.jsx("button",{onClick:()=>T(Y.produtoId),className:"text-red-500 hover:text-red-700",children:s.jsx(en,{size:14})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm",children:[Y.quantidade," × R$ ",Y.precoUnitario.toFixed(2)]}),s.jsxs("span",{className:"font-bold text-secondary",children:["R$ ",Y.total.toFixed(2)]})]})]},Y.produtoId))})})]}),s.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[s.jsxs("div",{className:`rounded-xl shadow-lg ${r==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-white p-3 rounded-t-xl flex items-center gap-2 bg-primary",children:[s.jsx(to,{size:20}),s.jsx("h3",{className:"font-bold",children:"TOTAL"})]}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-4xl font-bold mb-2 text-primary",children:["R$ ",$().toFixed(2)]}),s.jsxs("div",{className:`text-sm ${r==="dark"?"text-blue-300":"text-slate-500"}`,children:[l.length," ",l.length===1?"item":"itens"]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[l.length>0&&s.jsx("button",{onClick:()=>f(!0),className:"w-full text-white py-4 px-4 rounded-xl font-bold text-lg hover:opacity-90 transition-all shadow-lg bg-secondary",children:"💳 FINALIZAR VENDA"}),s.jsx("button",{onClick:L,className:"w-full bg-green-600 text-white py-3 px-4 rounded-xl font-bold hover:bg-green-700 transition-all",children:"🗑️ NOVA VENDA"})]}),s.jsxs("div",{className:`rounded-xl shadow-lg ${r==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-white p-2 rounded-t-xl flex items-center gap-2 bg-primary",children:[s.jsx(uf,{size:16}),s.jsx("h3",{className:"font-bold text-sm",children:"SISTEMA"})]}),s.jsxs("div",{className:"p-3 text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Operador:"}),s.jsx("span",{className:"font-bold",children:e==null?void 0:e.nome})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Caixa:"}),s.jsx("span",{className:"font-bold",children:(N==null?void 0:N.caixa)||"Fechado"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Itens:"}),s.jsx("span",{className:"font-bold",children:l.length})]})]})]})]})]}),s.jsx("div",{className:`p-2 text-center border-t ${r==="dark"?"bg-slate-900 border-slate-700 text-blue-300":"bg-slate-50 border-slate-200 text-slate-600"}`,children:s.jsxs("p",{className:"text-xs",children:["Powered by ",s.jsx("span",{className:"font-bold text-secondary",children:"CYBERPIU"})," • PDV - BANCA v1.0.0"]})}),h&&s.jsx(S3,{total:$(),onClose:()=>f(!1),onPaymentComplete:V}),g&&p&&s.jsx(SS,{sale:p,onClose:()=>y(!1)})]})},CS=({product:t,suppliers:e,onSave:r,onClose:n})=>{const{theme:a}=$t(),[i,o]=de.useState({nome:"",codigo:"",codigoBarras:"",preco:0,categoria:"",estoque:0,estoqueMinimo:10,fornecedorId:"",foto:"",ativo:!0}),[l,d]=de.useState(!1),[h,f]=de.useState(""),[g,y]=de.useState(!1);de.useEffect(()=>{t&&o({nome:t.nome,codigo:t.codigo,codigoBarras:t.codigoBarras||"",preco:t.preco,categoria:t.categoria,estoque:t.estoque,estoqueMinimo:t.estoqueMinimo,fornecedorId:t.fornecedorId||"",foto:t.foto||"",ativo:t.ativo})},[t]);const p=v=>{v.preventDefault();const N={...i,categoria:g?h:i.categoria};r(N)},S=v=>{var A;const N=(A=v.target.files)==null?void 0:A[0];if(N){const k=new FileReader;k.onload=U=>{var E;const M=(E=U.target)==null?void 0:E.result;o(H=>({...H,foto:M}))},k.readAsDataURL(N)}},_=()=>{d(!0),setTimeout(()=>{const v=Date.now().toString().slice(-6),N=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),A=`P${v}${N}`;o(k=>({...k,codigo:A})),d(!1)},500)},O=()=>{const v="789",N=Math.floor(Math.random()*1e9).toString().padStart(9,"0"),A=v+N;let k=0;for(let E=0;E<12;E++)k+=parseInt(A[E])*(E%2===0?1:3);const U=(10-k%10)%10,M=A+U;o(E=>({...E,codigoBarras:M}))},w=["JORNAIS","REVISTAS","BEBIDAS","CIGARROS","TABACARIA","BRINQUEDOS","INFORMÁTICA","PAPELARIA","DOCES","SALGADOS","DIVERSOS"];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl ${a==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(mr,{size:24,className:"text-primary"})}),t?"Editar Produto":"Novo Produto"]}),s.jsx("button",{onClick:n,className:`p-2 rounded-xl transition-all hover:scale-110 ${a==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(d3,{size:16,className:"text-gray-500"}),"Foto do Produto"]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-full aspect-square mb-4 rounded-2xl border-2 border-dashed flex items-center justify-center ${a==="dark"?"border-gray-600 bg-gray-700":"border-gray-300 bg-gray-50"}`,children:i.foto?s.jsx("img",{src:i.foto,alt:"Preview",className:"w-full h-full rounded-2xl object-cover"}):s.jsx(mr,{size:64,className:"text-gray-400"})}),s.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",id:"photo-upload"}),s.jsxs("label",{htmlFor:"photo-upload",className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl cursor-pointer font-medium transition-all hover:scale-105 ${a==="dark"?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(Nn,{size:18}),i.foto?"Alterar Foto":"Escolher Foto"]}),s.jsx("p",{className:`text-xs mt-2 ${a==="dark"?"text-gray-400":"text-gray-500"}`,children:"JPG, PNG até 2MB • Recomendado: 500x500px"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold mb-3",children:"Status do Produto"}),s.jsxs("div",{className:`p-4 rounded-xl ${a==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:i.ativo,onChange:v=>o(N=>({...N,ativo:v.target.checked})),className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"ativo",className:"flex items-center gap-2 text-sm font-medium",children:i.ativo?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:16,className:"text-green-600"}),"Produto ativo"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{size:16,className:"text-red-600"}),"Produto inativo"]})})]}),s.jsx("p",{className:`text-xs mt-3 ${a==="dark"?"text-gray-400":"text-gray-500"}`,children:"Produtos inativos não aparecem no PDV e não podem ser vendidos."})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Tl,{size:16,className:"text-gray-500"}),"Fornecedor"]}),s.jsxs("select",{value:i.fornecedorId,onChange:v=>o(N=>({...N,fornecedorId:v.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,children:[s.jsx("option",{value:"",children:"Selecione um fornecedor..."}),e.filter(v=>v.ativo).map(v=>s.jsx("option",{value:v.id,children:v.nome},v.id))]}),s.jsx("p",{className:`text-xs mt-2 ${a==="dark"?"text-gray-400":"text-gray-500"}`,children:"Associe um fornecedor para facilitar pedidos e reposição."})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Nome do Produto *"]}),s.jsx("input",{type:"text",value:i.nome,onChange:v=>o(N=>({...N,nome:v.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Ex: Jornal O Globo - Edição Diária",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Código do Produto *"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",value:i.codigo,onChange:v=>o(N=>({...N,codigo:v.target.value})),className:`flex-1 px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Ex: P001",required:!0}),s.jsxs("button",{type:"button",onClick:_,disabled:l,className:`px-4 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center gap-2 ${a==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[l?s.jsx(Vt,{size:18,className:"animate-spin"}):s.jsx(Zap,{size:18}),"Gerar"]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ep,{size:16,className:"text-gray-500"}),"Código de Barras"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",value:i.codigoBarras,onChange:v=>o(N=>({...N,codigoBarras:v.target.value})),className:`flex-1 px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Ex: 7891234567890"}),s.jsxs("button",{type:"button",onClick:O,className:`px-4 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center gap-2 ${a==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(ep,{size:18}),"EAN-13"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Preço *"]}),s.jsx("input",{type:"number",step:"0.01",value:i.preco,onChange:v=>o(N=>({...N,preco:parseFloat(v.target.value)||0})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"0,00",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Categoria *"]}),g?s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",value:h,onChange:v=>f(v.target.value.toUpperCase()),className:`flex-1 px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Nova categoria...",required:!0}),s.jsx("button",{type:"button",onClick:()=>{y(!1),o(v=>({...v,categoria:""}))},className:`px-4 py-3 rounded-xl font-medium transition-all hover:scale-105 ${a==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:s.jsx(en,{size:18})})]}):s.jsx("div",{className:"flex gap-3",children:s.jsxs("select",{value:i.categoria,onChange:v=>{v.target.value==="custom"?(y(!0),f("")):o(N=>({...N,categoria:v.target.value}))},className:`flex-1 px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,required:!0,children:[s.jsx("option",{value:"",children:"Selecione..."}),w.map(v=>s.jsx("option",{value:v,children:v},v)),s.jsx("option",{value:"custom",children:"+ Nova Categoria"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(mr,{size:16,className:"text-gray-500"}),"Estoque Atual *"]}),s.jsx("input",{type:"number",value:i.estoque,onChange:v=>o(N=>({...N,estoque:parseInt(v.target.value)||0})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Wt,{size:16,className:"text-gray-500"}),"Estoque Mínimo *"]}),s.jsx("input",{type:"number",value:i.estoqueMinimo,onChange:v=>o(N=>({...N,estoqueMinimo:parseInt(v.target.value)||0})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,required:!0}),s.jsx("p",{className:`text-xs mt-2 ${a==="dark"?"text-gray-400":"text-gray-500"}`,children:"O sistema alertará quando o estoque estiver abaixo deste valor."})]})]}),i.estoque<=i.estoqueMinimo&&s.jsx("div",{className:`p-4 rounded-xl ${i.estoque===0?a==="dark"?"bg-red-900/20 border border-red-800":"bg-red-50 border border-red-200":a==="dark"?"bg-yellow-900/20 border border-yellow-800":"bg-yellow-50 border border-yellow-200"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wt,{size:20,className:i.estoque===0?"text-red-500":"text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-bold ${i.estoque===0?"text-red-600":"text-yellow-600"}`,children:i.estoque===0?"Produto sem estoque!":"Estoque abaixo do mínimo!"}),s.jsx("p",{className:`text-sm ${i.estoque===0?a==="dark"?"text-red-300":"text-red-700":a==="dark"?"text-yellow-300":"text-yellow-700"}`,children:i.estoque===0?"Este produto não poderá ser vendido até que o estoque seja reposto.":`O estoque atual (${i.estoque}) está abaixo do mínimo configurado (${i.estoqueMinimo}).`})]})]})})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:n,className:`flex-1 border-2 py-4 px-6 rounded-2xl font-bold transition-all hover:scale-105 ${a==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-primary text-white py-4 px-6 rounded-2xl font-bold hover:opacity-90 transition-all hover:scale-105 flex items-center justify-center gap-3",children:[s.jsx(Sd,{size:20}),t?"Atualizar":"Criar"," Produto"]})]})]})]})})},AS=()=>{const{theme:t}=$t();Rl();const{user:e,checkPermission:r}=Ln(),[n,a]=de.useState([]),[i,o]=de.useState([]),[l,d]=de.useState(""),[h,f]=de.useState(!1),[g,y]=de.useState(null),[p,S]=de.useState("grid"),[_,O]=de.useState("all"),[w,v]=de.useState("all"),[N,A]=de.useState("all"),[k,U]=de.useState("name"),[M,E]=de.useState(!1),[H,se]=de.useState(!1),[T,L]=de.useState([]);de.useEffect(()=>{$()},[]);const $=async()=>{E(!0);try{const K=tt.getAllProducts();a(K);const ce=tt.getAllSuppliers();o(ce);const he=Array.from(new Set(K.map(ke=>ke.categoria)));L(he)}catch(K){console.error("Erro ao carregar dados:",K)}finally{E(!1)}},V=K=>{if(g)tt.updateProduct(g.id,K),a(n.map(ce=>ce.id===g.id?{...ce,...K}:ce));else{const ce=tt.createProduct(K);a([...n,ce]),T.includes(K.categoria)||L([...T,K.categoria])}f(!1),y(null)},Y=K=>{y(K),f(!0)},re=K=>{confirm(`Deseja excluir o produto "${K.nome}"?`)&&(tt.updateProduct(K.id,{ativo:!1}),a(n.map(ce=>ce.id===K.id?{...ce,ativo:!1}:ce)))},ne=K=>{tt.updateProduct(K.id,{ativo:!K.ativo}),a(n.map(ce=>ce.id===K.id?{...ce,ativo:!ce.ativo}:ce))},W=n.filter(K=>{const ce=K.nome.toLowerCase().includes(l.toLowerCase())||K.codigo.toLowerCase().includes(l.toLowerCase())||K.codigoBarras&&K.codigoBarras.includes(l),he=_==="all"||_==="active"&&K.ativo||_==="inactive"&&!K.ativo,ke=w==="all"||K.categoria===w,ve=N==="all"||N==="low"&&K.estoque<=K.estoqueMinimo&&K.estoque>0||N==="out"&&K.estoque===0;return ce&&he&&ke&&ve}).sort((K,ce)=>k==="name"?K.nome.localeCompare(ce.nome):k==="price"?ce.preco-K.preco:K.estoque-ce.estoque),G=n.filter(K=>K.ativo),ue=n.filter(K=>!K.ativo),b=n.filter(K=>K.estoque<=K.estoqueMinimo&&K.estoque>0),q=n.filter(K=>K.estoque===0),F=async()=>{se(!0);try{const K=localStorage.getItem("company_data"),ce=K?JSON.parse(K):null,he=new We,ke=he.internal.pageSize.width;let ve=20;ce&&(ce.nomeFantasia||ce.razaoSocial)&&(he.setFontSize(14),he.text(ce.nomeFantasia||ce.razaoSocial,ke/2,ve,{align:"center"}),ve+=8,ce.cnpj&&(he.setFontSize(10),he.text(`CNPJ: ${ce.cnpj}`,ke/2,ve,{align:"center"}),ve+=6),ve+=5),he.setFontSize(16),he.text("RELATÓRIO DE PRODUTOS",ke/2,ve,{align:"center"}),ve+=10,he.setFontSize(10),he.text(`Data de geração: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}`,ke/2,ve,{align:"center"}),ve+=15,he.setFontSize(12),he.text("RESUMO",20,ve),ve+=8,he.setFontSize(10),he.text(`Total de Produtos: ${n.length}`,20,ve),ve+=6,he.text(`Produtos Ativos: ${G.length}`,20,ve),ve+=6,he.text(`Produtos Inativos: ${ue.length}`,20,ve),ve+=6,he.text(`Estoque Baixo: ${b.length}`,20,ve),ve+=6,he.text(`Sem Estoque: ${q.length}`,20,ve),ve+=15,he.setFontSize(12),he.text("PRODUTOS",20,ve),ve+=10,he.setFontSize(9),he.setFont("helvetica","bold"),he.text("Código",20,ve),he.text("Nome",45,ve),he.text("Categoria",110,ve),he.text("Preço",150,ve),he.text("Estoque",170,ve),he.text("Status",190,ve),ve+=6,he.setDrawColor(200,200,200),he.setLineWidth(.1),he.line(20,ve,190,ve),ve+=4,he.setFont("helvetica","normal"),W.forEach(Ve=>{ve>270&&(he.addPage(),ve=20,he.setFont("helvetica","bold"),he.text("Código",20,ve),he.text("Nome",45,ve),he.text("Categoria",110,ve),he.text("Preço",150,ve),he.text("Estoque",170,ve),he.text("Status",190,ve),ve+=6,he.setDrawColor(200,200,200),he.setLineWidth(.1),he.line(20,ve,190,ve),ve+=4,he.setFont("helvetica","normal")),he.text(Ve.codigo,20,ve);const ie=he.splitTextToSize(Ve.nome,60);ie.forEach((Ce,ze)=>{he.text(Ce,45,ve+ze*4)});const J=ie.length*4;he.text(Ve.categoria,110,ve),he.text(`R$ ${Ve.preco.toFixed(2)}`,150,ve),Ve.estoque===0?he.setTextColor(255,0,0):Ve.estoque<=Ve.estoqueMinimo&&he.setTextColor(255,165,0),he.text(Ve.estoque.toString(),170,ve),he.setTextColor(0,0,0),Ve.ativo?(he.setTextColor(0,128,0),he.text("ATIVO",190,ve)):(he.setTextColor(128,128,128),he.text("INATIVO",190,ve)),he.setTextColor(0,0,0),ve+=Math.max(J,6)+2});const Ie=he.internal.pageSize.height-10;he.setFontSize(8),he.text("Powered by CYBERPIU",ke/2,Ie,{align:"center"}),he.save(`produtos-${He(new Date,"ddMMyyyy-HHmm")}.pdf`)}catch(K){console.error("Erro ao gerar PDF:",K),alert("Erro ao gerar o relatório. Tente novamente.")}finally{se(!1)}},te=r("products_create"),Z=r("products_edit"),pe=r("products_delete");return s.jsxs("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:[s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(mr,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Produtos"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Gerencie seu catálogo de produtos"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:F,disabled:H,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg`,children:H?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Exportar PDF"]})}),te&&s.jsxs("button",{onClick:()=>f(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(Bl,{size:24}),"Novo Produto"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-12",children:[s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total"}),s.jsx("p",{className:"text-4xl font-bold text-primary",children:n.length})]}),s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(mr,{size:32,className:"text-primary"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Ativos"}),s.jsx("p",{className:"text-4xl font-bold text-green-600",children:G.length})]}),s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx(dt,{size:32,className:"text-green-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Inativos"}),s.jsx("p",{className:"text-4xl font-bold text-red-600",children:ue.length})]}),s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center",children:s.jsx(Gs,{size:32,className:"text-red-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Estoque Baixo"}),s.jsx("p",{className:"text-4xl font-bold text-orange-600",children:b.length})]}),s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center",children:s.jsx(Wt,{size:32,className:"text-orange-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Sem Estoque"}),s.jsx("p",{className:"text-4xl font-bold text-red-600",children:q.length})]}),s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center",children:s.jsx(Wt,{size:32,className:"text-red-600"})})]})})]}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-4 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:l,onChange:K=>d(K.target.value),className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:_,onChange:K=>O(K.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"inactive",children:"Inativos"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:w,onChange:K=>v(K.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todas as categorias"}),T.map(K=>s.jsx("option",{value:K,children:K},K))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mr,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:N,onChange:K=>A(K.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos os estoques"}),s.jsx("option",{value:"low",children:"Estoque baixo"}),s.jsx("option",{value:"out",children:"Sem estoque"})]})]}),s.jsxs("div",{className:`flex items-center p-1 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsx("button",{onClick:()=>S("grid"),className:`p-3 rounded-lg transition-all ${p==="grid"?"bg-primary text-white shadow-lg":t==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:s.jsx(hg,{size:20})}),s.jsx("button",{onClick:()=>S("list"),className:`p-3 rounded-lg transition-all ${p==="list"?"bg-primary text-white shadow-lg":t==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:s.jsx(fg,{size:20})})]})]})]})}),p==="grid"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 mb-12",children:W.map(K=>{var ce;return s.jsxs("div",{className:`group p-8 rounded-3xl shadow-xl border-l-4 transition-all duration-300 hover:shadow-2xl hover:scale-105 ${t==="dark"?"bg-gray-800 border-secondary":"bg-white border-secondary"} ${K.ativo?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:K.foto?s.jsx("img",{src:K.foto,alt:K.nome,className:"w-full h-full rounded-xl object-cover"}):s.jsx(mr,{size:32,className:"text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl",children:K.nome}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${K.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.ativo?"Ativo":"Inativo"})]})]}),s.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[Z&&s.jsx("button",{onClick:()=>Y(K),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",title:"Editar",children:s.jsx(Ys,{size:16})}),Z&&s.jsx("button",{onClick:()=>ne(K),className:`p-2 rounded-xl transition-all hover:scale-110 ${K.ativo?"bg-orange-500 text-white hover:bg-orange-600":"bg-green-500 text-white hover:bg-green-600"}`,title:K.ativo?"Desativar":"Ativar",children:K.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})}),pe&&s.jsx("button",{onClick:()=>re(K),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all hover:scale-110",title:"Excluir",children:s.jsx(ws,{size:16})})]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Código:"}),s.jsx("span",{className:"text-sm font-medium",children:K.codigo})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Categoria:"}),s.jsx("span",{className:"text-sm font-medium",children:K.categoria})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Preço:"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:["R$ ",K.preco.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Estoque:"}),s.jsxs("span",{className:`text-sm font-bold ${K.estoque===0?"text-red-600":K.estoque<=K.estoqueMinimo?"text-orange-600":"text-green-600"}`,children:[K.estoque," ",K.estoque<=K.estoqueMinimo&&K.estoque>0&&"⚠️",K.estoque===0&&"❌"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${K.estoque===0?"bg-red-600":K.estoque<=K.estoqueMinimo?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(100,K.estoque/K.estoqueMinimo*100)}%`}})}),s.jsxs("div",{className:"mt-4 text-xs text-center text-gray-500",children:["Mín: ",K.estoqueMinimo," | Fornecedor: ",K.fornecedorId&&((ce=i.find(he=>he.id===K.fornecedorId))==null?void 0:ce.nome)||"N/A"]})]},K.id)})}),p==="list"&&s.jsx("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Produto"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Código"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Categoria"}),s.jsx("th",{className:"px-8 py-6 text-right text-sm font-bold",children:"Preço"}),s.jsx("th",{className:"px-8 py-6 text-center text-sm font-bold",children:"Estoque"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Status"}),s.jsx("th",{className:"px-8 py-6 text-center text-sm font-bold",children:"Ações"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:W.map(K=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[s.jsx("td",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:K.foto?s.jsx("img",{src:K.foto,alt:K.nome,className:"w-full h-full rounded-lg object-cover"}):s.jsx(mr,{size:24,className:"text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg",children:K.nome}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-500"}`,children:K.codigoBarras||"Sem código de barras"})]})]})}),s.jsx("td",{className:"px-8 py-6 text-sm font-mono",children:K.codigo}),s.jsx("td",{className:"px-8 py-6 text-sm",children:K.categoria}),s.jsxs("td",{className:"px-8 py-6 text-right font-bold text-green-600",children:["R$ ",K.preco.toFixed(2)]}),s.jsx("td",{className:"px-8 py-6 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:`font-bold ${K.estoque===0?"text-red-600":K.estoque<=K.estoqueMinimo?"text-orange-600":"text-green-600"}`,children:K.estoque}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Mín: ",K.estoqueMinimo]}),K.estoque===0&&s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full mt-1",children:"Sem estoque"}),K.estoque>0&&K.estoque<=K.estoqueMinimo&&s.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full mt-1",children:"Estoque baixo"})]})}),s.jsx("td",{className:"px-8 py-6",children:s.jsx("span",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium ${K.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.ativo?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:14,className:"mr-1"}),"Ativo"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gs,{size:14,className:"mr-1"}),"Inativo"]})})}),s.jsx("td",{className:"px-8 py-6 text-center",children:s.jsxs("div",{className:"flex justify-center gap-3",children:[Z&&s.jsx("button",{onClick:()=>Y(K),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",title:"Editar",children:s.jsx(Ys,{size:16})}),Z&&s.jsx("button",{onClick:()=>ne(K),className:`p-2 rounded-xl transition-all hover:scale-110 ${K.ativo?"bg-orange-500 text-white hover:bg-orange-600":"bg-green-500 text-white hover:bg-green-600"}`,title:K.ativo?"Desativar":"Ativar",children:K.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})}),pe&&s.jsx("button",{onClick:()=>re(K),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all hover:scale-110",title:"Excluir",children:s.jsx(ws,{size:16})})]})})]},K.id))})]})})}),W.length===0&&s.jsxs("div",{className:`text-center py-20 rounded-3xl ${t==="dark"?"bg-gray-800":"bg-white"} shadow-xl`,children:[s.jsx("div",{className:"text-8xl mb-6",children:"📦"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Nenhum produto encontrado"}),s.jsx("p",{className:`text-lg mb-8 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:l||_!=="all"||w!=="all"||N!=="all"?"Tente ajustar os filtros de busca":"Comece cadastrando seu primeiro produto"}),!l&&_==="all"&&w==="all"&&N==="all"&&te&&s.jsx("button",{onClick:()=>f(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 font-medium text-lg transition-all hover:scale-105",children:"Cadastrar Primeiro Produto"})]}),h&&s.jsx(CS,{product:g,suppliers:i.filter(K=>K.ativo),onSave:V,onClose:()=>{f(!1),y(null)}})]}),s.jsx("footer",{className:`py-8 border-t ${t==="dark"?"border-gray-800 bg-gray-900":"border-gray-200 bg-gray-50"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-8",children:s.jsx("p",{className:`text-center text-sm ${t==="dark"?"text-gray-500":"text-gray-400"}`,children:"Powered by CYBERPIU"})})})]})},PS=({register:t,onSave:e,onClose:r})=>{const{theme:n}=$t(),[a,i]=de.useState({nome:"",descricao:"",ativo:!0});de.useEffect(()=>{t&&i({nome:t.nome,descricao:t.descricao||"",ativo:t.ativo})},[t]);const o=l=>{l.preventDefault(),e(a)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-md shadow-2xl ${n==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(ar,{size:24,className:"text-primary"})}),t?"Editar Caixa":"Novo Caixa"]}),s.jsx("button",{onClick:r,className:`p-2 rounded-xl transition-all hover:scale-110 ${n==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Nome do Caixa *"]}),s.jsx("input",{type:"text",value:a.nome,onChange:l=>i(d=>({...d,nome:l.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Ex: Caixa Principal, Caixa 01...",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Descrição"]}),s.jsx("textarea",{value:a.descricao,onChange:l=>i(d=>({...d,descricao:l.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Descrição opcional do caixa..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:a.ativo,onChange:l=>i(d=>({...d,ativo:l.target.checked})),className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"ativo",className:"flex items-center gap-2 text-sm font-medium",children:a.ativo?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:16,className:"text-green-600"}),"Caixa ativo"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{size:16,className:"text-red-600"}),"Caixa inativo"]})})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:r,className:`flex-1 border-2 py-3 px-6 rounded-xl font-bold transition-all hover:scale-105 ${n==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 px-6 rounded-xl font-bold hover:opacity-90 transition-all hover:scale-105",children:[t?"Atualizar":"Criar"," Caixa"]})]})]})]})})},LS=({cashRegisters:t,session:e,isClosing:r=!1,onSave:n,onClose:a})=>{const{theme:i}=$t(),[o,l]=de.useState({caixaId:"",caixa:"",valorAbertura:0,valorFechamento:0,observacoesAbertura:"",observacoesFechamento:""}),[d,h]=de.useState(new Date);de.useEffect(()=>{e&&l({caixaId:e.caixaId,caixa:e.caixa,valorAbertura:e.valorAbertura,valorFechamento:e.valorFechamento||0,observacoesAbertura:e.observacoesAbertura||"",observacoesFechamento:e.observacoesFechamento||""});const p=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(p)},[e]);const f=p=>{if(p.preventDefault(),r)n({valorFechamento:o.valorFechamento,observacoesFechamento:o.observacoesFechamento});else{const S=t.find(_=>_.id===o.caixaId);n({caixaId:o.caixaId,caixa:(S==null?void 0:S.nome)||"",valorAbertura:o.valorAbertura,observacoesAbertura:o.observacoesAbertura})}},y=r?(()=>{if(!e)return 0;const p=e.valorAbertura+e.totalEntradas-e.totalSaidas;return o.valorFechamento-p})():0;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-md shadow-2xl ${i==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold flex items-center gap-3",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center",children:s.jsx(Ks,{size:24,className:"text-red-600"})}),s.jsx("span",{children:"Fechar Caixa"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx(dt,{size:24,className:"text-green-600"})}),s.jsx("span",{children:"Abrir Caixa"})]})}),s.jsx("button",{onClick:a,className:`p-2 rounded-xl transition-all hover:scale-110 ${i==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Jr,{size:16,className:"text-gray-500"}),"Data"]}),s.jsx("div",{className:`px-4 py-3 border-2 rounded-xl ${i==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-gray-100 border-gray-200 text-gray-800"}`,children:He(d,"dd/MM/yyyy",{locale:Qe})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ea,{size:16,className:"text-gray-500"}),"Hora"]}),s.jsx("div",{className:`px-4 py-3 border-2 rounded-xl ${i==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-gray-100 border-gray-200 text-gray-800"}`,children:He(d,"HH:mm:ss",{locale:Qe})})]})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Selecionar Caixa *"]}),s.jsxs("select",{value:o.caixaId,onChange:p=>{const S=t.find(_=>_.id===p.target.value);l(_=>({..._,caixaId:p.target.value,caixa:(S==null?void 0:S.nome)||""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,required:!0,children:[s.jsx("option",{value:"",children:"Selecione um caixa..."}),t.map(p=>s.jsx("option",{value:p.id,children:p.nome},p.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Valor de Abertura *"]}),s.jsx("input",{type:"number",step:"0.01",value:o.valorAbertura,onChange:p=>l(S=>({...S,valorAbertura:parseFloat(p.target.value)||0})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all text-xl font-bold text-center ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} text-green-600`,placeholder:"0,00",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Valor em dinheiro disponível no caixa para abertura"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Observações de Abertura"]}),s.jsx("textarea",{value:o.observacoesAbertura,onChange:p=>l(S=>({...S,observacoesAbertura:p.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Observações sobre a abertura do caixa..."})]})]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`p-6 rounded-xl mb-6 ${i==="dark"?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"}`,children:[s.jsxs("h3",{className:"font-bold text-blue-600 dark:text-blue-400 mb-4 flex items-center gap-2",children:[s.jsx(ar,{size:18}),"Resumo da Sessão"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Caixa:"}),s.jsx("p",{className:"font-medium",children:e==null?void 0:e.caixa})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Abertura:"}),s.jsx("p",{className:"font-medium",children:e?He(new Date(e.dataAbertura),"dd/MM HH:mm",{locale:Qe}):"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Valor Abertura:"}),s.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",e==null?void 0:e.valorAbertura.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Movimentações:"}),s.jsxs("p",{className:"font-medium",children:[e==null?void 0:e.totalEntradas.toFixed(2)," / ",e==null?void 0:e.totalSaidas.toFixed(2)]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Valor de Fechamento *"]}),s.jsx("input",{type:"number",step:"0.01",value:o.valorFechamento,onChange:p=>l(S=>({...S,valorFechamento:parseFloat(p.target.value)||0})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all text-xl font-bold text-center ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} text-blue-600`,placeholder:"0,00",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Valor em dinheiro contado no fechamento do caixa"})]}),o.valorFechamento>0&&s.jsxs("div",{className:`p-4 rounded-xl ${y===0?"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800":y>0?"bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800":"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800"}`,children:[s.jsx("div",{className:"flex items-center gap-3 mb-2",children:y===0?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:20,className:"text-green-600"}),s.jsx("p",{className:"font-bold text-green-600",children:"Valor Exato"})]}):y>0?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{size:20,className:"text-blue-600"}),s.jsx("p",{className:"font-bold text-blue-600",children:"Sobra de Caixa"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Wt,{size:20,className:"text-red-600"}),s.jsx("p",{className:"font-bold text-red-600",children:"Falta no Caixa"})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:`text-sm ${y===0?"text-green-600":y>0?"text-blue-600":"text-red-600"}`,children:"Diferença:"}),s.jsxs("p",{className:`font-bold ${y===0?"text-green-600":y>0?"text-blue-600":"text-red-600"}`,children:["R$ ",Math.abs(y).toFixed(2)]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Observações de Fechamento"]}),s.jsx("textarea",{value:o.observacoesFechamento,onChange:p=>l(S=>({...S,observacoesFechamento:p.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Observações sobre o fechamento do caixa..."})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:a,className:`flex-1 border-2 py-3 px-6 rounded-xl font-bold transition-all hover:scale-105 ${i==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsx("button",{type:"submit",className:`flex-1 py-3 px-6 rounded-xl text-white font-bold transition-all hover:scale-105 ${r?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:r?"Fechar Caixa":"Abrir Caixa"})]})]})]})})},ES=({type:t,cashRegisters:e,currentCashId:r,onSave:n,onClose:a})=>{const{theme:i}=$t(),[o,l]=de.useState({caixaId:r||"",tipo:t,categoria:t==="entrada"?"receita":"despesa",subcategoria:"",descricao:"",valor:0,formaPagamento:"dinheiro",comprovante:"",observacoes:"",data:new Date().toISOString()});de.useEffect(()=>{const S=setInterval(()=>{l(_=>({..._,data:new Date().toISOString()}))},1e3);return()=>clearInterval(S)},[]),de.useEffect(()=>{l(S=>({...S,tipo:t,categoria:t==="entrada"?"receita":"despesa"}))},[t]),de.useEffect(()=>{r&&l(S=>({...S,caixaId:r}))},[r]);const d=[{value:"receita",label:"Receita",icon:ar},{value:"suprimento",label:"Suprimento",icon:ta},{value:"abertura",label:"Abertura de Caixa",icon:ea}],h=[{value:"despesa",label:"Despesa",icon:pi},{value:"sangria",label:"Sangria",icon:gd},{value:"troco",label:"Troco",icon:ar},{value:"fechamento",label:"Fechamento de Caixa",icon:ea}],f=[{value:"dinheiro",label:"Dinheiro",icon:gd},{value:"cartao_debito",label:"Cartão Débito",icon:rs},{value:"cartao_credito",label:"Cartão Crédito",icon:rs},{value:"pix",label:"PIX",icon:_d},{value:"cheque",label:"Cheque",icon:pg},{value:"transferencia",label:"Transferência",icon:rs}],g=S=>{S.preventDefault(),n(o)},y=S=>{var O;const _=(O=S.target.files)==null?void 0:O[0];if(_){const w=new FileReader;w.onload=v=>{var A;const N=(A=v.target)==null?void 0:A.result;l(k=>({...k,comprovante:N}))},w.readAsDataURL(_)}},p=t==="entrada"?d:h;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl ${i==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold flex items-center gap-3",children:t==="entrada"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx(ta,{size:24,className:"text-green-600"})}),s.jsx("span",{children:"Nova Entrada"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center",children:s.jsx(pi,{size:24,className:"text-red-600"})}),s.jsx("span",{children:"Nova Saída"})]})}),s.jsx("button",{onClick:a,className:`p-2 rounded-xl transition-all hover:scale-110 ${i==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Jr,{size:16,className:"text-gray-500"}),"Data"]}),s.jsx("div",{className:`px-4 py-3 border-2 rounded-xl ${i==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-gray-100 border-gray-200 text-gray-800"}`,children:He(new Date(o.data),"dd/MM/yyyy",{locale:Qe})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ea,{size:16,className:"text-gray-500"}),"Hora"]}),s.jsx("div",{className:`px-4 py-3 border-2 rounded-xl ${i==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-gray-100 border-gray-200 text-gray-800"}`,children:He(new Date(o.data),"HH:mm:ss",{locale:Qe})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Caixa *"]}),s.jsxs("select",{value:o.caixaId,onChange:S=>l(_=>({..._,caixaId:S.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,required:!0,children:[s.jsx("option",{value:"",children:"Selecione um caixa..."}),e.map(S=>s.jsx("option",{value:S.id,children:S.nome},S.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Categoria *"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map(S=>{const _=S.icon;return s.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${o.categoria===S.value?"border-primary bg-primary/10":i==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"categoria",value:S.value,checked:o.categoria===S.value,onChange:O=>l(w=>({...w,categoria:O.target.value})),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${o.categoria===S.value?"bg-primary text-white":i==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(_,{size:16})}),s.jsx("span",{className:"font-medium",children:S.label})]})]},S.value)})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Subcategoria"]}),s.jsx("input",{type:"text",value:o.subcategoria,onChange:S=>l(_=>({..._,subcategoria:S.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Ex: Aluguel, Energia, Vendas..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Descrição *"]}),s.jsx("input",{type:"text",value:o.descricao,onChange:S=>l(_=>({..._,descricao:S.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Descrição da movimentação...",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Valor *"]}),s.jsx("input",{type:"number",step:"0.01",value:o.valor,onChange:S=>l(_=>({..._,valor:parseFloat(S.target.value)||0})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all text-xl font-bold text-center ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${t==="entrada"?"text-green-600":"text-red-600"}`,placeholder:"0,00",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(rs,{size:16,className:"text-gray-500"}),"Forma de Pagamento *"]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(S=>{const _=S.icon;return s.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${o.formaPagamento===S.value?"border-primary bg-primary/10":i==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"formaPagamento",value:S.value,checked:o.formaPagamento===S.value,onChange:O=>l(w=>({...w,formaPagamento:O.target.value})),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${o.formaPagamento===S.value?"bg-primary text-white":i==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(_,{size:16})}),s.jsx("span",{className:"font-medium",children:S.label})]})]},S.value)})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Nn,{size:16,className:"text-gray-500"}),"Comprovante"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:y,className:"hidden",id:"comprovante-upload"}),s.jsxs("label",{htmlFor:"comprovante-upload",className:`flex items-center gap-2 px-4 py-3 rounded-xl cursor-pointer font-medium transition-all hover:scale-105 ${i==="dark"?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(Nn,{size:18}),"Anexar Arquivo"]}),o.comprovante&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(CheckCircle,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Arquivo anexado"})]})]}),s.jsx("p",{className:`text-xs mt-2 ${i==="dark"?"text-gray-400":"text-gray-500"}`,children:"Formatos aceitos: JPG, PNG, PDF até 5MB"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(p3,{size:16,className:"text-gray-500"}),"Observações"]}),s.jsx("textarea",{value:o.observacoes,onChange:S=>l(_=>({..._,observacoes:S.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${i==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Observações adicionais..."})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:a,className:`flex-1 border-2 py-3 px-6 rounded-xl font-bold transition-all hover:scale-105 ${i==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{type:"submit",className:`flex-1 py-3 px-6 rounded-xl text-white font-bold transition-all hover:scale-105 ${t==="entrada"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:["Registrar ",t==="entrada"?"Entrada":"Saída"]})]})]})]})})},IS=({cashRegisters:t,cashSessions:e,cashMovements:r,onClose:n})=>{const{theme:a}=$t(),[i,o]=de.useState("daily"),[l,d]=de.useState(new Date().toISOString().split("T")[0]),[h,f]=de.useState(new Date().toISOString().slice(0,7)),[g,y]=de.useState(zh(new Date,7).toISOString().split("T")[0]),[p,S]=de.useState(new Date().toISOString().split("T")[0]),[_,O]=de.useState(""),[w,v]=de.useState(!1),N=()=>{let Y,re;i==="daily"?(Y=vi(new Date(l)),re=Mh(new Date(l))):i==="monthly"?(Y=T3(new Date(h)),re=F3(new Date(h))):(Y=vi(new Date(g)),re=Mh(new Date(p)));const ne=r.filter(W=>{const G=new Date(W.data),ue=C1(G,{start:Y,end:re}),b=_===""||W.caixaId===_;return ue&&b}),R=e.filter(W=>{const G=new Date(W.dataAbertura),ue=C1(G,{start:Y,end:re}),b=_===""||W.caixaId===_;return ue&&b});return{filteredMovements:ne,filteredSessions:R,startDateObj:Y,endDateObj:re}},A=(Y,re=!0)=>{const ne=cr(Y);return Wn(ne)?re?`Hoje, ${He(ne,"HH:mm",{locale:Qe})}`:"Hoje":mf(ne)?re?`Ontem, ${He(ne,"HH:mm",{locale:Qe})}`:"Ontem":re?He(ne,"dd/MM/yyyy HH:mm",{locale:Qe}):He(ne,"dd/MM/yyyy",{locale:Qe})},k=Y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y),U=async()=>{var Y;v(!0);try{const{filteredMovements:re,filteredSessions:ne,startDateObj:R,endDateObj:W}=N(),G=localStorage.getItem("company_data"),ue=G?JSON.parse(G):null,b=new We,q=b.internal.pageSize.width;let F=20;ue&&(ue.nomeFantasia||ue.razaoSocial)&&(b.setFontSize(14),b.text(ue.nomeFantasia||ue.razaoSocial,q/2,F,{align:"center"}),F+=8,ue.cnpj&&(b.setFontSize(10),b.text(`CNPJ: ${ue.cnpj}`,q/2,F,{align:"center"}),F+=6),F+=5),b.setFontSize(16),b.text("RELATÓRIO DE MOVIMENTAÇÃO DE CAIXA",q/2,F,{align:"center"}),F+=10,b.setFontSize(12);const te=i==="daily"?`Período: ${He(R,"dd/MM/yyyy",{locale:Qe})}`:i==="monthly"?`Período: ${He(R,"MMMM/yyyy",{locale:Qe})}`:`Período: ${He(R,"dd/MM/yyyy",{locale:Qe})} a ${He(W,"dd/MM/yyyy",{locale:Qe})}`;if(b.text(te,q/2,F,{align:"center"}),F+=5,_){const he=((Y=t.find(ke=>ke.id===_))==null?void 0:Y.nome)||"N/A";b.text(`Caixa: ${he}`,q/2,F,{align:"center"}),F+=5}b.text(`Gerado em: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}`,q/2,F,{align:"center"}),F+=15;const Z=re.filter(he=>he.tipo==="entrada").reduce((he,ke)=>he+ke.valor,0),pe=re.filter(he=>he.tipo==="saida").reduce((he,ke)=>he+ke.valor,0),K=Z-pe;b.setFontSize(14),b.text("RESUMO FINANCEIRO",20,F),F+=10,b.setFontSize(10),b.text(`Total de Entradas: R$ ${Z.toFixed(2)}`,20,F),F+=5,b.text(`Total de Saídas: R$ ${pe.toFixed(2)}`,20,F),F+=5,b.text(`Saldo Líquido: R$ ${K.toFixed(2)}`,20,F),F+=15,ne.length>0&&(b.setFontSize(14),b.text("SESSÕES DE CAIXA",20,F),F+=10,b.setFontSize(8),ne.forEach(he=>{F>250&&(b.addPage(),F=20),b.text(`${he.caixa} - ${he.usuario}`,20,F),b.text(`Abertura: ${He(new Date(he.dataAbertura),"dd/MM HH:mm",{locale:Qe})}`,20,F+4),he.dataFechamento&&b.text(`Fechamento: ${He(new Date(he.dataFechamento),"dd/MM HH:mm",{locale:Qe})}`,20,F+8),b.text(`Vl. Abertura: R$ ${he.valorAbertura.toFixed(2)}`,120,F),he.valorFechamento&&b.text(`Vl. Fechamento: R$ ${he.valorFechamento.toFixed(2)}`,120,F+4),b.text(`Status: ${he.status}`,120,F+8),F+=15})),re.length>0&&(F+=10,b.setFontSize(14),b.text("MOVIMENTAÇÕES DETALHADAS",20,F),F+=10,b.setFontSize(8),re.forEach(he=>{var ve;F>250&&(b.addPage(),F=20);const ke=((ve=t.find(Ie=>Ie.id===he.caixaId))==null?void 0:ve.nome)||"N/A";b.text(`${He(new Date(he.data),"dd/MM HH:mm",{locale:Qe})}`,20,F),b.text(`${ke}`,50,F),b.text(`${he.categoria}`,80,F),b.text(`${he.descricao}`,110,F),b.text(`${he.tipo==="entrada"?"+":"-"}R$ ${he.valor.toFixed(2)}`,160,F),F+=5}));const ce=b.internal.pageSize.height-10;b.setFontSize(8),b.text("Powered by CYBERPIU",q/2,ce,{align:"center"}),b.save(`relatorio-caixa-${He(new Date,"ddMMyyyy-HHmm")}.pdf`)}catch(re){console.error("Erro ao gerar PDF:",re),alert("Erro ao gerar o relatório. Tente novamente.")}finally{v(!1)}},{filteredMovements:M}=N(),E=M.filter(Y=>Y.tipo==="entrada").reduce((Y,re)=>Y+re.valor,0),H=M.filter(Y=>Y.tipo==="saida").reduce((Y,re)=>Y+re.valor,0),se=E-H,T=()=>{const Y={};return M.forEach(re=>{Y[re.categoria]||(Y[re.categoria]={entrada:0,saida:0}),re.tipo==="entrada"?Y[re.categoria].entrada+=re.valor:Y[re.categoria].saida+=re.valor}),Object.entries(Y).map(([re,ne])=>({name:re,entrada:ne.entrada,saida:ne.saida,saldo:ne.entrada-ne.saida})).sort((re,ne)=>ne.saldo-re.saldo)},L=()=>{const Y={};return M.forEach(re=>{Y[re.formaPagamento]||(Y[re.formaPagamento]=0),Y[re.formaPagamento]+=re.valor}),Object.entries(Y).map(([re,ne])=>({method:re,value:ne,percentage:ne/(E+H)*100})).sort((re,ne)=>ne.value-re.value)},$=T(),V=L();return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-5xl max-h-[90vh] overflow-y-auto shadow-2xl ${a==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(Xt,{size:24,className:"text-primary"})}),"Relatórios de Caixa"]}),s.jsx("button",{onClick:n,className:`p-2 rounded-xl transition-all hover:scale-110 ${a==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Tipo de Relatório"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:`flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all ${i==="daily"?"border-primary bg-primary/10":a==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"reportType",value:"daily",checked:i==="daily",onChange:()=>o("daily"),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i==="daily"?"bg-primary text-white":a==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(Jr,{size:16})}),s.jsx("span",{className:"font-medium",children:"Diário"})]})]}),s.jsxs("label",{className:`flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all ${i==="monthly"?"border-primary bg-primary/10":a==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"reportType",value:"monthly",checked:i==="monthly",onChange:()=>o("monthly"),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i==="monthly"?"bg-primary text-white":a==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(Jr,{size:16})}),s.jsx("span",{className:"font-medium",children:"Mensal"})]})]}),s.jsxs("label",{className:`flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all ${i==="custom"?"border-primary bg-primary/10":a==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"reportType",value:"custom",checked:i==="custom",onChange:()=>o("custom"),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i==="custom"?"bg-primary text-white":a==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(Jr,{size:16})}),s.jsx("span",{className:"font-medium",children:"Personalizado"})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Jr,{size:16,className:"text-gray-500"}),i==="daily"?"Data":i==="monthly"?"Mês/Ano":"Período"]}),i==="daily"&&s.jsx("input",{type:"date",value:l,onChange:Y=>d(Y.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`}),i==="monthly"&&s.jsx("input",{type:"month",value:h,onChange:Y=>f(Y.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`}),i==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Data Inicial"}),s.jsx("input",{type:"date",value:g,onChange:Y=>y(Y.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Data Final"}),s.jsx("input",{type:"date",value:p,onChange:Y=>S(Y.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(DollarSign,{size:16,className:"text-gray-500"}),"Caixa"]}),s.jsxs("select",{value:_,onChange:Y=>O(Y.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,children:[s.jsx("option",{value:"",children:"Todos os caixas"}),t.map(Y=>s.jsx("option",{value:Y.id,children:Y.nome},Y.id))]})]}),s.jsx("button",{onClick:U,disabled:w,className:"w-full bg-primary text-white py-3 px-4 rounded-xl hover:opacity-90 flex items-center justify-center gap-2 font-medium transition-all hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:w?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Gerar PDF"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:`p-6 rounded-xl ${a==="dark"?"bg-green-900/20":"bg-green-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${a==="dark"?"text-green-400":"text-green-600"}`,children:"Total de Entradas"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:k(E)})]}),s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-green-100",children:s.jsx(ta,{className:"text-green-600",size:24})})]})}),s.jsx("div",{className:`p-6 rounded-xl ${a==="dark"?"bg-red-900/20":"bg-red-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${a==="dark"?"text-red-400":"text-red-600"}`,children:"Total de Saídas"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:k(H)})]}),s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100",children:s.jsx(pi,{className:"text-red-600",size:24})})]})}),s.jsx("div",{className:`p-6 rounded-xl ${se>=0?a==="dark"?"bg-blue-900/20":"bg-blue-50":a==="dark"?"bg-orange-900/20":"bg-orange-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${se>=0?a==="dark"?"text-blue-400":"text-blue-600":a==="dark"?"text-orange-400":"text-orange-600"}`,children:"Saldo Líquido"}),s.jsx("p",{className:`text-2xl font-bold ${se>=0?"text-blue-600":"text-orange-600"}`,children:k(se)})]}),s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${se>=0?"bg-blue-100":"bg-orange-100"}`,children:s.jsx(Jr,{className:se>=0?"text-blue-600":"text-orange-600",size:24})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:`p-6 rounded-xl ${a==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(Th,{size:20,className:"text-primary"}),"Movimentações por Categoria"]})}),$.length>0?s.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2",children:$.map((Y,re)=>s.jsxs("div",{className:`p-4 rounded-lg ${a==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium capitalize",children:Y.name}),s.jsx("span",{className:`font-bold ${Y.saldo>=0?"text-green-600":"text-red-600"}`,children:k(Y.saldo)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Entradas:"}),s.jsx("span",{className:"text-green-600",children:k(Y.entrada)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Saídas:"}),s.jsx("span",{className:"text-red-600",children:k(Y.saida)})]})]})]},Y.name))}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Nenhum dado disponível para o período selecionado"})})]}),s.jsxs("div",{className:`p-6 rounded-xl ${a==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(v3,{size:20,className:"text-primary"}),"Formas de Pagamento"]})}),V.length>0?s.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-2",children:V.map((Y,re)=>{const ne={dinheiro:"Dinheiro",cartao_debito:"Cartão Débito",cartao_credito:"Cartão Crédito",pix:"PIX",cheque:"Cheque",transferencia:"Transferência"}[Y.method]||Y.method;return s.jsxs("div",{className:`p-4 rounded-lg ${a==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:ne}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"font-bold",children:k(Y.value)}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",Y.percentage.toFixed(1),"%)"]})]})]}),s.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full bg-primary",style:{width:`${Y.percentage}%`}})})]},Y.method)})}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Nenhum dado disponível para o período selecionado"})})]})]}),s.jsxs("div",{className:`rounded-xl overflow-hidden ${a==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(Xt,{size:20,className:"text-primary"}),"Movimentações do Período"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>{window.print()},className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 flex items-center gap-1 text-sm font-medium",children:[s.jsx(Dh,{size:16}),"Imprimir"]}),s.jsx("button",{onClick:U,disabled:w,className:"bg-primary text-white px-4 py-2 rounded-xl hover:opacity-90 flex items-center gap-1 text-sm font-medium disabled:opacity-50",children:w?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:16,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:16}),"PDF"]})})]})]})}),s.jsx("div",{className:"overflow-x-auto max-h-96",children:M.length>0?s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${a==="dark"?"bg-gray-800":"bg-gray-100"} sticky top-0`,children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Data/Hora"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Caixa"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Tipo"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Categoria"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Descrição"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-bold",children:"Valor"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold",children:"Usuário"})]})}),s.jsx("tbody",{className:`divide-y ${a==="dark"?"divide-gray-700":"divide-gray-200"}`,children:M.map(Y=>{var re;return s.jsxs("tr",{className:`hover:${a==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:A(Y.data)}),s.jsx("td",{className:"px-4 py-3 text-sm",children:((re=t.find(ne=>ne.id===Y.caixaId))==null?void 0:re.nome)||"N/A"}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Y.tipo==="entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[Y.tipo==="entrada"?s.jsx(ta,{size:12,className:"mr-1"}):s.jsx(pi,{size:12,className:"mr-1"}),Y.tipo==="entrada"?"Entrada":"Saída"]})}),s.jsx("td",{className:"px-4 py-3 text-sm capitalize",children:Y.categoria}),s.jsx("td",{className:"px-4 py-3 text-sm",children:Y.descricao}),s.jsxs("td",{className:`px-4 py-3 text-sm font-medium text-right ${Y.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:[Y.tipo==="entrada"?"+":"-",k(Y.valor)]}),s.jsx("td",{className:"px-4 py-3 text-sm",children:Y.usuario})]},Y.id)})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma movimentação encontrada no período selecionado"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tente selecionar outro período ou caixa"})]})})]})]})})},FS=()=>{const{theme:t}=$t();Rl();const{user:e}=Ln(),[r,n]=de.useState([]),[a,i]=de.useState([]),[o,l]=de.useState([]),[d,h]=de.useState(null),[f,g]=de.useState(!1),[y,p]=de.useState(!1),[S,_]=de.useState(!1),[O,w]=de.useState(!1),[v,N]=de.useState(!1),[A,k]=de.useState(null),[U,M]=de.useState("entrada"),[E,H]=de.useState(!1),[se,T]=de.useState(""),[L,$]=de.useState("today"),[V,Y]=de.useState("all"),[re,ne]=de.useState(!1),[R,W]=de.useState(!1);de.useEffect(()=>{G()},[]);const G=async()=>{g(!0);try{const ie=tt.getAllCashRegisters(),J=tt.getAllCashSessions(),Ce=tt.getAllCashMovements();n(ie),i(J),l(Ce);const ze=J.find(be=>be.usuarioId===(e==null?void 0:e.id)&&be.status==="aberto");h(ze||null)}catch(ie){console.error("Erro ao carregar dados:",ie)}finally{g(!1)}},ue=ie=>{const J=tt.createCashRegister(ie);n([...r,J]),p(!1)},b=ie=>{A&&(tt.updateCashRegister(A.id,ie),n(r.map(J=>J.id===A.id?{...J,...ie}:J)),p(!1),k(null))},q=ie=>{if(!e)return;const J=tt.openCashSession({...ie,usuarioId:e.id,usuario:e.nome});i([...a,J]),h(J),_(!1),G()},F=ie=>{d&&(tt.closeCashSession(d.id,ie.valorFechamento,ie.observacoesFechamento),h(null),_(!1),H(!1),G())},te=ie=>{if(!e)return;const J=tt.createCashMovement({...ie,usuarioId:e.id,usuario:e.nome,sessaoId:d==null?void 0:d.id});l([...o,J]),w(!1),G()},Z=ie=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ie),pe=ie=>{const J=cr(ie);return Wn(J)?`Hoje, ${He(J,"HH:mm",{locale:Qe})}`:mf(J)?`Ontem, ${He(J,"HH:mm",{locale:Qe})}`:He(J,"dd/MM/yyyy HH:mm",{locale:Qe})},ce=(()=>{let ie=o;if(L!=="all"){const J=new Date;let Ce;switch(L){case"today":Ce=vi(J),ie=ie.filter(be=>{const Ee=cr(be.data);return Ee>=Ce&&Ee<=Mh(J)});break;case"yesterday":const ze=zh(J,1);Ce=vi(ze),ie=ie.filter(be=>{const Ee=cr(be.data);return Ee>=Ce&&Ee<=Mh(ze)});break;case"week":Ce=zh(J,7),ie=ie.filter(be=>cr(be.data)>=Ce);break}}return V!=="all"&&(ie=ie.filter(J=>J.tipo===V)),se&&(ie=ie.filter(J=>J.descricao.toLowerCase().includes(se.toLowerCase())||J.categoria.toLowerCase().includes(se.toLowerCase())||J.usuario.toLowerCase().includes(se.toLowerCase()))),ie.sort((J,Ce)=>new Date(Ce.data).getTime()-new Date(J.data).getTime())})(),he=ce.filter(ie=>ie.tipo==="entrada").reduce((ie,J)=>ie+J.valor,0),ke=ce.filter(ie=>ie.tipo==="saida").reduce((ie,J)=>ie+J.valor,0),ve=he-ke,Ie=()=>{W(!0);const ie=`
      <html>
        <head>
          <title>Relatório de Movimentações - ${He(new Date,"dd/MM/yyyy")}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .summary { margin-bottom: 30px; }
            .summary-item { display: inline-block; margin: 0 20px; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
            .entrada { color: #10b981; }
            .saida { color: #ef4444; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Relatório de Movimentações de Caixa</h1>
            <p>Data: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}</p>
            <p>Usuário: ${e==null?void 0:e.nome}</p>
          </div>
          
          <div class="summary">
            <h3>Resumo Financeiro</h3>
            <div class="summary-item">
              <strong>Total de Entradas:</strong> ${Z(he)}
            </div>
            <div class="summary-item">
              <strong>Total de Saídas:</strong> ${Z(ke)}
            </div>
            <div class="summary-item">
              <strong>Saldo Líquido:</strong> ${Z(ve)}
            </div>
          </div>
          
          <table>
            <thead>
              <tr>
                <th>Data/Hora</th>
                <th>Tipo</th>
                <th>Categoria</th>
                <th>Descrição</th>
                <th>Valor</th>
                <th>Usuário</th>
              </tr>
            </thead>
            <tbody>
              ${ce.map(Ce=>`
                <tr>
                  <td>${pe(Ce.data)}</td>
                  <td class="${Ce.tipo}">${Ce.tipo==="entrada"?"Entrada":"Saída"}</td>
                  <td>${Ce.categoria}</td>
                  <td>${Ce.descricao}</td>
                  <td class="${Ce.tipo}">${Z(Ce.valor)}</td>
                  <td>${Ce.usuario}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
          
          <div style="margin-top: 30px; text-align: center; font-size: 12px;">
            <p>Powered by CYBERPIU</p>
          </div>
        </body>
      </html>
    `,J=window.open("","_blank");J&&(J.document.write(ie),J.document.close(),J.print(),J.close()),W(!1)},Ve=async()=>{ne(!0);try{const ie=localStorage.getItem("company_data"),J=ie?JSON.parse(ie):null,Ce=new We,ze=Ce.internal.pageSize.width;let be=20;J&&(J.nomeFantasia||J.razaoSocial)&&(Ce.setFontSize(14),Ce.text(J.nomeFantasia||J.razaoSocial,ze/2,be,{align:"center"}),be+=8,J.cnpj&&(Ce.setFontSize(10),Ce.text(`CNPJ: ${J.cnpj}`,ze/2,be,{align:"center"}),be+=6),be+=5),Ce.setFontSize(16),Ce.text("RELATÓRIO DE MOVIMENTAÇÕES DE CAIXA",ze/2,be,{align:"center"}),be+=10,Ce.setFontSize(10),Ce.text(`Data de geração: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}`,ze/2,be,{align:"center"}),Ce.text(`Usuário: ${e==null?void 0:e.nome}`,ze/2,be+5,{align:"center"}),be+=20,Ce.setFontSize(12),Ce.text("RESUMO FINANCEIRO",20,be),be+=8,Ce.setFontSize(10),Ce.text(`Total de Entradas: ${Z(he)}`,20,be),be+=6,Ce.text(`Total de Saídas: ${Z(ke)}`,20,be),be+=6,Ce.text(`Saldo Líquido: ${Z(ve)}`,20,be),be+=15,Ce.setFontSize(12),Ce.text("MOVIMENTAÇÕES",20,be),be+=10,Ce.setFontSize(9),Ce.setFont("helvetica","bold"),Ce.text("Data/Hora",20,be),Ce.text("Tipo",60,be),Ce.text("Categoria",85,be),Ce.text("Descrição",115,be),Ce.text("Valor",160,be),be+=6,Ce.setDrawColor(200,200,200),Ce.setLineWidth(.1),Ce.line(20,be,190,be),be+=4,Ce.setFont("helvetica","normal"),ce.forEach(Te=>{be>270&&(Ce.addPage(),be=20),Ce.text(He(cr(Te.data),"dd/MM HH:mm",{locale:Qe}),20,be),Ce.text(Te.tipo==="entrada"?"Entrada":"Saída",60,be),Ce.text(Te.categoria,85,be),Ce.text(Te.descricao,115,be),Ce.text(Z(Te.valor),160,be),be+=6});const Ee=Ce.internal.pageSize.height-10;Ce.setFontSize(8),Ce.text("Powered by CYBERPIU",ze/2,Ee,{align:"center"}),Ce.save(`movimentacoes-caixa-${He(new Date,"ddMMyyyy-HHmm")}.pdf`)}catch(ie){console.error("Erro ao gerar PDF:",ie),alert("Erro ao gerar o relatório. Tente novamente.")}finally{ne(!1)}};return s.jsx("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(to,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Controle de Caixa"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Gerencie sessões de caixa e movimentações financeiras"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:G,disabled:f,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg`,children:[s.jsx(Vt,{size:20,className:f?"animate-spin":""}),"Atualizar"]}),s.jsxs("button",{onClick:()=>p(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(Bl,{size:24}),"Novo Caixa"]})]})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${d?t==="dark"?"bg-green-900/20 border border-green-800":"bg-green-50 border border-green-200":t==="dark"?"bg-red-900/20 border border-red-800":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center ${d?"bg-green-500":"bg-red-500"}`,children:s.jsx(to,{size:32,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-2xl font-bold ${d?"text-green-700":"text-red-700"}`,children:d?"Caixa Aberto":"Caixa Fechado"}),s.jsx("p",{className:`${d?t==="dark"?"text-green-300":"text-green-600":t==="dark"?"text-red-300":"text-red-600"}`,children:d?`${d.caixa} - Aberto em ${He(cr(d.dataAbertura),"dd/MM/yyyy HH:mm",{locale:Qe})}`:"Nenhum caixa está aberto no momento"})]})]}),s.jsx("div",{className:"flex gap-4",children:d?s.jsxs("button",{onClick:()=>{H(!0),_(!0)},className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 flex items-center gap-2 font-medium",children:[s.jsx(Ks,{size:20}),"Fechar Caixa"]}):s.jsxs("button",{onClick:()=>_(!0),className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 flex items-center gap-2 font-medium",children:[s.jsx(dt,{size:20}),"Abrir Caixa"]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total de Entradas"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:Z(he)})]}),s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-green-100",children:s.jsx(ta,{size:28,className:"text-green-600"})})]})}),s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total de Saídas"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:Z(ke)})]}),s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-red-100",children:s.jsx(pi,{size:28,className:"text-red-600"})})]})}),s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Saldo Líquido"}),s.jsx("p",{className:`text-3xl font-bold ${ve>=0?"text-blue-600":"text-orange-600"}`,children:Z(ve)})]}),s.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center ${ve>=0?"bg-blue-100":"bg-orange-100"}`,children:s.jsx(ar,{size:28,className:ve>=0?"text-blue-600":"text-orange-600"})})]})})]}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>N(!0),className:"bg-primary text-white px-6 py-3 rounded-xl hover:opacity-90 flex items-center gap-2 font-medium transition-all hover:scale-105",children:[s.jsx(Xt,{size:20}),"Relatórios"]}),s.jsxs("button",{onClick:()=>{M("entrada"),w(!0)},disabled:!d,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 flex items-center gap-2 font-medium transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ta,{size:20}),"Nova Entrada"]}),s.jsxs("button",{onClick:()=>{M("saida"),w(!0)},disabled:!d,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 flex items-center gap-2 font-medium transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(pi,{size:20}),"Nova Saída"]}),s.jsx("button",{onClick:Ie,disabled:R||ce.length===0,className:`px-6 py-3 rounded-xl flex items-center gap-2 font-medium transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed ${t==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:R?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Imprimindo..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dh,{size:20}),"Imprimir"]})}),s.jsx("button",{onClick:Ve,disabled:re||ce.length===0,className:"bg-secondary text-white px-6 py-3 rounded-xl hover:opacity-90 flex items-center gap-2 font-medium transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:re?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Relatório PDF"]})})]})}),s.jsx("div",{className:`p-6 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-3 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar movimentações...",value:se,onChange:ie=>T(ie.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:L,onChange:ie=>$(ie.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"today",children:"Hoje"}),s.jsx("option",{value:"yesterday",children:"Ontem"}),s.jsx("option",{value:"week",children:"Última semana"}),s.jsx("option",{value:"all",children:"Todas as datas"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:V,onChange:ie=>Y(ie.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos os tipos"}),s.jsx("option",{value:"entrada",children:"Entradas"}),s.jsx("option",{value:"saida",children:"Saídas"})]})]})]})]})}),s.jsxs("div",{className:`rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Na,{size:24,className:"text-primary"}),"Caixas Cadastrados"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(ie=>{const J=a.filter(Ce=>Ce.caixaId===ie.id&&Ce.status==="aberto");return s.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all hover:shadow-lg ${J.length>0?"border-green-500 bg-green-50":t==="dark"?"border-gray-600 bg-gray-700":"border-gray-300 bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${J.length>0?"bg-green-500":"bg-gray-500"}`,children:s.jsx(to,{size:24,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg",children:ie.nome}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:ie.descricao||"Sem descrição"})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>{k(ie),p(!0)},className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:s.jsx(Ys,{size:16})})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Status:"}),s.jsx("span",{className:`text-sm font-bold ${J.length>0?"text-green-600":"text-gray-500"}`,children:J.length>0?"Aberto":"Fechado"})]}),J.length>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Operador:"}),s.jsx("span",{className:"text-sm font-bold",children:J[0].usuario})]})]})]},ie.id)})})})]}),s.jsxs("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Xt,{size:24,className:"text-secondary"}),"Movimentações"]}),s.jsxs("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[ce.length," movimentações encontradas"]})]})}),s.jsx("div",{className:"overflow-x-auto max-h-96",children:ce.length>0?s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${t==="dark"?"bg-gray-700":"bg-gray-50"} sticky top-0`,children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Data/Hora"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Tipo"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Categoria"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Descrição"}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold",children:"Valor"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Usuário"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:ce.map(ie=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-6 py-4 text-sm",children:pe(ie.data)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ie.tipo==="entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[ie.tipo==="entrada"?s.jsx(ta,{size:12,className:"mr-1"}):s.jsx(pi,{size:12,className:"mr-1"}),ie.tipo==="entrada"?"Entrada":"Saída"]})}),s.jsx("td",{className:"px-6 py-4 text-sm capitalize",children:ie.categoria}),s.jsx("td",{className:"px-6 py-4 text-sm",children:ie.descricao}),s.jsxs("td",{className:`px-6 py-4 text-sm font-medium text-right ${ie.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:[ie.tipo==="entrada"?"+":"-",Z(ie.valor)]}),s.jsx("td",{className:"px-6 py-4 text-sm",children:ie.usuario})]},ie.id))})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xt,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma movimentação encontrada"}),s.jsx("p",{className:"text-sm text-gray-500",children:se||L!=="all"||V!=="all"?"Tente ajustar os filtros de busca":"Registre sua primeira movimentação"})]})})]}),y&&s.jsx(PS,{register:A,onSave:A?b:ue,onClose:()=>{p(!1),k(null)}}),S&&s.jsx(LS,{cashRegisters:r.filter(ie=>ie.ativo),session:d,isClosing:E,onSave:E?F:q,onClose:()=>{_(!1),H(!1)}}),O&&s.jsx(ES,{type:U,cashRegisters:r.filter(ie=>ie.ativo),currentCashId:d==null?void 0:d.caixaId,onSave:te,onClose:()=>w(!1)}),v&&s.jsx(IS,{cashRegisters:r,cashSessions:a,cashMovements:o,onClose:()=>N(!1)}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Controle de Caixa • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},TS=()=>{const{theme:t}=$t(),[e,r]=de.useState([]),[n,a]=de.useState(!1),[i,o]=de.useState(null),[l,d]=de.useState(""),[h,f]=de.useState("all"),[g,y]=de.useState("grid"),[p,S]=de.useState({nome:"",descricao:"",ativo:!0}),_=["JORNAIS","REVISTAS","BEBIDAS","CIGARROS","TABACARIA","BRINQUEDOS","INFORMÁTICA","PAPELARIA","DIVERSOS"];de.useEffect(()=>{O()},[]);const O=()=>{const H=JSON.parse(localStorage.getItem("pdv_categories")||"[]");if(H.length===0){const se=_.map(T=>({id:Math.random().toString(36).substr(2,9),nome:T,descricao:`Categoria ${T.toLowerCase()}`,ativo:!0,criadoEm:new Date().toISOString()}));localStorage.setItem("pdv_categories",JSON.stringify(se)),r(se)}else r(H)},w=H=>{localStorage.setItem("pdv_categories",JSON.stringify(H)),r(H)},v=()=>{if(p.nome.trim()){if(i){const H=e.map(se=>se.id===i.id?{...se,...p}:se);w(H)}else{const H={id:Math.random().toString(36).substr(2,9),...p,criadoEm:new Date().toISOString()};w([...e,H])}a(!1),o(null),S({nome:"",descricao:"",ativo:!0})}},N=H=>{o(H),S({nome:H.nome,descricao:H.descricao||"",ativo:H.ativo}),a(!0)},A=H=>{if(confirm(`Deseja excluir a categoria "${H.nome}"?`)){const se=e.filter(T=>T.id!==H.id);w(se)}},k=e.filter(H=>{var L;const se=H.nome.toLowerCase().includes(l.toLowerCase())||((L=H.descricao)==null?void 0:L.toLowerCase().includes(l.toLowerCase())),T=h==="all"||h==="active"&&H.ativo||h==="inactive"&&!H.ativo;return se&&T}),U=e.filter(H=>H.ativo),M=e.filter(H=>!H.ativo),E=H=>({JORNAIS:"📰",REVISTAS:"📖",BEBIDAS:"🥤",CIGARROS:"🚬",TABACARIA:"🚬",BRINQUEDOS:"🧸",INFORMÁTICA:"💻",PAPELARIA:"📝",DIVERSOS:"📦"})[H.toUpperCase()]||"🏷️";return s.jsxs("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:[s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(ns,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Categorias"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Organize seus produtos por categorias"})]})]}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(Bl,{size:24}),"Nova Categoria"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total"}),s.jsx("p",{className:"text-4xl font-bold text-primary",children:e.length})]}),s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(ns,{size:32,className:"text-primary"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Ativas"}),s.jsx("p",{className:"text-4xl font-bold text-green-600",children:U.length})]}),s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx(ta,{size:32,className:"text-green-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Inativas"}),s.jsx("p",{className:"text-4xl font-bold text-red-600",children:M.length})]}),s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center",children:s.jsx(mr,{size:32,className:"text-red-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Mais Usada"}),s.jsx("p",{className:"text-lg font-bold text-secondary",children:U.length>0?U[0].nome:"N/A"})]}),s.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-2xl flex items-center justify-center",children:s.jsx(Th,{size:32,className:"text-secondary"})})]})})]}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-4 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:l,onChange:H=>d(H.target.value),className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:h,onChange:H=>f(H.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todas"}),s.jsx("option",{value:"active",children:"Ativas"}),s.jsx("option",{value:"inactive",children:"Inativas"})]})]}),s.jsxs("div",{className:`flex items-center p-1 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsx("button",{onClick:()=>y("grid"),className:`p-3 rounded-lg transition-all ${g==="grid"?"bg-primary text-white shadow-lg":t==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:s.jsx(hg,{size:20})}),s.jsx("button",{onClick:()=>y("list"),className:`p-3 rounded-lg transition-all ${g==="list"?"bg-primary text-white shadow-lg":t==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:s.jsx(fg,{size:20})})]})]})]})}),g==="grid"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 mb-12",children:k.map(H=>s.jsxs("div",{className:`group p-8 rounded-3xl shadow-xl border-l-4 transition-all duration-300 hover:shadow-2xl hover:scale-105 ${t==="dark"?"bg-gray-800 border-secondary":"bg-white border-secondary"} ${H.ativo?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:E(H.nome)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl",children:H.nome}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${H.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:H.ativo?"Ativa":"Inativa"})]})]}),s.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>N(H),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>A(H),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all hover:scale-110",children:s.jsx(ws,{size:16})})]})]}),H.descricao&&s.jsx("p",{className:`text-sm mb-4 ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:H.descricao}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:t==="dark"?"text-gray-400":"text-gray-500",children:new Date(H.criadoEm).toLocaleDateString("pt-BR")}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kr,{size:12}),s.jsx("span",{children:"0 produtos"})]})]})]},H.id))}),g==="list"&&s.jsx("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Categoria"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Descrição"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Status"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Criado em"}),s.jsx("th",{className:"px-8 py-6 text-center text-sm font-bold",children:"Ações"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:k.map(H=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[s.jsx("td",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-2xl",children:E(H.nome)}),s.jsx("div",{children:s.jsx("span",{className:"font-bold text-lg",children:H.nome})})]})}),s.jsx("td",{className:"px-8 py-6 text-sm",children:H.descricao||"-"}),s.jsx("td",{className:"px-8 py-6",children:s.jsx("span",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium ${H.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:H.ativo?"Ativa":"Inativa"})}),s.jsx("td",{className:"px-8 py-6 text-sm",children:new Date(H.criadoEm).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-8 py-6 text-center",children:s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{onClick:()=>N(H),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>A(H),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all hover:scale-110",children:s.jsx(ws,{size:16})})]})})]},H.id))})]})})}),k.length===0&&s.jsxs("div",{className:`text-center py-20 rounded-3xl ${t==="dark"?"bg-gray-800":"bg-white"} shadow-xl`,children:[s.jsx("div",{className:"text-8xl mb-6",children:"🏷️"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Nenhuma categoria encontrada"}),s.jsx("p",{className:`text-lg mb-8 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:l||h!=="all"?"Tente ajustar os filtros de busca":"Comece criando sua primeira categoria"}),!l&&h==="all"&&s.jsx("button",{onClick:()=>a(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 font-medium text-lg transition-all hover:scale-105",children:"Criar Primeira Categoria"})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-md shadow-2xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(ns,{size:24,className:"text-primary"})}),i?"Editar Categoria":"Nova Categoria"]}),s.jsx("button",{onClick:()=>{a(!1),o(null),S({nome:"",descricao:"",ativo:!0})},className:`p-2 rounded-xl transition-all hover:scale-110 ${t==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"×"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-3",children:"Nome da Categoria *"}),s.jsx("input",{type:"text",value:p.nome,onChange:H=>S(se=>({...se,nome:H.target.value})),className:`w-full px-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,placeholder:"Ex: ELETRÔNICOS"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-3",children:"Descrição"}),s.jsx("textarea",{value:p.descricao,onChange:H=>S(se=>({...se,descricao:H.target.value})),className:`w-full px-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Descrição opcional da categoria..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:p.ativo,onChange:H=>S(se=>({...se,ativo:H.target.checked})),className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"ativo",className:"text-sm font-medium",children:"Categoria ativa"})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{onClick:()=>{a(!1),o(null),S({nome:"",descricao:"",ativo:!0})},className:`flex-1 border-2 py-4 px-6 rounded-2xl font-bold transition-all hover:scale-105 ${t==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{onClick:v,className:"flex-1 bg-primary text-white py-4 px-6 rounded-2xl font-bold hover:opacity-90 transition-all hover:scale-105",children:[i?"Atualizar":"Criar"," Categoria"]})]})]})]})})]}),s.jsx("footer",{className:`py-8 border-t ${t==="dark"?"border-gray-800 bg-gray-900":"border-gray-200 bg-gray-50"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-8",children:s.jsx("p",{className:`text-center text-sm ${t==="dark"?"text-gray-500":"text-gray-400"}`,children:"Powered by CYBERPIU"})})})]})},J1=({label:t,color:e,onChange:r,onRealTimeChange:n})=>{const[a,i]=de.useState(!1),o=de.useRef(null),l=de.useRef(null),d=200,h=d/2,f=d/2,g=d/2-10;de.useEffect(()=>{y()},[]);const y=()=>{const U=o.current;if(!U)return;const M=U.getContext("2d");if(!M)return;const E=M.createImageData(d,d),H=E.data;for(let se=0;se<d;se++)for(let T=0;T<d;T++){const L=se-h,$=T-f,V=Math.sqrt(L*L+$*$);if(V<=g){const re=(Math.atan2($,L)+Math.PI)/(2*Math.PI)*360,ne=Math.min(V/g,1)*100,W=p(re,ne,50),G=(T*d+se)*4;H[G]=W.r,H[G+1]=W.g,H[G+2]=W.b,H[G+3]=255}}M.putImageData(E,0,0)},p=(U,M,E)=>{U=U/360,M=M/100,E=E/100;const H=($,V,Y)=>(Y<0&&(Y+=1),Y>1&&(Y-=1),Y<1/6?$+(V-$)*6*Y:Y<1/2?V:Y<2/3?$+(V-$)*(2/3-Y)*6:$);let se,T,L;if(M===0)se=T=L=E;else{const $=E<.5?E*(1+M):E+M-E*M,V=2*E-$;se=H(V,$,U+1/3),T=H(V,$,U),L=H(V,$,U-1/3)}return{r:Math.round(se*255),g:Math.round(T*255),b:Math.round(L*255)}},S=(U,M,E)=>"#"+((1<<24)+(U<<16)+(M<<8)+E).toString(16).slice(1),_=(U,M)=>{const E=o.current;if(!E)return e;const H=E.getBoundingClientRect(),se=(U-H.left)*(d/H.width),T=(M-H.top)*(d/H.height),L=se-h,$=T-f,V=Math.sqrt(L*L+$*$);if(V<=g){const re=(Math.atan2($,L)+Math.PI)/(2*Math.PI)*360,ne=Math.min(V/g,1)*100,W=p(re,ne,50);return S(W.r,W.g,W.b)}return e},O=U=>{i(!0);const M=_(U.clientX,U.clientY);r(M),n==null||n(M)},w=U=>{if(!a)return;const M=_(U.clientX,U.clientY);r(M),n==null||n(M)},v=()=>{i(!1)},N=U=>{U.preventDefault(),i(!0);const M=U.touches[0],E=_(M.clientX,M.clientY);r(E),n==null||n(E)},A=U=>{if(!a)return;U.preventDefault();const M=U.touches[0],E=_(M.clientX,M.clientY);r(E),n==null||n(E)},k=U=>{U.preventDefault(),i(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-lg font-semibold",children:t}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg border-2 border-gray-300",style:{backgroundColor:e}}),s.jsx("input",{type:"text",value:e,onChange:U=>r(U.target.value),className:"w-20 px-2 py-1 text-xs font-mono border rounded",placeholder:"#000000"})]})]}),s.jsx("div",{ref:l,className:"flex justify-center",children:s.jsx("canvas",{ref:o,width:d,height:d,className:"rounded-full cursor-crosshair shadow-lg border-2 border-gray-200",onMouseDown:O,onMouseMove:w,onMouseUp:v,onMouseLeave:v,onTouchStart:N,onTouchMove:A,onTouchEnd:k,style:{maxWidth:"200px",maxHeight:"200px",touchAction:"none"}})}),s.jsxs("div",{className:"text-center",children:[s.jsx("input",{type:"color",value:e,onChange:U=>r(U.target.value),className:"w-full h-12 rounded-lg cursor-pointer border-2 border-gray-300"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Clique no círculo ou use o seletor acima"})]})]})},DS=()=>{const{theme:t,toggleTheme:e}=$t(),{primaryColor:r,secondaryColor:n,setPrimaryColor:a,setSecondaryColor:i,resetColors:o}=Rl(),[l,d]=de.useState({primary:r,secondary:n}),[h,f]=de.useState(!1),[g,y]=de.useState({primary:se(r),secondary:se(n)}),[p,S]=de.useState(!1),[_,O]=de.useState("primary"),w=L=>{var V;const $=(V=L.target.files)==null?void 0:V[0];if($){const Y=new FileReader;Y.onload=re=>{var W;const ne=(W=re.target)==null?void 0:W.result;localStorage.setItem("company_favicon",ne);const R=document.querySelector("link[rel*='icon']");R&&(R.href=ne)},Y.readAsDataURL($)}},v=L=>{var V;const $=(V=L.target.files)==null?void 0:V[0];if($){const Y=new FileReader;Y.onload=re=>{var R;const ne=(R=re.target)==null?void 0:R.result;localStorage.setItem("company_logo",ne)},Y.readAsDataURL($)}},N=(L,$)=>{d(V=>({...V,[L]:$})),y(V=>({...V,[L]:se($)}))},A=(L,$,V)=>{const Y={...g,[L]:{...g[L],[$]:V}};y(Y);const re=T(Y[L].r,Y[L].g,Y[L].b);d(ne=>({...ne,[L]:re}))},k=()=>{S(!0),setTimeout(()=>{a(l.primary),i(l.secondary),S(!1),alert("Cores aplicadas com sucesso!")},800)},U=()=>{o(),d({primary:"#0d214f",secondary:"#ea580c"}),y({primary:se("#0d214f"),secondary:se("#ea580c")}),alert("Cores restauradas para o padrão!")},M=[{name:"Azul Corporativo",primary:"#0d214f",secondary:"#ea580c"},{name:"Verde Natureza",primary:"#065f46",secondary:"#f59e0b"},{name:"Roxo Moderno",primary:"#581c87",secondary:"#ec4899"},{name:"Vermelho Energia",primary:"#991b1b",secondary:"#f97316"},{name:"Azul Oceano",primary:"#0c4a6e",secondary:"#06b6d4"},{name:"Verde Esmeralda",primary:"#064e3b",secondary:"#10b981"},{name:"Roxo Real",primary:"#4c1d95",secondary:"#a855f7"},{name:"Laranja Vibrante",primary:"#9a3412",secondary:"#eab308"},{name:"Rosa Elegante",primary:"#be185d",secondary:"#f472b6"},{name:"Azul Elétrico",primary:"#1e3a8a",secondary:"#3b82f6"},{name:"Verde Menta",primary:"#047857",secondary:"#34d399"},{name:"Dourado Luxo",primary:"#92400e",secondary:"#fbbf24"},{name:"Violeta Místico",primary:"#6b21a8",secondary:"#c084fc"},{name:"Turquesa Tropical",primary:"#155e75",secondary:"#22d3ee"},{name:"Coral Sunset",primary:"#dc2626",secondary:"#fb7185"},{name:"Índigo Profundo",primary:"#312e81",secondary:"#818cf8"}],E=localStorage.getItem("company_logo"),H=localStorage.getItem("company_favicon");function se(L){const $=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(L);return $?{r:parseInt($[1],16),g:parseInt($[2],16),b:parseInt($[3],16)}:{r:0,g:0,b:0}}function T(L,$,V){return"#"+((1<<24)+(L<<16)+($<<8)+V).toString(16).slice(1)}return s.jsx("div",{className:`p-6 min-h-screen ${t==="dark"?"bg-slate-900 text-white":"bg-slate-50 text-gray-800"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(tp,{size:32,className:"text-primary"}),"Aparência e Personalização"]}),s.jsxs("p",{className:`${t==="dark"?"text-blue-300":"text-slate-600"} mt-2`,children:["Customize a aparência do sistema • Powered by ",s.jsx("span",{className:"font-bold text-secondary",children:"CYBERPIU"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center bg-primary/10",children:s.jsx(tp,{className:"text-primary",size:28})}),s.jsx("h2",{className:"text-2xl font-bold",children:"Tema do Sistema"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Modo Escuro"}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:"Alterne entre tema claro e escuro"})]}),s.jsx("button",{onClick:e,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${t==="dark"?"bg-blue-600":"bg-slate-300"}`,children:s.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${t==="dark"?"translate-x-7":"translate-x-1"}`})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:`p-6 rounded-2xl border-2 cursor-pointer transition-all hover:scale-105 ${t==="light"?"border-blue-500 bg-blue-50":"border-slate-300 bg-slate-100"}`,onClick:()=>t==="dark"&&e(),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(b3,{size:24,className:"text-yellow-500"}),s.jsx("span",{className:"font-semibold text-gray-800",children:"Tema Claro"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[s.jsx("div",{className:"h-3 bg-slate-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-slate-100 rounded"})]})]}),s.jsxs("div",{className:`p-6 rounded-2xl border-2 cursor-pointer transition-all hover:scale-105 ${t==="dark"?"border-blue-500 bg-blue-900":"border-slate-300 bg-slate-800"}`,onClick:()=>t==="light"&&e(),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(x3,{size:24,className:"text-blue-400"}),s.jsx("span",{className:"font-semibold text-white",children:"Tema Escuro"})]}),s.jsxs("div",{className:"bg-slate-700 rounded-lg p-3 shadow-sm",children:[s.jsx("div",{className:"h-3 bg-slate-600 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-slate-500 rounded"})]})]})]})]})]}),s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center bg-secondary/10",children:s.jsx(Nn,{className:"text-secondary",size:28})}),s.jsx("h2",{className:"text-2xl font-bold",children:"Identidade Visual"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-lg font-semibold mb-4",children:"Logo da Empresa"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl border-2 border-dashed border-blue-300 flex items-center justify-center",children:E?s.jsx("img",{src:E,alt:"Logo",className:"w-full h-full rounded-2xl object-cover"}):s.jsx(An,{size:32,className:"text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden",id:"logo-upload"}),s.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-3 px-6 py-3 rounded-xl hover:opacity-90 cursor-pointer font-medium text-white btn-primary",children:[s.jsx(Nn,{size:20}),"Escolher Logo"]}),s.jsx("p",{className:`text-sm mt-2 ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:"PNG, JPG até 2MB. Recomendado: 200x200px"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-lg font-semibold mb-4",children:"Favicon"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-dashed border-blue-300 flex items-center justify-center",children:H?s.jsx("img",{src:H,alt:"Favicon",className:"w-full h-full rounded-lg object-cover"}):s.jsx(Nn,{size:20,className:"text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:"image/*,.ico",onChange:w,className:"hidden",id:"favicon-upload"}),s.jsxs("label",{htmlFor:"favicon-upload",className:"inline-flex items-center gap-3 px-6 py-3 rounded-xl hover:opacity-90 cursor-pointer font-medium text-white btn-secondary",children:[s.jsx(Nn,{size:20}),"Escolher Favicon"]}),s.jsx("p",{className:`text-sm mt-2 ${t==="dark"?"text-blue-300":"text-slate-600"}`,children:"ICO, PNG até 1MB. Recomendado: 32x32px"})]})]})]})]})]}),s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl lg:col-span-2 ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center bg-purple-100",children:s.jsx(y3,{className:"text-purple-500",size:28})}),s.jsx("h2",{className:"text-2xl font-bold",children:"Cores Personalizáveis"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>O("primary"),className:`px-4 py-2 rounded-xl font-medium transition-all ${_==="primary"?"bg-primary text-white":t==="dark"?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:"Cor Primária"}),s.jsx("button",{onClick:()=>O("secondary"),className:`px-4 py-2 rounded-xl font-medium transition-all ${_==="secondary"?"bg-secondary text-white":t==="dark"?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:"Cor Secundária"})]}),s.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded-lg transition-all ${t==="dark"?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,title:h?"Ocultar RGB":"Mostrar RGB",children:s.jsx(Kr,{size:20})})]}),_==="primary"?s.jsx(J1,{label:"Cor Primária",color:l.primary,onChange:L=>N("primary",L),onRealTimeChange:L=>N("primary",L)}):s.jsx(J1,{label:"Cor Secundária",color:l.secondary,onChange:L=>N("secondary",L),onRealTimeChange:L=>N("secondary",L)}),h&&s.jsxs("div",{className:`mt-8 p-6 rounded-2xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-r from-red-500 via-green-500 to-blue-500"}),"Ajuste RGB Preciso"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Vermelho (R)"]}),s.jsx("span",{className:"text-sm font-mono",children:g[_].r})]}),s.jsx("input",{type:"range",min:"0",max:"255",value:g[_].r,onChange:L=>A(_,"r",parseInt(L.target.value)),className:"w-full rgb-slider-red",style:{background:"linear-gradient(to right, #000000, #ff0000)"}})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Verde (G)"]}),s.jsx("span",{className:"text-sm font-mono",children:g[_].g})]}),s.jsx("input",{type:"range",min:"0",max:"255",value:g[_].g,onChange:L=>A(_,"g",parseInt(L.target.value)),className:"w-full rgb-slider-green",style:{background:"linear-gradient(to right, #000000, #00ff00)"}})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),"Azul (B)"]}),s.jsx("span",{className:"text-sm font-mono",children:g[_].b})]}),s.jsx("input",{type:"range",min:"0",max:"255",value:g[_].b,onChange:L=>A(_,"b",parseInt(L.target.value)),className:"w-full rgb-slider-blue",style:{background:"linear-gradient(to right, #000000, #0000ff)"}})]})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Paletas Predefinidas"}),s.jsx("div",{className:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto pr-2",children:M.map((L,$)=>s.jsx("button",{onClick:()=>{d({primary:L.primary,secondary:L.secondary}),y({primary:se(L.primary),secondary:se(L.secondary)})},className:`p-4 rounded-xl border-2 transition-all hover:scale-105 ${l.primary===L.primary&&l.secondary===L.secondary?"border-blue-500 bg-blue-50":t==="dark"?"border-slate-600 hover:border-slate-500":"border-blue-200 hover:border-blue-300"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:L.primary}}),s.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:L.secondary}})]}),s.jsx("span",{className:"font-medium text-left",children:L.name})]})},$))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Kr,{size:20}),"Preview das Cores"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-6 rounded-xl text-white",style:{backgroundColor:l.primary},children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Cor Primária"}),s.jsx("p",{children:"Esta é a cor principal do sistema"}),s.jsx("button",{className:"mt-3 px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-all",children:"Botão Exemplo"})]}),s.jsxs("div",{className:"p-6 rounded-xl text-white",style:{backgroundColor:l.secondary},children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Cor Secundária"}),s.jsx("p",{children:"Esta é a cor de destaque do sistema"}),s.jsx("button",{className:"mt-3 px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-all",children:"Botão Exemplo"})]})]})]}),s.jsxs("div",{className:`p-6 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsx("h3",{className:"font-bold mb-4",children:"Exemplos de Componentes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{className:"px-4 py-2 rounded-lg text-white",style:{backgroundColor:l.primary},children:"Botão Primário"}),s.jsx("button",{className:"px-4 py-2 rounded-lg text-white",style:{backgroundColor:l.secondary},children:"Botão Secundário"}),s.jsx("button",{className:"px-4 py-2 rounded-lg border-2",style:{borderColor:l.primary,color:l.primary},children:"Botão Outline"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:`p-3 rounded-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:l.primary},children:s.jsx(ta,{size:16})}),s.jsx("span",{className:"font-medium",children:"Card Primário"})]}),s.jsx("div",{className:"text-xs",children:"Exemplo de card com cor primária"})]}),s.jsxs("div",{className:`p-3 rounded-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:l.secondary},children:s.jsx(mr,{size:16})}),s.jsx("span",{className:"font-medium",children:"Card Secundário"})]}),s.jsx("div",{className:"text-xs",children:"Exemplo de card com cor secundária"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:l.primary},children:"Badge Primário"}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:l.secondary},children:"Badge Secundário"}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border",style:{borderColor:l.primary,color:l.primary},children:"Badge Outline"})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:U,className:`flex-1 border-2 py-4 px-6 rounded-xl font-bold transition-all hover:scale-105 flex items-center justify-center gap-2 ${t==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Vt,{size:20}),"Restaurar Padrão"]}),s.jsx("button",{onClick:k,disabled:p,className:`flex-1 bg-primary text-white py-4 px-6 rounded-xl font-bold hover:opacity-90 transition-all hover:scale-105 flex items-center justify-center gap-2 ${p?"opacity-70 color-applying":""}`,children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Aplicando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sd,{size:20}),"Aplicar Cores"]})})]})]})]})]}),s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl mt-8 ${t==="dark"?"bg-slate-800":"bg-white"}`,children:[s.jsx("h2",{className:"text-xl font-bold mb-6",children:"Informações do Sistema"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Versão do Sistema:"}),s.jsx("span",{className:"text-xs font-semibold",children:"v1.0.0"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Tema Atual:"}),s.jsx("span",{className:"text-xs font-semibold capitalize",children:t==="dark"?"Escuro":"Claro"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Última Atualização:"}),s.jsx("span",{className:"text-xs font-semibold",children:new Date().toLocaleDateString("pt-BR")})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Cor Primária:"}),s.jsx("span",{className:"text-xs font-mono",children:r})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Cor Secundária:"}),s.jsx("span",{className:"text-xs font-mono",children:n})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Logo Personalizada:"}),s.jsx("span",{className:"text-xs font-semibold",children:E?"Sim":"Não"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Desenvolvido por:"}),s.jsx("span",{className:"text-xs font-bold text-secondary",children:"CYBERPIU"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Suporte:"}),s.jsx("span",{className:"text-xs font-semibold",children:"24/7"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs",children:"Licença:"}),s.jsx("span",{className:"text-xs font-semibold",children:"Comercial"})]})]})]})]})]}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-slate-700 text-blue-300":"border-blue-200 text-slate-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Sistema de Aparência • Powered by ",s.jsx("span",{className:"font-bold text-secondary",children:"CYBERPIU"})]})})]})})},OS=({supplier:t,onSave:e,onClose:r})=>{const{theme:n}=$t(),[a,i]=de.useState({nome:"",cnpjCpf:"",telefone:"",email:"",endereco:"",website:"",observacoes:"",ativo:!0}),[o,l]=de.useState({}),[d,h]=de.useState(null);de.useEffect(()=>{t&&i({nome:t.nome,cnpjCpf:t.cnpjCpf,telefone:t.telefone,email:t.email,endereco:t.endereco||"",website:t.website||"",observacoes:t.observacoes||"",ativo:t.ativo})},[t]);const f=()=>{const N={};return a.nome.trim()||(N.nome="Nome é obrigatório"),a.cnpjCpf&&!g(a.cnpjCpf)&&(N.cnpjCpf="CNPJ/CPF inválido"),a.email&&!y(a.email)&&(N.email="Email inválido"),a.website&&!p(a.website)&&(N.website="Website inválido"),l(N),Object.keys(N).length===0},g=N=>{const A=N.replace(/\D/g,"");return A.length===11||A.length===14||A.length===0},y=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N)||N==="",p=N=>/^(https?:\/\/)?(www\.)?[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+([/?].*)?$/.test(N)||N==="",S=N=>{N.preventDefault(),f()&&e(a)},_=N=>{const A=N.replace(/\D/g,"");return A.length<=11?A.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):A.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")},O=N=>{const A=N.replace(/\D/g,"");return A.length<=10?A.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):A.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},w=async(N,A)=>{try{await navigator.clipboard.writeText(N),h(A),setTimeout(()=>h(null),2e3)}catch(k){console.error("Erro ao copiar para o clipboard:",k)}},v=async()=>{if(a.cnpjCpf.replace(/\D/g,"").length!==14){l(A=>({...A,cnpjCpf:"CNPJ deve ter 14 dígitos para consulta"}));return}alert("Funcionalidade de consulta CNPJ em desenvolvimento")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl ${n==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(Tl,{size:24,className:"text-primary"})}),t?"Editar Fornecedor":"Novo Fornecedor"]}),s.jsx("button",{onClick:r,className:`p-2 rounded-xl transition-all hover:scale-110 ${n==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Na,{size:16,className:"text-gray-500"}),"Nome da Empresa *"]}),s.jsx("input",{type:"text",value:a.nome,onChange:N=>{i(A=>({...A,nome:N.target.value})),o.nome&&l(A=>({...A,nome:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${o.nome?"border-red-500":""}`,placeholder:"Ex: Distribuidora ABC Ltda"}),o.nome&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),o.nome]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"CNPJ/CPF"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",value:a.cnpjCpf,onChange:N=>{i(A=>({...A,cnpjCpf:_(N.target.value)})),o.cnpjCpf&&l(A=>({...A,cnpjCpf:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${o.cnpjCpf?"border-red-500":""}`,placeholder:"00.000.000/0000-00"}),a.cnpjCpf&&s.jsx("button",{type:"button",onClick:()=>w(a.cnpjCpf,"cnpjCpf"),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",title:"Copiar",children:d==="cnpjCpf"?s.jsx(dt,{size:18,className:"text-green-500"}):s.jsx(ka,{size:18})})]}),s.jsx("button",{type:"button",onClick:v,className:`px-4 py-3 rounded-xl font-medium transition-all hover:scale-105 ${n==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"Buscar dados do CNPJ",children:s.jsx(Cn,{size:18})})]}),o.cnpjCpf&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),o.cnpjCpf]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Qi,{size:16,className:"text-gray-500"}),"Telefone"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:a.telefone,onChange:N=>{i(A=>({...A,telefone:O(N.target.value)})),o.telefone&&l(A=>({...A,telefone:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${o.telefone?"border-red-500":""}`,placeholder:"(11) 99999-9999"}),a.telefone&&s.jsx("button",{type:"button",onClick:()=>w(a.telefone,"telefone"),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",title:"Copiar",children:d==="telefone"?s.jsx(dt,{size:18,className:"text-green-500"}):s.jsx(ka,{size:18})})]}),o.telefone&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),o.telefone]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xi,{size:16,className:"text-gray-500"}),"Email"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"email",value:a.email,onChange:N=>{i(A=>({...A,email:N.target.value})),o.email&&l(A=>({...A,email:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${o.email?"border-red-500":""}`,placeholder:"contato@empresa.com"}),a.email&&s.jsx("button",{type:"button",onClick:()=>w(a.email,"email"),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",title:"Copiar",children:d==="email"?s.jsx(dt,{size:18,className:"text-green-500"}):s.jsx(ka,{size:18})})]}),o.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),o.email]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(mg,{size:16,className:"text-gray-500"}),"Endereço"]}),s.jsx("textarea",{value:a.endereco,onChange:N=>i(A=>({...A,endereco:N.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Endereço completo da empresa..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx($v,{size:16,className:"text-gray-500"}),"Website"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:a.website,onChange:N=>{i(A=>({...A,website:N.target.value})),o.website&&l(A=>({...A,website:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${o.website?"border-red-500":""}`,placeholder:"https://www.empresa.com"}),a.website&&s.jsxs("div",{className:"absolute right-3 top-3 flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>w(a.website,"website"),className:"text-gray-400 hover:text-gray-600",title:"Copiar",children:d==="website"?s.jsx(dt,{size:18,className:"text-green-500"}):s.jsx(ka,{size:18})}),s.jsx("a",{href:a.website.startsWith("http")?a.website:`https://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600",title:"Abrir website",children:s.jsx(u3,{size:18})})]})]}),o.website&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),o.website]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Observações"]}),s.jsx("textarea",{value:a.observacoes,onChange:N=>i(A=>({...A,observacoes:N.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${n==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Observações adicionais sobre o fornecedor..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:a.ativo,onChange:N=>i(A=>({...A,ativo:N.target.checked})),className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"ativo",className:"flex items-center gap-2 text-sm font-medium",children:a.ativo?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:16,className:"text-green-600"}),"Fornecedor ativo"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{size:16,className:"text-red-600"}),"Fornecedor inativo"]})})]})]})]}),!t&&s.jsxs("div",{className:`p-4 rounded-xl border-l-4 border-blue-500 ${n==="dark"?"bg-blue-900/20 text-blue-200":"bg-blue-50 text-blue-800"}`,children:[s.jsxs("h5",{className:"font-bold mb-2 flex items-center gap-2",children:[s.jsx(Wt,{size:16}),"Informações Importantes:"]}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsx("p",{children:"• Apenas o nome da empresa é obrigatório"}),s.jsx("p",{children:"• Fornecedores cadastrados poderão ser associados a produtos"}),s.jsx("p",{children:"• Mantenha os dados de contato sempre atualizados"}),s.jsx("p",{children:"• Fornecedores inativos não aparecerão nas listas de seleção"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:r,className:`flex-1 border-2 py-4 px-6 rounded-2xl font-bold transition-all hover:scale-105 ${n==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-primary text-white py-4 px-6 rounded-2xl font-bold hover:opacity-90 transition-all hover:scale-105 flex items-center justify-center gap-3",children:[s.jsx(Sd,{size:20}),t?"Atualizar":"Criar"," Fornecedor"]})]})]})]})})},MS=()=>{const{theme:t}=$t(),[e,r]=de.useState([]),[n,a]=de.useState(""),[i,o]=de.useState(!1),[l,d]=de.useState(null),[h,f]=de.useState("grid"),[g,y]=de.useState("all"),[p,S]=de.useState("name"),[_,O]=de.useState(!1),[w,v]=de.useState(null),[N,A]=de.useState(null),k=de.useRef(null);de.useEffect(()=>{U()},[]);const U=()=>{r(tt.getAllSuppliers())},M=R=>{l?tt.updateSupplier(l.id,R):tt.createSupplier(R),U(),o(!1),d(null)},E=R=>{d(R),o(!0)},H=R=>{confirm(`Deseja excluir o fornecedor "${R.nome}"?`)&&(tt.updateSupplier(R.id,{ativo:!1}),U())},se=R=>{tt.updateSupplier(R.id,{ativo:!R.ativo}),U()},T=R=>{v(R)},L=async(R,W)=>{try{await navigator.clipboard.writeText(R),A(W),setTimeout(()=>A(null),2e3)}catch(G){console.error("Erro ao copiar para o clipboard:",G)}},$=async()=>{O(!0);try{const R=localStorage.getItem("company_data"),W=R?JSON.parse(R):null,G=new We,ue=G.internal.pageSize.width;let b=20;W&&(W.nomeFantasia||W.razaoSocial)&&(G.setFontSize(14),G.text(W.nomeFantasia||W.razaoSocial,ue/2,b,{align:"center"}),b+=8,W.cnpj&&(G.setFontSize(10),G.text(`CNPJ: ${W.cnpj}`,ue/2,b,{align:"center"}),b+=6),b+=5),G.setFontSize(16),G.text("LISTA DE FORNECEDORES",ue/2,b,{align:"center"}),b+=10,G.setFontSize(10),G.text(`Data de geração: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}`,ue/2,b,{align:"center"}),b+=15;const q=V();G.setFontSize(12),G.text("RESUMO",20,b),b+=8,G.setFontSize(10),G.text(`Total de Fornecedores: ${q.length}`,20,b),b+=6,G.text(`Fornecedores Ativos: ${q.filter(te=>te.ativo).length}`,20,b),b+=6,G.text(`Fornecedores Inativos: ${q.filter(te=>!te.ativo).length}`,20,b),b+=15,G.setFontSize(12),G.text("FORNECEDORES",20,b),b+=10,G.setFontSize(8),q.forEach((te,Z)=>{b>250&&(G.addPage(),b=20),G.setFontSize(10),G.text(`${Z+1}. ${te.nome} ${te.ativo?"":"(INATIVO)"}`,20,b),b+=6,G.setFontSize(8),G.text(`CNPJ/CPF: ${te.cnpjCpf}`,25,b),b+=4,G.text(`Telefone: ${te.telefone}`,25,b),b+=4,G.text(`Email: ${te.email}`,25,b),b+=4,te.endereco&&(G.text(`Endereço: ${te.endereco}`,25,b),b+=4),G.text(`Cadastrado em: ${He(new Date(te.criadoEm),"dd/MM/yyyy",{locale:Qe})}`,25,b),b+=8});const F=G.internal.pageSize.height-10;G.setFontSize(8),G.text("Powered by CYBERPIU",ue/2,F,{align:"center"}),G.save(`fornecedores-${He(new Date,"ddMMyyyy-HHmm")}.pdf`)}catch(R){console.error("Erro ao gerar PDF:",R),alert("Erro ao gerar o relatório. Tente novamente.")}finally{O(!1)}},V=()=>e.filter(R=>{const W=R.nome.toLowerCase().includes(n.toLowerCase())||R.cnpjCpf.includes(n)||R.email.toLowerCase().includes(n.toLowerCase()),G=g==="all"||g==="active"&&R.ativo||g==="inactive"&&!R.ativo;return W&&G}).sort((R,W)=>p==="name"?R.nome.localeCompare(W.nome):new Date(W.criadoEm).getTime()-new Date(R.criadoEm).getTime()),Y=V(),re=e.filter(R=>R.ativo),ne=e.filter(R=>!R.ativo);return s.jsxs("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:[s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(Tl,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Fornecedores"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Gerencie seus fornecedores e parcerias comerciais"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:$,disabled:_,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg`,children:_?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Exportar PDF"]})}),s.jsxs("button",{onClick:()=>o(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(Bl,{size:24}),"Novo Fornecedor"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total"}),s.jsx("p",{className:"text-4xl font-bold text-primary",children:e.length})]}),s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(Tl,{size:32,className:"text-primary"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Ativos"}),s.jsx("p",{className:"text-4xl font-bold text-green-600",children:re.length})]}),s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx(dt,{size:32,className:"text-green-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Inativos"}),s.jsx("p",{className:"text-4xl font-bold text-red-600",children:ne.length})]}),s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center",children:s.jsx(Ks,{size:32,className:"text-red-600"})})]})})]}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-4 text-gray-400",size:20}),s.jsx("input",{ref:k,type:"text",placeholder:"Buscar fornecedores...",value:n,onChange:R=>a(R.target.value),className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:g,onChange:R=>y(R.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"active",children:"Ativos"}),s.jsx("option",{value:"inactive",children:"Inativos"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:p,onChange:R=>S(R.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"name",children:"Nome"}),s.jsx("option",{value:"date",children:"Data de Cadastro"})]})]}),s.jsxs("div",{className:`flex items-center p-1 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsx("button",{onClick:()=>f("grid"),className:`p-3 rounded-lg transition-all ${h==="grid"?"bg-primary text-white shadow-lg":t==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:s.jsx(hg,{size:20})}),s.jsx("button",{onClick:()=>f("list"),className:`p-3 rounded-lg transition-all ${h==="list"?"bg-primary text-white shadow-lg":t==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:s.jsx(fg,{size:20})})]})]})]})}),h==="grid"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 mb-12",children:Y.map(R=>s.jsxs("div",{className:`group p-8 rounded-3xl shadow-xl border-l-4 transition-all duration-300 hover:shadow-2xl hover:scale-105 ${t==="dark"?"bg-gray-800 border-secondary":"bg-white border-secondary"} ${R.ativo?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center bg-primary/10",children:s.jsx(Na,{size:28,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl",children:R.nome}),s.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${R.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.ativo?"Ativo":"Inativo"})]})]}),s.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>E(R),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",title:"Editar",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>se(R),className:`p-2 rounded-xl transition-all hover:scale-110 ${R.ativo?"bg-orange-500 text-white hover:bg-orange-600":"bg-green-500 text-white hover:bg-green-600"}`,title:R.ativo?"Desativar":"Ativar",children:R.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})}),s.jsx("button",{onClick:()=>H(R),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all hover:scale-110",title:"Excluir",children:s.jsx(ws,{size:16})})]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-blue-100",children:s.jsx(Xt,{size:16,className:"text-blue-600"})}),s.jsx("span",{className:"text-sm font-mono",children:R.cnpjCpf})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-green-100",children:s.jsx(Qi,{size:16,className:"text-green-600"})}),s.jsx("span",{className:"text-sm",children:R.telefone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-purple-100",children:s.jsx(Xi,{size:16,className:"text-purple-600"})}),s.jsx("span",{className:"text-sm truncate max-w-[180px]",children:R.email})]})]}),s.jsx("button",{onClick:()=>T(R),className:`w-full py-3 rounded-xl font-medium transition-all hover:scale-105 ${t==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Ver Detalhes"})]},R.id))}),h==="list"&&s.jsx("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Fornecedor"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"CNPJ/CPF"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Contato"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Status"}),s.jsx("th",{className:"px-8 py-6 text-left text-sm font-bold",children:"Criado em"}),s.jsx("th",{className:"px-8 py-6 text-center text-sm font-bold",children:"Ações"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:Y.map(R=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[s.jsx("td",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-primary/10",children:s.jsx(Na,{size:24,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg",children:R.nome}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-500"} truncate max-w-[200px]`,children:R.endereco||"Endereço não informado"})]})]})}),s.jsx("td",{className:"px-8 py-6 text-sm font-mono",children:R.cnpjCpf}),s.jsx("td",{className:"px-8 py-6 text-sm",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qi,{size:14,className:"text-green-600"}),s.jsx("span",{children:R.telefone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xi,{size:14,className:"text-blue-600"}),s.jsx("span",{className:"truncate max-w-[150px]",children:R.email})]})]})}),s.jsx("td",{className:"px-8 py-6",children:s.jsx("span",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium ${R.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.ativo?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:14,className:"mr-1"}),"Ativo"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{size:14,className:"mr-1"}),"Inativo"]})})}),s.jsx("td",{className:"px-8 py-6 text-sm",children:He(new Date(R.criadoEm),"dd/MM/yyyy",{locale:Qe})}),s.jsx("td",{className:"px-8 py-6 text-center",children:s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{onClick:()=>T(R),className:"p-2 bg-primary text-white rounded-xl hover:opacity-90 transition-all hover:scale-110",title:"Ver Detalhes",children:s.jsx(Kr,{size:16})}),s.jsx("button",{onClick:()=>E(R),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",title:"Editar",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>se(R),className:`p-2 rounded-xl transition-all hover:scale-110 ${R.ativo?"bg-orange-500 text-white hover:bg-orange-600":"bg-green-500 text-white hover:bg-green-600"}`,title:R.ativo?"Desativar":"Ativar",children:R.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})}),s.jsx("button",{onClick:()=>H(R),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all hover:scale-110",title:"Excluir",children:s.jsx(ws,{size:16})})]})})]},R.id))})]})})}),Y.length===0&&s.jsxs("div",{className:`text-center py-20 rounded-3xl ${t==="dark"?"bg-gray-800":"bg-white"} shadow-xl`,children:[s.jsx("div",{className:"text-8xl mb-6",children:"🚚"}),s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Nenhum fornecedor encontrado"}),s.jsx("p",{className:`text-lg mb-8 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:n||g!=="all"?"Tente ajustar os filtros de busca":"Comece cadastrando seu primeiro fornecedor"}),!n&&g==="all"&&s.jsx("button",{onClick:()=>o(!0),className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 font-medium text-lg transition-all hover:scale-105",children:"Cadastrar Primeiro Fornecedor"})]}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(Na,{size:24,className:"text-primary"})}),"Detalhes do Fornecedor"]}),s.jsx("button",{onClick:()=>v(null),className:`p-2 rounded-xl transition-all hover:scale-110 ${t==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(X,{size:24})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center bg-primary/10",children:s.jsx(Na,{size:32,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:w.nome}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${w.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.ativo?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:12,className:"mr-1"}),"Ativo"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{size:12,className:"mr-1"}),"Inativo"]})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>E(w),className:"p-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all hover:scale-110",title:"Editar",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>{se(w),v(null)},className:`p-2 rounded-xl transition-all hover:scale-110 ${w.ativo?"bg-orange-500 text-white hover:bg-orange-600":"bg-green-500 text-white hover:bg-green-600"}`,title:w.ativo?"Desativar":"Ativar",children:w.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-blue-600"}),s.jsx("span",{className:"font-medium",children:"CNPJ/CPF"})]}),s.jsx("button",{onClick:()=>L(w.cnpjCpf,"cnpjCpf"),className:`p-1 rounded-lg transition-all hover:scale-110 ${t==="dark"?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Copiar",children:N==="cnpjCpf"?s.jsx(Check,{size:14,className:"text-green-500"}):s.jsx(ka,{size:14})})]}),s.jsx("p",{className:"text-lg font-mono",children:w.cnpjCpf})]}),s.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qi,{size:16,className:"text-green-600"}),s.jsx("span",{className:"font-medium",children:"Telefone"})]}),s.jsx("button",{onClick:()=>L(w.telefone,"telefone"),className:`p-1 rounded-lg transition-all hover:scale-110 ${t==="dark"?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Copiar",children:N==="telefone"?s.jsx(Check,{size:14,className:"text-green-500"}):s.jsx(ka,{size:14})})]}),s.jsx("p",{className:"text-lg",children:w.telefone})]}),s.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xi,{size:16,className:"text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Email"})]}),s.jsx("button",{onClick:()=>L(w.email,"email"),className:`p-1 rounded-lg transition-all hover:scale-110 ${t==="dark"?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Copiar",children:N==="email"?s.jsx(Check,{size:14,className:"text-green-500"}):s.jsx(ka,{size:14})})]}),s.jsx("p",{className:"text-lg break-all",children:w.email})]}),s.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Calendar,{size:16,className:"text-orange-600"}),s.jsx("span",{className:"font-medium",children:"Data de Cadastro"})]}),s.jsx("p",{className:"text-lg",children:He(new Date(w.criadoEm),"dd/MM/yyyy",{locale:Qe})})]})]}),w.endereco&&s.jsxs("div",{className:`p-4 rounded-xl mt-6 ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mg,{size:16,className:"text-red-600"}),s.jsx("span",{className:"font-medium",children:"Endereço"})]}),s.jsx("button",{onClick:()=>L(w.endereco||"","endereco"),className:`p-1 rounded-lg transition-all hover:scale-110 ${t==="dark"?"hover:bg-gray-600":"hover:bg-gray-200"}`,title:"Copiar",children:N==="endereco"?s.jsx(Check,{size:14,className:"text-green-500"}):s.jsx(ka,{size:14})})]}),s.jsx("p",{className:"text-lg",children:w.endereco})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[s.jsxs("a",{href:`mailto:${w.email}`,className:`flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-all hover:scale-105 ${t==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(Xi,{size:18}),"Enviar Email"]}),s.jsxs("a",{href:`tel:${w.telefone.replace(/\D/g,"")}`,className:`flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-all hover:scale-105 ${t==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(Qi,{size:18}),"Ligar"]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>v(null),className:`px-6 py-3 rounded-xl font-medium ${t==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Fechar"})})]})}),i&&s.jsx(OS,{supplier:l,onSave:M,onClose:()=>{o(!1),d(null)}})]}),s.jsx("footer",{className:`py-8 border-t ${t==="dark"?"border-gray-800 bg-gray-900":"border-gray-200 bg-gray-50"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-8",children:s.jsx("p",{className:`text-center text-sm ${t==="dark"?"text-gray-500":"text-gray-400"}`,children:"Powered by CYBERPIU"})})})]})},zS=({expense:t,onSave:e,onClose:r})=>{const{user:n}=Ln(),{theme:a}=$t(),[i,o]=de.useState({descricao:"",categoria:"fixa",valor:0,dataVencimento:new Date().toISOString().split("T")[0],dataPagamento:"",pago:!1,recorrente:!1,formaPagamento:"dinheiro",parcelas:1,observacoes:"",usuarioId:(n==null?void 0:n.id)||""}),[l,d]=de.useState({}),[h,f]=de.useState(!1),[g,y]=de.useState(12),[p,S]=de.useState([]);de.useEffect(()=>{t&&o({descricao:t.descricao,categoria:t.categoria,valor:t.valor,dataVencimento:t.dataVencimento,dataPagamento:t.dataPagamento||"",pago:t.pago,recorrente:t.recorrente,formaPagamento:t.formaPagamento||"dinheiro",parcelas:t.parcelas||1,observacoes:t.observacoes||"",usuarioId:t.usuarioId})},[t,n]),de.useEffect(()=>{i.recorrente&&_()},[i.dataVencimento,i.recorrente,g]);const _=()=>{if(!i.dataVencimento)return;const A=[],k=new Date(i.dataVencimento);for(let U=1;U<=g;U++){const M=_3(k,U);A.push(He(M,"yyyy-MM-dd"))}S(A)},O=()=>{const A={};if(i.descricao.trim()||(A.descricao="Descrição é obrigatória"),i.valor<=0&&(A.valor="Valor deve ser maior que zero"),i.dataVencimento||(A.dataVencimento="Data de vencimento é obrigatória"),i.pago&&!i.dataPagamento&&(A.dataPagamento="Data de pagamento é obrigatória para despesas pagas"),i.pago&&i.dataPagamento){cr(i.dataVencimento);const k=cr(i.dataPagamento);F6(k,new Date)&&(A.dataPagamento="Data de pagamento não pode ser futura")}return d(A),Object.keys(A).length===0},w=A=>{A.preventDefault(),O()&&e(i)},v=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A),N=[{id:"dinheiro",label:"Dinheiro",icon:gd},{id:"cartao_debito",label:"Cartão Débito",icon:rs},{id:"cartao_credito",label:"Cartão Crédito",icon:rs},{id:"pix",label:"PIX",icon:_d},{id:"cheque",label:"Cheque",icon:pg},{id:"transferencia",label:"Transferência",icon:rs}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:`rounded-3xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl ${a==="dark"?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-2xl flex items-center justify-center",children:s.jsx(ar,{size:28,className:"text-secondary"})}),t?"Editar Despesa":"Nova Despesa"]}),s.jsx("button",{onClick:r,className:`p-2 rounded-xl transition-all hover:scale-110 ${a==="dark"?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Descrição *"]}),s.jsx("input",{type:"text",value:i.descricao,onChange:A=>{o(k=>({...k,descricao:A.target.value})),l.descricao&&d(k=>({...k,descricao:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${l.descricao?"border-red-500":""}`,placeholder:"Ex: Aluguel, Energia, Fornecedor...",required:!0}),l.descricao&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),l.descricao]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-gray-500"}),"Categoria *"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${i.categoria==="fixa"?"border-primary bg-primary/10":a==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"categoria",value:"fixa",checked:i.categoria==="fixa",onChange:()=>o(A=>({...A,categoria:"fixa"})),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i.categoria==="fixa"?"bg-primary text-white":a==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(rh,{size:16})}),s.jsx("span",{className:"font-medium",children:"Fixa"})]})]}),s.jsxs("label",{className:`flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all ${i.categoria==="variavel"?"border-primary bg-primary/10":a==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"categoria",value:"variavel",checked:i.categoria==="variavel",onChange:()=>o(A=>({...A,categoria:"variavel"})),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i.categoria==="variavel"?"bg-primary text-white":a==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(TrendingDown,{size:16})}),s.jsx("span",{className:"font-medium",children:"Variável"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ar,{size:16,className:"text-gray-500"}),"Valor *"]}),s.jsx("input",{type:"number",step:"0.01",value:i.valor,onChange:A=>{o(k=>({...k,valor:parseFloat(A.target.value)||0})),l.valor&&d(k=>({...k,valor:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all text-xl font-bold text-center ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${l.valor?"border-red-500":""} text-red-600`,placeholder:"0,00",required:!0}),l.valor&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),l.valor]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Jr,{size:16,className:"text-gray-500"}),"Data de Vencimento *"]}),s.jsx("input",{type:"date",value:i.dataVencimento,onChange:A=>{o(k=>({...k,dataVencimento:A.target.value})),l.dataVencimento&&d(k=>({...k,dataVencimento:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${l.dataVencimento?"border-red-500":""}`,required:!0}),l.dataVencimento&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),l.dataVencimento]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"pago",checked:i.pago,onChange:A=>o(k=>({...k,pago:A.target.checked})),className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"pago",className:"flex items-center gap-2 text-sm font-medium",children:i.pago?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:16,className:"text-green-600"}),"Despesa já foi paga"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ks,{size:16,className:"text-red-600"}),"Despesa pendente"]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"recorrente",checked:i.recorrente,onChange:A=>{o(k=>({...k,recorrente:A.target.checked})),f(A.target.checked)},className:"h-5 w-5 text-primary focus:ring-primary border-gray-300 rounded"}),s.jsx("label",{htmlFor:"recorrente",className:"flex items-center gap-2 text-sm font-medium",children:i.recorrente?s.jsxs(s.Fragment,{children:[s.jsx(rh,{size:16,className:"text-blue-600"}),"Despesa recorrente (mensal)"]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{size:16,className:"text-gray-600"}),"Despesa única"]})})]}),i.pago&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Jr,{size:16,className:"text-gray-500"}),"Data de Pagamento *"]}),s.jsx("input",{type:"date",value:i.dataPagamento,onChange:A=>{o(k=>({...k,dataPagamento:A.target.value})),l.dataPagamento&&d(k=>({...k,dataPagamento:""}))},className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"} ${l.dataPagamento?"border-red-500":""}`,required:!0}),l.dataPagamento&&s.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center gap-1",children:[s.jsx(Wt,{size:12}),l.dataPagamento]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(rs,{size:16,className:"text-gray-500"}),"Forma de Pagamento"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(A=>{const k=A.icon;return s.jsxs("label",{className:`flex items-center p-3 border-2 rounded-xl cursor-pointer transition-all ${i.formaPagamento===A.id?"border-primary bg-primary/10":a==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"formaPagamento",value:A.id,checked:i.formaPagamento===A.id,onChange:()=>o(U=>({...U,formaPagamento:A.id})),className:"sr-only"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center ${i.formaPagamento===A.id?"bg-primary text-white":a==="dark"?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"}`,children:s.jsx(k,{size:14})}),s.jsx("span",{className:"text-sm",children:A.label})]})]},A.id)})})]})]}),i.formaPagamento==="cartao_credito"&&i.pago&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(rs,{size:16,className:"text-gray-500"}),"Parcelas"]}),s.jsx("select",{value:i.parcelas,onChange:A=>o(k=>({...k,parcelas:parseInt(A.target.value)})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,children:[1,2,3,4,5,6,10,12].map(A=>s.jsxs("option",{value:A,children:[A,"x de ",v(i.valor/A)]},A))})]}),h&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(rh,{size:16,className:"text-gray-500"}),"Recorrência"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("span",{children:"Repetir por"}),s.jsx("select",{value:g,onChange:A=>y(parseInt(A.target.value)),className:`px-4 py-2 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,children:[3,6,12,24].map(A=>s.jsxs("option",{value:A,children:[A," meses"]},A))})]}),s.jsxs("div",{className:`p-4 rounded-xl ${a==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[s.jsx(Jr,{size:16,className:"text-blue-600"}),"Próximos Vencimentos"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-32 overflow-y-auto",children:[p.slice(0,6).map((A,k)=>s.jsx("div",{className:`p-2 rounded-lg text-sm ${a==="dark"?"bg-gray-800":"bg-white"}`,children:He(new Date(A),"dd/MM/yyyy",{locale:Qe})},k)),p.length>6&&s.jsxs("div",{className:`p-2 rounded-lg text-sm text-center ${a==="dark"?"bg-gray-800":"bg-white"}`,children:["+",p.length-6," datas"]})]})]}),s.jsx("div",{className:`mt-3 p-3 rounded-lg ${a==="dark"?"bg-blue-900/20 text-blue-200":"bg-blue-50 text-blue-800"}`,children:s.jsxs("p",{className:"text-xs flex items-center gap-1",children:[s.jsx(Wt,{size:12}),"Esta opção apenas marca a despesa como recorrente. Você precisará registrar os pagamentos mensalmente."]})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(Xt,{size:16,className:"text-gray-500"}),"Observações"]}),s.jsx("textarea",{value:i.observacoes,onChange:A=>o(k=>({...k,observacoes:A.target.value})),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${a==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`,rows:3,placeholder:"Observações adicionais sobre a despesa..."})]})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:r,className:`flex-1 border-2 py-4 px-6 rounded-2xl font-bold transition-all hover:scale-105 ${a==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 bg-secondary text-white py-4 px-6 rounded-2xl font-bold hover:opacity-90 transition-all hover:scale-105 flex items-center justify-center gap-3",children:[s.jsx(Sd,{size:20}),t?"Atualizar":"Criar"," Despesa"]})]})]})]})})},$S=()=>{const{theme:t}=$t();Rl();const{user:e}=Ln(),[r,n]=de.useState([]),[a,i]=de.useState(!1),[o,l]=de.useState(!1),[d,h]=de.useState(null),[f,g]=de.useState(""),[y,p]=de.useState("all"),[S,_]=de.useState("all"),[O,w]=de.useState("all"),[v,N]=de.useState("date"),[A,k]=de.useState(!1);de.useEffect(()=>{U()},[]);const U=async()=>{i(!0);try{const b=tt.getAllExpenses();n(b)}catch(b){console.error("Erro ao carregar despesas:",b)}finally{i(!1)}},M=b=>{if(!e)return;const q=tt.createExpense({...b,usuarioId:e.id});n([...r,q]),l(!1)},E=b=>{d&&(tt.updateExpense(d.id,b),n(r.map(q=>q.id===d.id?{...q,...b}:q)),l(!1),h(null))},H=b=>{confirm(`Deseja excluir a despesa "${b.descricao}"?`)&&(tt.deleteExpense(b.id),n(r.filter(q=>q.id!==b.id)))},se=b=>{if(!b.pago){const q=new Date().toISOString().split("T")[0];tt.updateExpense(b.id,{pago:!0,dataPagamento:q}),n(r.map(F=>F.id===b.id?{...F,pago:!0,dataPagamento:q}:F))}},T=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),L=b=>{const q=cr(b);return Wn(q)?"Hoje":mf(q)?"Ontem":Kc(q,sh(new Date,1))?"Amanhã":He(q,"dd/MM/yyyy",{locale:Qe})},V=r.filter(b=>{const q=b.descricao.toLowerCase().includes(f.toLowerCase())||b.observacoes&&b.observacoes.toLowerCase().includes(f.toLowerCase()),F=S==="all"||S==="paid"&&b.pago||S==="pending"&&!b.pago,te=O==="all"||O==="fixed"&&b.categoria==="fixa"||O==="variable"&&b.categoria==="variavel",Z=cr(b.dataVencimento);let pe=!0;return y==="today"?pe=Wn(Z):y==="tomorrow"?pe=Kc(Z,sh(new Date,1)):y==="week"?pe=M6(Z):y==="month"?pe=O6(Z):y==="overdue"&&(pe=zu(Z)&&!b.pago),q&&F&&te&&pe}).sort((b,q)=>v==="date"?new Date(b.dataVencimento).getTime()-new Date(q.dataVencimento).getTime():v==="value"?q.valor-b.valor:b.descricao.localeCompare(q.descricao)),Y=V.filter(b=>!b.pago).reduce((b,q)=>b+q.valor,0),re=V.filter(b=>b.pago).reduce((b,q)=>b+q.valor,0),ne=Y+re,R=r.filter(b=>!b.pago&&zu(cr(b.dataVencimento))&&!Wn(cr(b.dataVencimento))),W=r.filter(b=>!b.pago&&Wn(cr(b.dataVencimento))),G=r.filter(b=>!b.pago&&Kc(cr(b.dataVencimento),sh(new Date,1)));r.filter(b=>b.recorrente);const ue=async()=>{k(!0);try{const b=localStorage.getItem("company_data"),q=b?JSON.parse(b):null,F=new We,te=F.internal.pageSize.width;let Z=20;q&&(q.nomeFantasia||q.razaoSocial)&&(F.setFontSize(14),F.text(q.nomeFantasia||q.razaoSocial,te/2,Z,{align:"center"}),Z+=8,q.cnpj&&(F.setFontSize(10),F.text(`CNPJ: ${q.cnpj}`,te/2,Z,{align:"center"}),Z+=6),Z+=5),F.setFontSize(16),F.text("RELATÓRIO DE DESPESAS",te/2,Z,{align:"center"}),Z+=10,F.setFontSize(10),F.text(`Data de geração: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}`,te/2,Z,{align:"center"}),Z+=15,F.setFontSize(12),F.text("RESUMO FINANCEIRO",20,Z),Z+=8,F.setFontSize(10),F.text(`Total Pendente: ${T(Y)}`,20,Z),Z+=6,F.text(`Total Pago: ${T(re)}`,20,Z),Z+=6,F.text(`Total Geral: ${T(ne)}`,20,Z),Z+=15,F.setFontSize(12),F.text("DESPESAS",20,Z),Z+=10,F.setFontSize(9),F.setFont("helvetica","bold"),F.text("Descrição",20,Z),F.text("Vencimento",90,Z),F.text("Valor",130,Z),F.text("Status",160,Z),Z+=6,F.setDrawColor(200,200,200),F.setLineWidth(.1),F.line(20,Z,190,Z),Z+=4,F.setFont("helvetica","normal"),V.forEach(K=>{if(Z>270&&(F.addPage(),Z=20,F.setFont("helvetica","bold"),F.text("Descrição",20,Z),F.text("Vencimento",90,Z),F.text("Valor",130,Z),F.text("Status",160,Z),Z+=6,F.setDrawColor(200,200,200),F.setLineWidth(.1),F.line(20,Z,190,Z),Z+=4,F.setFont("helvetica","normal")),F.text(K.descricao,20,Z),F.text(He(cr(K.dataVencimento),"dd/MM/yyyy",{locale:Qe}),90,Z),F.text(T(K.valor),130,Z),K.pago)F.setTextColor(0,128,0),F.text("PAGO",160,Z);else{const ce=cr(K.dataVencimento);zu(ce)&&!Wn(ce)?(F.setTextColor(255,0,0),F.text("VENCIDO",160,Z)):(F.setTextColor(255,165,0),F.text("PENDENTE",160,Z))}F.setTextColor(0,0,0),Z+=8});const pe=F.internal.pageSize.height-10;F.setFontSize(8),F.text("Powered by CYBERPIU",te/2,pe,{align:"center"}),F.save(`despesas-${He(new Date,"ddMMyyyy-HHmm")}.pdf`)}catch(b){console.error("Erro ao gerar PDF:",b),alert("Erro ao gerar o relatório. Tente novamente.")}finally{k(!1)}};return s.jsx("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(ar,{size:40,className:"text-secondary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-secondary mb-3",children:"Financeiro"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Controle de despesas e contas a pagar"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:ue,disabled:A,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg`,children:A?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Relatório PDF"]})}),s.jsxs("button",{onClick:()=>{h(null),l(!0)},className:"bg-secondary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(Bl,{size:24}),"Nova Despesa"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total Pendente"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:T(Y)})]}),s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-orange-100",children:s.jsx(ea,{size:28,className:"text-orange-600"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("p",{className:`text-xs ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[V.filter(b=>!b.pago).length," despesas pendentes"]})})]}),s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total Pago"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:T(re)})]}),s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-green-100",children:s.jsx(dt,{size:28,className:"text-green-600"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("p",{className:`text-xs ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[V.filter(b=>b.pago).length," despesas pagas"]})})]}),s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total Geral"}),s.jsx("p",{className:"text-3xl font-bold text-secondary",children:T(ne)})]}),s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-secondary/10",children:s.jsx(ar,{size:28,className:"text-secondary"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("p",{className:`text-xs ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[V.length," despesas no total"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100",children:s.jsx(Wt,{size:24,className:"text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Vencidas"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Despesas em atraso"})]})]}),R.length>0?s.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:[R.slice(0,3).map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-sm",children:b.descricao}),s.jsx("span",{className:"font-bold text-red-600",children:T(b.valor)})]}),s.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[s.jsxs("span",{className:"text-gray-500",children:["Vencimento: ",L(b.dataVencimento)]}),s.jsx("button",{onClick:()=>se(b),className:"text-green-600 hover:text-green-800",children:"Pagar"})]})]},b.id)),R.length>3&&s.jsxs("div",{className:"text-center text-sm text-gray-500",children:["+ ",R.length-3," despesas vencidas"]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(dt,{size:32,className:"mx-auto mb-2 text-green-500"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma despesa vencida"})]})]}),s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-orange-100",children:s.jsx(ea,{size:24,className:"text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Hoje"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Vencendo hoje"})]})]}),W.length>0?s.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:[W.slice(0,3).map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-sm",children:b.descricao}),s.jsx("span",{className:"font-bold text-orange-600",children:T(b.valor)})]}),s.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[s.jsx("span",{className:"text-gray-500",children:"Vencimento: Hoje"}),s.jsx("button",{onClick:()=>se(b),className:"text-green-600 hover:text-green-800",children:"Pagar"})]})]},b.id)),W.length>3&&s.jsxs("div",{className:"text-center text-sm text-gray-500",children:["+ ",W.length-3," despesas para hoje"]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(dt,{size:32,className:"mx-auto mb-2 text-green-500"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma despesa para hoje"})]})]}),s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-blue-100",children:s.jsx(Jr,{size:24,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Amanhã"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Vencendo amanhã"})]})]}),G.length>0?s.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:[G.slice(0,3).map(b=>s.jsxs("div",{className:`p-3 rounded-lg ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-sm",children:b.descricao}),s.jsx("span",{className:"font-bold text-blue-600",children:T(b.valor)})]}),s.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[s.jsx("span",{className:"text-gray-500",children:"Vencimento: Amanhã"}),s.jsx("button",{onClick:()=>se(b),className:"text-green-600 hover:text-green-800",children:"Pagar"})]})]},b.id)),G.length>3&&s.jsxs("div",{className:"text-center text-sm text-gray-500",children:["+ ",G.length-3," despesas para amanhã"]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(dt,{size:32,className:"mx-auto mb-2 text-green-500"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma despesa para amanhã"})]})]})]}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-4 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar despesas...",value:f,onChange:b=>g(b.target.value),className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:y,onChange:b=>p(b.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todas as datas"}),s.jsx("option",{value:"today",children:"Hoje"}),s.jsx("option",{value:"tomorrow",children:"Amanhã"}),s.jsx("option",{value:"week",children:"Esta semana"}),s.jsx("option",{value:"month",children:"Este mês"}),s.jsx("option",{value:"overdue",children:"Vencidas"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:S,onChange:b=>_(b.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos os status"}),s.jsx("option",{value:"pending",children:"Pendentes"}),s.jsx("option",{value:"paid",children:"Pagas"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ns,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:O,onChange:b=>w(b.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos os tipos"}),s.jsx("option",{value:"fixed",children:"Fixas"}),s.jsx("option",{value:"variable",children:"Variáveis"})]})]}),s.jsx("button",{onClick:U,className:`p-3 rounded-xl transition-all hover:scale-110 ${t==="dark"?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}`,title:"Atualizar",children:s.jsx(Vt,{size:20,className:a?"animate-spin":""})})]})]})}),s.jsxs("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Xt,{size:24,className:"text-secondary"}),"Despesas"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:[V.length," despesas encontradas"]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:ue,disabled:A,className:"bg-primary text-white px-4 py-2 rounded-xl hover:opacity-90 flex items-center gap-2 text-sm font-medium disabled:opacity-50",children:A?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:16,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:16}),"PDF"]})})})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:V.length>0?s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:`${t==="dark"?"bg-gray-700":"bg-gray-50"} sticky top-0`,children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Descrição"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Categoria"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Vencimento"}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold",children:"Valor"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Pagamento"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold",children:"Ações"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:V.map(b=>{const q=cr(b.dataVencimento),F=zu(q)&&!Wn(q)&&!b.pago,te=Wn(q)&&!b.pago,Z=b.pago?"bg-green-100 text-green-800":F?"bg-red-100 text-red-800":te?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800",pe=b.pago?s.jsx(dt,{size:12,className:"mr-1"}):F?s.jsx(Ks,{size:12,className:"mr-1"}):te?s.jsx(ea,{size:12,className:"mr-1"}):s.jsx(Jr,{size:12,className:"mr-1"}),K=b.pago?"Pago":F?"Vencido":te?"Vence hoje":"A vencer",ce=b.pago&&b.formaPagamento?{dinheiro:"Dinheiro",cartao_debito:"Cartão Débito",cartao_credito:"Cartão Crédito",pix:"PIX",cheque:"Cheque",transferencia:"Transferência"}[b.formaPagamento]:"-",he=b.pago&&b.formaPagamento?{dinheiro:s.jsx(gd,{size:14,className:"text-green-600"}),cartao_debito:s.jsx(rs,{size:14,className:"text-blue-600"}),cartao_credito:s.jsx(rs,{size:14,className:"text-purple-600"}),pix:s.jsx(_d,{size:14,className:"text-cyan-600"}),cheque:s.jsx(pg,{size:14,className:"text-yellow-600"}),transferencia:s.jsx(rs,{size:14,className:"text-indigo-600"})}[b.formaPagamento]:null;return s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${b.categoria==="fixa"?"bg-blue-100":"bg-purple-100"}`,children:b.categoria==="fixa"?s.jsx(rh,{size:20,className:"text-blue-600"}):s.jsx(pi,{size:20,className:"text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.descricao}),b.recorrente&&s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Recorrente"})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm capitalize",children:b.categoria}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:L(b.dataVencimento)}),s.jsx("span",{className:"text-xs text-gray-500",children:He(cr(b.dataVencimento),"dd/MM/yyyy",{locale:Qe})})]})}),s.jsx("td",{className:"px-6 py-4 text-right font-medium",children:T(b.valor)}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z}`,children:[pe,K]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:b.pago&&b.dataPagamento?s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[he,s.jsx("span",{children:ce})]}),s.jsx("span",{className:"text-xs text-gray-500",children:He(cr(b.dataPagamento),"dd/MM/yyyy",{locale:Qe})})]}):s.jsx("span",{className:"text-gray-500",children:"-"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[!b.pago&&s.jsx("button",{onClick:()=>se(b),className:"p-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all",title:"Marcar como pago",children:s.jsx(dt,{size:16})}),s.jsx("button",{onClick:()=>{h(b),l(!0)},className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all",title:"Editar",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>H(b),className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all",title:"Excluir",children:s.jsx(ws,{size:16})})]})})]},b.id)})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xt,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma despesa encontrada"}),s.jsx("p",{className:"text-sm text-gray-500",children:f||y!=="all"||S!=="all"||O!=="all"?"Tente ajustar os filtros de busca":"Cadastre sua primeira despesa"})]})})]}),o&&s.jsx(zS,{expense:d,onSave:d?E:M,onClose:()=>{l(!1),h(null)}}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Controle Financeiro • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},RS=()=>{const{theme:t}=$t(),[e,r]=de.useState({razaoSocial:"",nomeFantasia:"",cnpj:"",inscricaoEstadual:"",inscricaoMunicipal:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",telefone:"",email:"",website:"",logo:"",observacoes:""});de.useEffect(()=>{n()},[]);const n=()=>{const f=localStorage.getItem("company_data");f&&r(JSON.parse(f))},a=()=>{localStorage.setItem("company_data",JSON.stringify(e)),alert("Dados da empresa salvos com sucesso!")},i=f=>{var y;const g=(y=f.target.files)==null?void 0:y[0];if(g){const p=new FileReader;p.onload=S=>{var O;const _=(O=S.target)==null?void 0:O.result;r(w=>({...w,logo:_})),localStorage.setItem("company_logo",_)},p.readAsDataURL(g)}},o=f=>f.replace(/\D/g,"").replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"),l=f=>f.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),d=f=>{const g=f.replace(/\D/g,"");return g.length<=10?g.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):g.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},h=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];return s.jsx("div",{className:`p-6 min-h-screen ${t==="dark"?"bg-gray-900 text-white":"bg-gray-50 text-gray-800"}`,children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Na,{size:32,style:{color:"#0d214f"}}),"Dados da Empresa"]}),s.jsxs("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:["Configure as informações da sua empresa • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]}),s.jsx("div",{className:`mt-4 p-4 rounded-lg border-l-4 border-blue-500 ${t==="dark"?"bg-blue-900/20 text-blue-200":"bg-blue-50 text-blue-800"}`,children:s.jsxs("p",{className:"text-sm",children:["ℹ️ ",s.jsx("strong",{children:"Informação:"})," Todos os campos são opcionais. Preencha apenas as informações que desejar exibir no sistema."]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(Nn,{size:24,style:{color:"#ea580c"}}),"Logo da Empresa"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-48 h-48 mx-auto mb-6 rounded-xl border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:e.logo?s.jsx("img",{src:e.logo,alt:"Logo",className:"w-full h-full rounded-xl object-cover"}):s.jsx(Na,{size:64,className:"text-gray-400"})}),s.jsx("input",{type:"file",accept:"image/*",onChange:i,className:"hidden",id:"logo-upload"}),s.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-3 px-6 py-3 rounded-xl hover:opacity-90 cursor-pointer font-medium text-white",style:{backgroundColor:"#ea580c"},children:[s.jsx(Nn,{size:20}),"Escolher Logo"]}),s.jsx("p",{className:`text-sm mt-3 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"PNG, JPG até 2MB. Recomendado: 400x400px"})]})]}),s.jsxs("div",{className:`lg:col-span-2 p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(Xt,{size:24,style:{color:"#0d214f"}}),"Informações da Empresa"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Razão Social"}),s.jsx("input",{type:"text",value:e.razaoSocial,onChange:f=>r(g=>({...g,razaoSocial:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Ex: Banca de Jornal ABC Ltda"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nome Fantasia",s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(aparecerá no PDV)"})]}),s.jsx("input",{type:"text",value:e.nomeFantasia,onChange:f=>r(g=>({...g,nomeFantasia:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Ex: Banca do João"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"CNPJ"}),s.jsx("input",{type:"text",value:e.cnpj,onChange:f=>r(g=>({...g,cnpj:o(f.target.value)})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"00.000.000/0000-00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inscrição Estadual"}),s.jsx("input",{type:"text",value:e.inscricaoEstadual,onChange:f=>r(g=>({...g,inscricaoEstadual:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"000.000.000.000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inscrição Municipal"}),s.jsx("input",{type:"text",value:e.inscricaoMunicipal,onChange:f=>r(g=>({...g,inscricaoMunicipal:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"000000000"})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mg,{size:20}),"Endereço"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Logradouro"}),s.jsx("input",{type:"text",value:e.endereco,onChange:f=>r(g=>({...g,endereco:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Ex: Rua das Flores"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Número"}),s.jsx("input",{type:"text",value:e.numero,onChange:f=>r(g=>({...g,numero:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"123"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Complemento"}),s.jsx("input",{type:"text",value:e.complemento,onChange:f=>r(g=>({...g,complemento:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Sala 1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bairro"}),s.jsx("input",{type:"text",value:e.bairro,onChange:f=>r(g=>({...g,bairro:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Centro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cidade"}),s.jsx("input",{type:"text",value:e.cidade,onChange:f=>r(g=>({...g,cidade:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"São Paulo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Estado"}),s.jsxs("select",{value:e.estado,onChange:f=>r(g=>({...g,estado:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"",children:"Selecione..."}),h.map(f=>s.jsx("option",{value:f,children:f},f))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"CEP"}),s.jsx("input",{type:"text",value:e.cep,onChange:f=>r(g=>({...g,cep:l(f.target.value)})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"00000-000"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Qi,{size:20}),"Contato"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telefone"}),s.jsx("input",{type:"text",value:e.telefone,onChange:f=>r(g=>({...g,telefone:d(f.target.value)})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),s.jsx("input",{type:"email",value:e.email,onChange:f=>r(g=>({...g,email:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"contato@empresa.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Website"}),s.jsx("input",{type:"url",value:e.website,onChange:f=>r(g=>({...g,website:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"https://www.empresa.com"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Observações"}),s.jsx("textarea",{value:e.observacoes,onChange:f=>r(g=>({...g,observacoes:f.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,rows:4,placeholder:"Informações adicionais sobre a empresa..."})]}),s.jsx("div",{className:"border-t pt-6",children:s.jsxs("button",{onClick:a,className:"w-full text-white py-4 px-6 rounded-xl hover:opacity-90 flex items-center justify-center gap-3 font-medium text-lg",style:{backgroundColor:"#0d214f"},children:[s.jsx(Sd,{size:24}),"Salvar Dados da Empresa"]})})]})]})]}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Dados da Empresa • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},qS=({user:t,onSave:e,onClose:r})=>{const{theme:n}=$t(),[a,i]=de.useState({nome:"",usuario:"",senha:"",confirmSenha:"",tipo:"vendedor",ativo:!0}),[o,l]=de.useState(!1),[d,h]=de.useState(!1);de.useEffect(()=>{t&&i({nome:t.nome,usuario:t.usuario,senha:"",confirmSenha:"",tipo:t.tipo,ativo:t.ativo})},[t]);const f=y=>{if(y.preventDefault(),!t&&a.senha!==a.confirmSenha){alert("As senhas não coincidem!");return}if(!t&&a.senha.length<6){alert("A senha deve ter pelo menos 6 caracteres!");return}const p={nome:a.nome,usuario:a.usuario,senha:a.senha||(t==null?void 0:t.senha)||"",tipo:a.tipo,ativo:a.ativo};e(p)},g=[{value:"vendedor",label:"Vendedor",description:"Acesso ao PDV e vendas"},{value:"gerente",label:"Gerente",description:"Acesso a relatórios e gestão"},{value:"administrador",label:"Administrador",description:"Acesso total ao sistema"}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:`rounded-xl p-8 w-full max-w-md shadow-2xl ${n==="dark"?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx(uf,{size:28,style:{color:"#0d214f"}}),t?"Editar Usuário":"Novo Usuário"]}),s.jsx("button",{onClick:r,className:`${n==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"}`,children:s.jsx(en,{size:24})})]}),s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nome Completo *"}),s.jsx("input",{type:"text",value:a.nome,onChange:y=>i(p=>({...p,nome:y.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${n==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Ex: João Silva",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nome de Usuário *"}),s.jsx("input",{type:"text",value:a.usuario,onChange:y=>i(p=>({...p,usuario:y.target.value.toLowerCase()})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${n==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Ex: joao.silva",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:t?"Nova Senha (deixe em branco para manter)":"Senha *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o?"text":"password",value:a.senha,onChange:y=>i(p=>({...p,senha:y.target.value})),className:`w-full px-4 py-3 pr-12 border rounded-xl focus:ring-2 focus:ring-blue-500 ${n==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Mínimo 6 caracteres",required:!t}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:o?s.jsx(Gs,{size:20}):s.jsx(Kr,{size:20})})]})]}),!t&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirmar Senha *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:d?"text":"password",value:a.confirmSenha,onChange:y=>i(p=>({...p,confirmSenha:y.target.value})),className:`w-full px-4 py-3 pr-12 border rounded-xl focus:ring-2 focus:ring-blue-500 ${n==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"Confirme a senha",required:!0}),s.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:d?s.jsx(Gs,{size:20}):s.jsx(Kr,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-3",children:"Tipo de Usuário *"}),s.jsx("div",{className:"space-y-3",children:g.map(y=>s.jsxs("label",{className:`flex items-center p-4 border rounded-xl cursor-pointer transition-all ${a.tipo===y.value?"border-blue-500 bg-blue-50":n==="dark"?"border-gray-600 hover:border-gray-500":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"tipo",value:y.value,checked:a.tipo===y.value,onChange:p=>i(S=>({...S,tipo:p.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kn,{size:16,className:y.value==="administrador"?"text-red-600":y.value==="gerente"?"text-blue-600":"text-green-600"}),s.jsx("span",{className:"font-medium",children:y.label})]}),s.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-400":"text-gray-600"}`,children:y.description})]})]},y.value))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"ativo",checked:a.ativo,onChange:y=>i(p=>({...p,ativo:y.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"ativo",className:"ml-2 block text-sm",children:"Usuário ativo"})]}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"button",onClick:r,className:`flex-1 border py-3 px-6 rounded-xl font-medium ${n==="dark"?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancelar"}),s.jsxs("button",{type:"submit",className:"flex-1 text-white py-3 px-6 rounded-xl font-medium hover:opacity-90",style:{backgroundColor:"#0d214f"},children:[t?"Atualizar":"Criar"," Usuário"]})]})]})]})})},BS=()=>{const{theme:t}=$t(),{user:e}=Ln(),[r,n]=de.useState([]),[a,i]=de.useState(!1),[o,l]=de.useState(null),[d,h]=de.useState("");de.useEffect(()=>{f()},[]);const f=()=>{n(tt.getAllUsers())},g=v=>{o?tt.updateUser(o.id,v):tt.createUser(v),f(),i(!1),l(null)},y=v=>{l(v),i(!0)},p=v=>{if(v.id===(e==null?void 0:e.id)){alert("Você não pode desativar seu próprio usuário!");return}tt.updateUser(v.id,{ativo:!v.ativo}),f()},S=v=>{if(v.id===(e==null?void 0:e.id)){alert("Você não pode excluir seu próprio usuário!");return}confirm(`Deseja excluir o usuário "${v.nome}"?`)&&(tt.updateUser(v.id,{ativo:!1}),f())},_=r.filter(v=>v.nome.toLowerCase().includes(d.toLowerCase())||v.usuario.toLowerCase().includes(d.toLowerCase())||v.tipo.toLowerCase().includes(d.toLowerCase())),O=v=>{switch(v){case"administrador":return"bg-red-100 text-red-800";case"gerente":return"bg-blue-100 text-blue-800";case"vendedor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=v=>{switch(v){case"administrador":return s.jsx(Kn,{size:16,className:"text-red-600"});case"gerente":return s.jsx(R0,{size:16,className:"text-blue-600"});case"vendedor":return s.jsx(jn,{size:16,className:"text-green-600"});default:return s.jsx(jn,{size:16,className:"text-gray-600"})}};return s.jsx("div",{className:`p-6 min-h-screen ${t==="dark"?"bg-gray-900 text-white":"bg-gray-50 text-gray-800"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(jn,{size:32,style:{color:"#0d214f"}}),"Gestão de Usuários"]}),s.jsxs("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:["Controle de usuários e permissões do sistema • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"text-white px-6 py-3 rounded-xl hover:opacity-90 flex items-center gap-2 font-medium shadow-lg",style:{backgroundColor:"#0d214f"},children:[s.jsx(Bl,{size:20}),"Novo Usuário"]})]}),s.jsx("div",{className:`rounded-xl shadow-lg mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Buscar por nome, usuário ou tipo...",value:d,onChange:v=>h(v.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})})})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total de Usuários"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#0d214f"},children:r.length})]}),s.jsx(jn,{className:"text-blue-500",size:24})]})}),s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuários Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(v=>v.ativo).length})]}),s.jsx(R0,{className:"text-green-500",size:24})]})}),s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administradores"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.filter(v=>v.tipo==="administrador"&&v.ativo).length})]}),s.jsx(Kn,{className:"text-red-500",size:24})]})}),s.jsx("div",{className:`p-6 rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Vendedores"}),s.jsx("p",{className:"text-2xl font-bold",style:{color:"#ea580c"},children:r.filter(v=>v.tipo==="vendedor"&&v.ativo).length})]}),s.jsx(jn,{className:"text-orange-500",size:24})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:_.map(v=>s.jsxs("div",{className:`p-6 rounded-xl shadow-lg border-l-4 transition-all hover:shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"} ${v.ativo?"border-green-500":"border-red-500"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:v.ativo?"#0d214f":"#6b7280"},children:w(v.tipo)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:v.nome}),s.jsxs("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:["@",v.usuario]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>y(v),className:"text-blue-600 hover:text-blue-800",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>p(v),className:v.ativo?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800",disabled:v.id===(e==null?void 0:e.id),children:v.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})}),s.jsx("button",{onClick:()=>S(v),className:"text-red-600 hover:text-red-800",disabled:v.id===(e==null?void 0:e.id),children:s.jsx(ws,{size:16})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${O(v.tipo)}`,children:[w(v.tipo),s.jsx("span",{className:"ml-1 capitalize",children:v.tipo})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.ativo?"Ativo":"Inativo"})]}),v.id===(e==null?void 0:e.id)&&s.jsx("div",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full text-center",children:"Usuário Atual"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("span",{className:`text-xs ${t==="dark"?"text-gray-400":"text-gray-500"}`,children:["Criado em ",new Date(v.criadoEm).toLocaleDateString("pt-BR")]})})]},v.id))}),s.jsxs("div",{className:`rounded-xl shadow-lg ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-xl font-bold",children:"Todos os Usuários"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:t==="dark"?"bg-gray-700":"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Usuário"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Login"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Tipo"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Criado em"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium",children:"Ações"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:_.map(v=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:v.ativo?"#0d214f":"#6b7280"},children:w(v.tipo)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.nome}),v.id===(e==null?void 0:e.id)&&s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Você"})]})]})}),s.jsxs("td",{className:"px-6 py-4 text-sm font-mono",children:["@",v.usuario]}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${O(v.tipo)}`,children:[w(v.tipo),s.jsx("span",{className:"ml-1 capitalize",children:v.tipo})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v.ativo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[v.ativo?s.jsx(R0,{size:12,className:"mr-1"}):s.jsx(w3,{size:12,className:"mr-1"}),v.ativo?"Ativo":"Inativo"]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:new Date(v.criadoEm).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx("button",{onClick:()=>y(v),className:"text-blue-600 hover:text-blue-800",children:s.jsx(Ys,{size:16})}),s.jsx("button",{onClick:()=>p(v),className:v.ativo?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800",disabled:v.id===(e==null?void 0:e.id),children:v.ativo?s.jsx(Gs,{size:16}):s.jsx(Kr,{size:16})}),s.jsx("button",{onClick:()=>S(v),className:"text-red-600 hover:text-red-800",disabled:v.id===(e==null?void 0:e.id),children:s.jsx(ws,{size:16})})]})})]},v.id))})]})})]}),a&&s.jsx(qS,{user:o,onSave:g,onClose:()=>{i(!1),l(null)}}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Gestão de Usuários • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},US=()=>{const{theme:t}=$t();Rl();const[e,r]=de.useState(!1),[n,a]=de.useState(""),[i,o]=de.useState("all"),l=[{id:"pdv_access",name:"Acessar PDV",description:"Acesso ao sistema de vendas",module:"PDV"},{id:"pdv_sell",name:"Realizar Vendas",description:"Efetuar vendas no PDV",module:"PDV"},{id:"pdv_cancel",name:"Cancelar Vendas",description:"Cancelar vendas realizadas",module:"PDV"},{id:"pdv_discount",name:"Aplicar Descontos",description:"Aplicar descontos nas vendas",module:"PDV"},{id:"pdv_price_override",name:"Alterar Preços",description:"Alterar preços durante a venda",module:"PDV"},{id:"products_view",name:"Visualizar Produtos",description:"Ver lista de produtos",module:"Produtos"},{id:"products_create",name:"Criar Produtos",description:"Adicionar novos produtos",module:"Produtos"},{id:"products_edit",name:"Editar Produtos",description:"Modificar produtos existentes",module:"Produtos"},{id:"products_delete",name:"Excluir Produtos",description:"Remover produtos do sistema",module:"Produtos"},{id:"products_import",name:"Importar Produtos",description:"Importar produtos em massa",module:"Produtos"},{id:"products_export",name:"Exportar Produtos",description:"Exportar lista de produtos",module:"Produtos"},{id:"categories_view",name:"Visualizar Categorias",description:"Ver lista de categorias",module:"Categorias"},{id:"categories_create",name:"Criar Categorias",description:"Adicionar novas categorias",module:"Categorias"},{id:"categories_edit",name:"Editar Categorias",description:"Modificar categorias existentes",module:"Categorias"},{id:"categories_delete",name:"Excluir Categorias",description:"Remover categorias do sistema",module:"Categorias"},{id:"suppliers_view",name:"Visualizar Fornecedores",description:"Ver lista de fornecedores",module:"Fornecedores"},{id:"suppliers_create",name:"Criar Fornecedores",description:"Adicionar novos fornecedores",module:"Fornecedores"},{id:"suppliers_edit",name:"Editar Fornecedores",description:"Modificar fornecedores existentes",module:"Fornecedores"},{id:"suppliers_delete",name:"Excluir Fornecedores",description:"Remover fornecedores do sistema",module:"Fornecedores"},{id:"stock_view",name:"Visualizar Estoque",description:"Ver níveis de estoque",module:"Estoque"},{id:"stock_adjust",name:"Ajustar Estoque",description:"Fazer ajustes no estoque",module:"Estoque"},{id:"stock_transfer",name:"Transferir Estoque",description:"Transferir produtos entre locais",module:"Estoque"},{id:"stock_inventory",name:"Inventário",description:"Realizar contagem de inventário",module:"Estoque"},{id:"financial_view",name:"Visualizar Financeiro",description:"Ver dados financeiros",module:"Financeiro"},{id:"financial_expenses",name:"Gerenciar Despesas",description:"Cadastrar e editar despesas",module:"Financeiro"},{id:"financial_revenue",name:"Gerenciar Receitas",description:"Cadastrar e editar receitas",module:"Financeiro"},{id:"cash_open",name:"Abrir Caixa",description:"Abrir sessões de caixa",module:"Financeiro"},{id:"cash_close",name:"Fechar Caixa",description:"Fechar sessões de caixa",module:"Financeiro"},{id:"cash_movements",name:"Movimentações",description:"Registrar entradas e saídas",module:"Financeiro"},{id:"reports_sales",name:"Relatórios de Vendas",description:"Gerar relatórios de vendas",module:"Relatórios"},{id:"reports_financial",name:"Relatórios Financeiros",description:"Gerar relatórios financeiros",module:"Relatórios"},{id:"reports_products",name:"Relatórios de Produtos",description:"Gerar relatórios de produtos",module:"Relatórios"},{id:"reports_cash",name:"Relatórios de Caixa",description:"Gerar relatórios de caixa",module:"Relatórios"},{id:"reports_export",name:"Exportar Relatórios",description:"Exportar relatórios em PDF/Excel",module:"Relatórios"},{id:"dashboard_view",name:"Visualizar Dashboard",description:"Acesso ao dashboard gerencial",module:"Dashboard"},{id:"dashboard_sales",name:"Métricas de Vendas",description:"Visualizar métricas de vendas",module:"Dashboard"},{id:"dashboard_financial",name:"Métricas Financeiras",description:"Visualizar métricas financeiras",module:"Dashboard"},{id:"dashboard_stock",name:"Métricas de Estoque",description:"Visualizar métricas de estoque",module:"Dashboard"},{id:"settings_company",name:"Dados da Empresa",description:"Editar dados da empresa",module:"Configurações"},{id:"settings_users",name:"Gerenciar Usuários",description:"Criar e editar usuários",module:"Configurações"},{id:"settings_permissions",name:"Gerenciar Permissões",description:"Configurar permissões",module:"Configurações"},{id:"settings_appearance",name:"Aparência",description:"Personalizar aparência",module:"Configurações"},{id:"settings_backup",name:"Backup",description:"Fazer backup dos dados",module:"Configurações"},{id:"settings_notifications",name:"Notificações",description:"Configurar notificações",module:"Configurações"},{id:"settings_tutorial",name:"Tutorial",description:"Acessar tutoriais do sistema",module:"Configurações"}],d=()=>[{id:"vendedor",name:"Vendedor",description:"Acesso básico para vendas",color:"#10B981",icon:jn,permissions:["pdv_access","pdv_sell","products_view","stock_view","categories_view","settings_tutorial"]},{id:"gerente",name:"Gerente",description:"Acesso a vendas e relatórios",color:"#3B82F6",icon:Th,permissions:["pdv_access","pdv_sell","pdv_cancel","pdv_discount","pdv_price_override","products_view","products_create","products_edit","products_import","products_export","categories_view","categories_create","categories_edit","suppliers_view","suppliers_create","suppliers_edit","stock_view","stock_adjust","stock_inventory","financial_view","financial_expenses","financial_revenue","cash_open","cash_close","cash_movements","reports_sales","reports_financial","reports_products","reports_cash","reports_export","dashboard_view","dashboard_sales","dashboard_financial","dashboard_stock","settings_tutorial"]},{id:"administrador",name:"Administrador",description:"Acesso total ao sistema",color:"#EF4444",icon:Kn,permissions:l.map(k=>k.id)}],[h,f]=de.useState(d()),[g,y]=de.useState(null),[p,S]=de.useState(!1);de.useEffect(()=>{const k=localStorage.getItem("pdv_roles_permissions");if(k)try{const U=JSON.parse(k),E=d().map(H=>{const se=U.find(T=>T.id===H.id);return se?{...H,permissions:se.permissions}:H});f(E)}catch(U){console.error("Erro ao carregar permissões:",U),f(d())}},[]);const _=l.reduce((k,U)=>(k[U.module]||(k[U.module]=[]),k[U.module].push(U),k),{}),O=k=>{switch(k){case"PDV":return s.jsx(mr,{size:20});case"Produtos":return s.jsx(mr,{size:20});case"Categorias":return s.jsx(ns,{size:20});case"Fornecedores":return s.jsx(Tl,{size:20});case"Estoque":return s.jsx(mr,{size:20});case"Financeiro":return s.jsx(ar,{size:20});case"Relatórios":return s.jsx(Xt,{size:20});case"Dashboard":return s.jsx(Th,{size:20});case"Configurações":return s.jsx(mi,{size:20});default:return s.jsx(Kn,{size:20})}},w=(k,U)=>{p&&f(M=>M.map(E=>{if(E.id===k){const H=E.permissions.includes(U);return{...E,permissions:H?E.permissions.filter(se=>se!==U):[...E.permissions,U]}}return E}))},v=()=>{const k=h.map(U=>({id:U.id,permissions:U.permissions}));localStorage.setItem("pdv_roles_permissions",JSON.stringify(k)),S(!1),alert("Permissões salvas com sucesso!")},N=async()=>{r(!0);try{const k=localStorage.getItem("company_data"),U=k?JSON.parse(k):null,M=new We,E=M.internal.pageSize.width;let H=20;U&&(U.nomeFantasia||U.razaoSocial)&&(M.setFontSize(14),M.text(U.nomeFantasia||U.razaoSocial,E/2,H,{align:"center"}),H+=8,U.cnpj&&(M.setFontSize(10),M.text(`CNPJ: ${U.cnpj}`,E/2,H,{align:"center"}),H+=6),H+=5),M.setFontSize(16),M.text("MATRIZ DE PERMISSÕES DO SISTEMA",E/2,H,{align:"center"}),H+=10,M.setFontSize(10),M.text(`Data de geração: ${He(new Date,"dd/MM/yyyy HH:mm",{locale:Qe})}`,E/2,H,{align:"center"}),H+=15,M.setFontSize(12),M.text("CARGOS DO SISTEMA",20,H),H+=8,M.setFontSize(10),h.forEach((T,L)=>{M.text(`${L+1}. ${T.name}: ${T.description}`,20,H),H+=6}),H+=10,Object.entries(_).forEach(([T,L])=>{H>250&&(M.addPage(),H=20),M.setFontSize(12),M.text(`MÓDULO: ${T}`,20,H),H+=8,M.setFontSize(9),L.forEach($=>{M.text(`• ${$.name}: ${$.description}`,25,H),H+=5,M.text("Cargos com esta permissão:",30,H),H+=5;const V=h.filter(Y=>Y.permissions.includes($.id));V.length>0?M.text(V.map(Y=>Y.name).join(", "),35,H):M.text("Nenhum cargo possui esta permissão",35,H),H+=8}),H+=10});const se=M.internal.pageSize.height-10;M.setFontSize(8),M.text("Powered by CYBERPIU",E/2,se,{align:"center"}),M.save(`permissoes-${He(new Date,"ddMMyyyy-HHmm")}.pdf`)}catch(k){console.error("Erro ao gerar PDF:",k),alert("Erro ao gerar o relatório. Tente novamente.")}finally{r(!1)}},A=Object.entries(_).reduce((k,[U,M])=>{if(i!=="all"&&U!==i)return k;const E=M.filter(H=>H.name.toLowerCase().includes(n.toLowerCase())||H.description.toLowerCase().includes(n.toLowerCase()));return E.length>0&&(k[U]=E),k},{});return s.jsx("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(Kn,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Cargos e Permissões"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Gerencie os níveis de acesso ao sistema"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:N,disabled:e,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg`,children:e?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:20,className:"animate-spin"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Exportar PDF"]})}),s.jsx("div",{className:"flex gap-4",children:p?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>S(!1),className:"px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 border-2 border-gray-300 text-gray-700",children:"Cancelar"}),s.jsxs("button",{onClick:v,className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(dt,{size:24}),"Salvar Alterações"]})]}):s.jsxs("button",{onClick:()=>S(!0),className:"bg-secondary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105",children:[s.jsx(Ys,{size:24}),"Editar Permissões"]})})]})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-4 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar permissões...",value:n,onChange:k=>a(k.target.value),className:`w-full pl-12 pr-4 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:`px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos os Módulos"}),Object.keys(_).map(k=>s.jsx("option",{value:k,children:k},k))]})]}),p&&s.jsxs("div",{className:`px-4 py-3 rounded-xl ${t==="dark"?"bg-yellow-900/30 text-yellow-200":"bg-yellow-50 text-yellow-800"} flex items-center gap-2`,children:[s.jsx(Wt,{size:20}),s.jsx("span",{className:"font-medium",children:"Modo de Edição Ativo"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:h.map(k=>{const U=k.icon,M=k.permissions.length,E=Math.round(M/l.length*100);return s.jsxs("div",{className:`p-6 rounded-3xl shadow-xl border-l-4 cursor-pointer transition-all hover:shadow-2xl ${t==="dark"?"bg-gray-800":"bg-white"} ${(g==null?void 0:g.id)===k.id?"ring-2 ring-blue-500 transform scale-105":""}`,style:{borderLeftColor:k.color},onClick:()=>y(k),children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:k.color},children:s.jsx(U,{size:32,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl",children:k.name}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:k.description})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Nível de Acesso:"}),s.jsxs("span",{className:"text-sm font-bold",style:{color:k.color},children:[E,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"h-3 rounded-full transition-all",style:{width:`${E}%`,backgroundColor:k.color}})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Object.keys(_).map(H=>_[H].some(L=>k.permissions.includes(L.id))?s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:H},H):null)})]})]},k.id)})}),s.jsxs("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Kn,{size:24,className:"text-primary"}),"Matriz de Permissões"]}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:p?"Clique nas células para alterar as permissões":"Visualização das permissões por cargo"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:t==="dark"?"bg-gray-700":"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Permissão"}),h.map(k=>s.jsx("th",{className:"px-4 py-4 text-center text-sm font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:k.color},children:s.jsx(k.icon,{size:20,className:"text-white"})}),s.jsx("span",{children:k.name})]})},k.id))]})}),s.jsxs("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:[Object.entries(A).map(([k,U])=>s.jsxs(x5.Fragment,{children:[s.jsx("tr",{className:t==="dark"?"bg-gray-750":"bg-gray-25",children:s.jsx("td",{colSpan:h.length+1,className:"px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[O(k),s.jsx("span",{children:k})]})})}),U.map(M=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.name}),s.jsx("div",{className:`text-xs ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:M.description})]})}),h.map(E=>s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsx("button",{onClick:()=>w(E.id,M.id),disabled:!p,className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${E.permissions.includes(M.id)?"text-white":t==="dark"?"bg-gray-600 text-gray-400":"bg-gray-200 text-gray-500"} ${p?"hover:scale-110 cursor-pointer":"cursor-default"}`,style:E.permissions.includes(M.id)?{backgroundColor:E.color}:{},children:E.permissions.includes(M.id)?s.jsx(dt,{size:20}):s.jsx(Ks,{size:20})})},`${E.id}-${M.id}`))]},M.id))]},k)),Object.keys(A).length===0&&s.jsx("tr",{children:s.jsxs("td",{colSpan:h.length+1,className:"px-6 py-12 text-center",children:[s.jsx(Cn,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium",children:"Nenhuma permissão encontrada"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tente ajustar os filtros ou termos de busca"})]})})]})]})})]}),s.jsxs("div",{className:`mt-8 p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(Rv,{size:24,className:"text-primary"}),"Informações sobre Permissões"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(jn,{size:20,className:"text-green-600"}),"Descrição dos Cargos"]}),s.jsx("div",{className:"space-y-4",children:h.map(k=>s.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:k.color},children:s.jsx(k.icon,{size:16,className:"text-white"})}),s.jsx("span",{className:"font-bold",children:k.name})]}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:k.description}),s.jsx("div",{className:"mt-2 text-xs",children:s.jsxs("span",{className:`${t==="dark"?"text-gray-400":"text-gray-500"}`,children:[k.permissions.length," permissões (",Math.round(k.permissions.length/l.length*100),"%)"]})})]},k.id))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mr,{size:20,className:"text-blue-600"}),"Módulos do Sistema"]}),s.jsx("div",{className:"space-y-3",children:Object.entries(_).map(([k,U])=>s.jsxs("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[O(k),s.jsx("span",{className:"font-bold",children:k})]}),s.jsxs("p",{className:`text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[U.length," permissões disponíveis"]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:h.map(M=>U.some(H=>M.permissions.includes(H.id))?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full text-white",style:{backgroundColor:M.color},children:M.name},M.id):null)})]},k))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Wt,{size:20,className:"text-yellow-600"}),"Recomendações de Segurança"]}),s.jsx("div",{className:`p-6 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:s.jsxs("ul",{className:`space-y-4 text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(dt,{size:16,className:"text-green-600 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Siga o princípio do menor privilégio: conceda apenas as permissões necessárias para cada função."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(dt,{size:16,className:"text-green-600 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Revise periodicamente as permissões de cada cargo para garantir que estejam atualizadas."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(dt,{size:16,className:"text-green-600 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Mantenha o número de usuários com permissões administrativas o menor possível."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(dt,{size:16,className:"text-green-600 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Documente todas as alterações nas permissões para fins de auditoria."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(dt,{size:16,className:"text-green-600 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Treine os usuários sobre a importância da segurança e o uso responsável de suas permissões."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(dt,{size:16,className:"text-green-600 mt-1 flex-shrink-0"}),s.jsx("span",{children:"Realize auditorias periódicas para verificar se as permissões estão sendo usadas corretamente."})]})]})})]})]})]}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Cargos e Permissões • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},VS=()=>{const{theme:t}=$t();Rl();const{user:e}=Ln(),[r,n]=de.useState([]),[a,i]=de.useState(null),[o,l]=de.useState("all"),[d,h]=de.useState("all"),[f,g]=de.useState(""),[y,p]=de.useState({emailEnabled:!0,pushEnabled:!0,stockAlerts:!0,salesAlerts:!0,financialAlerts:!0,systemAlerts:!0,emailAddress:(e==null?void 0:e.email)||"",emailFrequency:"daily",pushFrequency:"realtime"}),[S,_]=de.useState(!1);de.useEffect(()=>{O(),w()},[]);const O=()=>{_(!0);try{const $=localStorage.getItem("pdv_notifications");if($)n(JSON.parse($));else{const V=[{id:"1",title:"Bem-vindo ao Sistema",message:"Bem-vindo ao PDV Banca de Jornal! Explore todas as funcionalidades disponíveis.",type:"info",read:!1,date:new Date().toISOString(),category:"system"},{id:"2",title:"Alerta de Estoque",message:'O produto "Revista Veja" está com estoque abaixo do mínimo (3 unidades).',type:"warning",read:!1,date:new Date(Date.now()-36e5).toISOString(),category:"stock",link:"/produtos"},{id:"3",title:"Venda Realizada",message:"Venda #12345 foi finalizada com sucesso no valor de R$ 125,90.",type:"success",read:!0,date:new Date(Date.now()-864e5).toISOString(),category:"sales",link:"/vendas"},{id:"4",title:"Despesa Vencendo",message:'A despesa "Aluguel" vence amanhã no valor de R$ 1.500,00.',type:"warning",read:!1,date:new Date(Date.now()-1728e5).toISOString(),category:"financial",link:"/financeiro"},{id:"5",title:"Novo Usuário",message:'O usuário "Maria Silva" foi cadastrado no sistema.',type:"info",read:!0,date:new Date(Date.now()-2592e5).toISOString(),category:"users",link:"/usuarios"}];n(V),localStorage.setItem("pdv_notifications",JSON.stringify(V))}}catch($){console.error("Erro ao carregar notificações:",$)}finally{_(!1)}},w=()=>{const $=localStorage.getItem("notification_settings");$&&p(JSON.parse($))},v=()=>{localStorage.setItem("notification_settings",JSON.stringify(y)),alert("Configurações de notificação salvas com sucesso!")},N=$=>{const V=r.map(Y=>Y.id===$?{...Y,read:!0}:Y);n(V),localStorage.setItem("pdv_notifications",JSON.stringify(V)),(a==null?void 0:a.id)===$&&i({...a,read:!0})},A=()=>{const $=r.map(V=>({...V,read:!0}));n($),localStorage.setItem("pdv_notifications",JSON.stringify($)),a&&i({...a,read:!0})},k=$=>{const V=r.filter(Y=>Y.id!==$);n(V),localStorage.setItem("pdv_notifications",JSON.stringify(V)),(a==null?void 0:a.id)===$&&i(null)},U=()=>{confirm("Tem certeza que deseja excluir todas as notificações?")&&(n([]),localStorage.setItem("pdv_notifications",JSON.stringify([])),i(null))},M=$=>{switch($.category){case"system":return s.jsx(mi,{size:20,className:"text-blue-600"});case"sales":return s.jsx(An,{size:20,className:"text-green-600"});case"stock":return s.jsx(mr,{size:20,className:"text-orange-600"});case"financial":return s.jsx(ar,{size:20,className:"text-purple-600"});case"users":return s.jsx(jn,{size:20,className:"text-indigo-600"});default:return s.jsx(Xa,{size:20,className:"text-gray-600"})}},E=$=>{switch($){case"success":return s.jsx(dt,{size:16,className:"text-green-600"});case"warning":return s.jsx(Wt,{size:16,className:"text-orange-600"});case"error":return s.jsx(Ks,{size:16,className:"text-red-600"});case"info":default:return s.jsx(Xa,{size:16,className:"text-blue-600"})}},H=$=>{const V=cr($);return Wn(V)?`Hoje, ${He(V,"HH:mm",{locale:Qe})}`:mf(V)?`Ontem, ${He(V,"HH:mm",{locale:Qe})}`:He(V,"dd/MM/yyyy HH:mm",{locale:Qe})},T=r.filter($=>{const V=o==="all"||o==="read"&&$.read||o==="unread"&&!$.read,Y=d==="all"||$.category===d,re=$.title.toLowerCase().includes(f.toLowerCase())||$.message.toLowerCase().includes(f.toLowerCase());return V&&Y&&re}).sort(($,V)=>new Date(V.date).getTime()-new Date($.date).getTime()),L=r.filter($=>!$.read).length;return s.jsx("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(Xa,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Notificações"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Gerencie suas notificações e alertas"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:A,disabled:L===0,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg disabled:opacity-50`,children:[s.jsx(dt,{size:20}),"Marcar Todas como Lidas"]}),s.jsxs("button",{onClick:U,disabled:r.length===0,className:`px-6 py-4 rounded-2xl font-medium transition-all hover:scale-105 flex items-center gap-3 ${t==="dark"?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-700 hover:bg-gray-100"} shadow-lg disabled:opacity-50`,children:[s.jsx(ws,{size:20}),"Limpar Todas"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("div",{className:`p-6 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center justify-between",children:[s.jsx("div",{className:"flex-1 w-full",children:s.jsxs("div",{className:"relative",children:[s.jsx(Cn,{className:"absolute left-4 top-3 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar notificações...",value:f,onChange:$=>g($.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})}),s.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[s.jsx(ql,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:o,onChange:$=>l($.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todas"}),s.jsx("option",{value:"unread",children:"Não lidas"}),s.jsx("option",{value:"read",children:"Lidas"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[s.jsx(ns,{size:20,className:"text-gray-500"}),s.jsxs("select",{value:d,onChange:$=>h($.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todas as categorias"}),s.jsx("option",{value:"system",children:"Sistema"}),s.jsx("option",{value:"sales",children:"Vendas"}),s.jsx("option",{value:"stock",children:"Estoque"}),s.jsx("option",{value:"financial",children:"Financeiro"}),s.jsx("option",{value:"users",children:"Usuários"})]})]})]})]})}),s.jsxs("div",{className:`rounded-3xl shadow-xl overflow-hidden ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Xa,{size:24,className:"text-primary"}),"Notificações",L>0&&s.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:L})]}),s.jsx("button",{onClick:O,className:`p-2 rounded-lg transition-all hover:scale-110 ${t==="dark"?"hover:bg-gray-700":"hover:bg-gray-100"}`,title:"Atualizar",children:s.jsx(Vt,{size:20,className:S?"animate-spin":""})})]})}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:T.length>0?s.jsx("div",{className:"divide-y divide-gray-200",children:T.map($=>s.jsx("div",{className:`p-6 cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-700 ${(a==null?void 0:a.id)===$.id?t==="dark"?"bg-gray-700":"bg-blue-50":""} ${$.read?"":"border-l-4 border-blue-500"}`,onClick:()=>{i($),$.read||N($.id)},children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${$.type==="success"?"bg-green-100":$.type==="warning"?"bg-orange-100":$.type==="error"?"bg-red-100":"bg-blue-100"}`,children:M($)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h4",{className:"font-bold text-lg",children:$.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[!$.read&&s.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{className:`text-xs ${t==="dark"?"text-gray-400":"text-gray-500"}`,children:H($.date)})]})]}),s.jsx("p",{className:`mt-2 ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:$.message}),s.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[E($.type),s.jsx("span",{className:`text-xs ${$.type==="success"?"text-green-600":$.type==="warning"?"text-orange-600":$.type==="error"?"text-red-600":"text-blue-600"}`,children:$.type==="success"?"Sucesso":$.type==="warning"?"Alerta":$.type==="error"?"Erro":"Informação"})]}),s.jsxs("div",{className:"flex gap-2",children:[!$.read&&s.jsx("button",{onClick:V=>{V.stopPropagation(),N($.id)},className:"text-blue-600 hover:text-blue-800",title:"Marcar como lida",children:s.jsx(dt,{size:16})}),s.jsx("button",{onClick:V=>{V.stopPropagation(),k($.id)},className:"text-red-600 hover:text-red-800",title:"Excluir",children:s.jsx(ws,{size:16})})]})]})]})]})},$.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xa,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma notificação encontrada"}),s.jsx("p",{className:"text-sm text-gray-500",children:f||o!=="all"||d!=="all"?"Tente ajustar os filtros de busca":"Você não tem notificações no momento"})]})})]})]}),s.jsxs("div",{className:"space-y-8",children:[a?s.jsxs("div",{className:`rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a.type==="success"?"bg-green-100":a.type==="warning"?"bg-orange-100":a.type==="error"?"bg-red-100":"bg-blue-100"}`,children:E(a.type)}),"Detalhes"]}),s.jsx("button",{onClick:()=>i(null),className:`p-2 rounded-lg transition-all hover:scale-110 ${t==="dark"?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:s.jsx(X,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:`p-6 rounded-xl mb-6 ${a.type==="success"?"bg-green-50 border border-green-200":a.type==="warning"?"bg-orange-50 border border-orange-200":a.type==="error"?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:[s.jsx("h4",{className:`text-xl font-bold mb-2 ${a.type==="success"?"text-green-800":a.type==="warning"?"text-orange-800":a.type==="error"?"text-red-800":"text-blue-800"}`,children:a.title}),s.jsx("p",{className:`${a.type==="success"?"text-green-700":a.type==="warning"?"text-orange-700":a.type==="error"?"text-red-700":"text-blue-700"}`,children:a.message})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Categoria:"}),s.jsx("span",{className:"text-sm",children:a.category==="system"?"Sistema":a.category==="sales"?"Vendas":a.category==="stock"?"Estoque":a.category==="financial"?"Financeiro":"Usuários"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Data:"}),s.jsx("span",{className:"text-sm",children:H(a.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Status:"}),s.jsx("span",{className:"text-sm flex items-center gap-1",children:a.read?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:14,className:"text-green-600"}),"Lida"]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{size:14,className:"text-blue-600"}),"Não lida"]})})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[a.link&&s.jsxs("button",{className:"flex-1 bg-primary text-white py-3 px-4 rounded-xl hover:opacity-90 flex items-center justify-center gap-2",children:[s.jsx(Kr,{size:18}),"Ver Detalhes"]}),s.jsxs("button",{onClick:()=>k(a.id),className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 ${t==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[s.jsx(ws,{size:18}),"Excluir"]})]})]})]}):s.jsxs("div",{className:`rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Xa,{size:24,className:"text-primary"}),"Resumo"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:r.length})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-primary/10",children:s.jsx(Xa,{size:20,className:"text-primary"})})]})}),s.jsx("div",{className:`p-4 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Não Lidas"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:L})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-blue-100",children:s.jsx(n3,{size:20,className:"text-blue-600"})})]})})]}),s.jsxs("div",{className:`mt-6 p-4 rounded-xl ${t==="dark"?"bg-blue-900/20 text-blue-200":"bg-blue-50 text-blue-800"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(HS,{size:20}),s.jsx("p",{className:"font-bold",children:"Informações"})]}),s.jsx("p",{className:"text-sm",children:"Selecione uma notificação para ver os detalhes completos. Você pode marcar notificações como lidas ou excluí-las."})]})]})]}),s.jsxs("div",{className:`rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(mi,{size:24,className:"text-secondary"}),"Configurações"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-4",children:"Canais de Notificação"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-blue-100",children:s.jsx(Xi,{size:20,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notificações por Email"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Receba alertas no seu email"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.emailEnabled,onChange:$=>p(V=>({...V,emailEnabled:$.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-green-100",children:s.jsx(_d,{size:20,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Notificações Push"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Receba alertas no navegador"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.pushEnabled,onChange:$=>p(V=>({...V,pushEnabled:$.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-4",children:"Tipos de Alerta"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-orange-100",children:s.jsx(mr,{size:20,className:"text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alertas de Estoque"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Estoque baixo ou esgotado"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.stockAlerts,onChange:$=>p(V=>({...V,stockAlerts:$.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-green-100",children:s.jsx(An,{size:20,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alertas de Vendas"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Novas vendas e devoluções"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.salesAlerts,onChange:$=>p(V=>({...V,salesAlerts:$.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-purple-100",children:s.jsx(ar,{size:20,className:"text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alertas Financeiros"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Despesas e vencimentos"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.financialAlerts,onChange:$=>p(V=>({...V,financialAlerts:$.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-blue-100",children:s.jsx(mi,{size:20,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alertas do Sistema"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Atualizações e manutenção"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.systemAlerts,onChange:$=>p(V=>({...V,systemAlerts:$.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),y.emailEnabled&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-4",children:"Configurações de Email"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Endereço de Email"}),s.jsx("input",{type:"email",value:y.emailAddress,onChange:$=>p(V=>({...V,emailAddress:$.target.value})),className:`w-full px-4 py-3 border rounded-xl ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,placeholder:"seu@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Frequência"}),s.jsxs("select",{value:y.emailFrequency,onChange:$=>p(V=>({...V,emailFrequency:$.target.value})),className:`w-full px-4 py-3 border rounded-xl ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"realtime",children:"Tempo real"}),s.jsx("option",{value:"daily",children:"Resumo diário"}),s.jsx("option",{value:"weekly",children:"Resumo semanal"})]})]})]})]}),s.jsx("button",{onClick:v,className:"w-full bg-primary text-white py-3 px-6 rounded-xl hover:opacity-90 font-medium",children:"Salvar Configurações"})]})]})]})]}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Sistema de Notificações • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},HS=({size:t=24})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),WS=()=>{const{theme:t}=$t(),[e,r]=de.useState(!1),[n,a]=de.useState(!1),[i,o]=de.useState(0),[l,d]=de.useState(""),[h,f]=de.useState([]),[g,y]=de.useState({totalBackups:0,totalSize:"0 MB",lastBackup:"Nunca",successRate:100,dataIntegrity:100}),[p,S]=de.useState({enabled:!0,frequency:"daily",time:"02:00",retention:30,compression:!0,encryption:!1,cloudSync:!1,includeMedia:!0,includeSettings:!0,includeUserData:!0,includeTransactions:!0,includeReports:!0}),[_,O]=de.useState([]),[w,v]=de.useState(!1),[N,A]=de.useState("all");de.useEffect(()=>{k(),U(),M()},[]);const k=()=>{const W=localStorage.getItem("pdv_backup_history");if(W)f(JSON.parse(W));else{const G=[{id:"1",date:new Date().toISOString(),size:"2.8 MB",type:"automatic",status:"success",description:"Backup automático completo",dataTypes:["users","products","sales","settings","preferences"],checksum:"a1b2c3d4e5f6",version:"1.0.0"},{id:"2",date:new Date(Date.now()-864e5).toISOString(),size:"2.6 MB",type:"manual",status:"success",description:"Backup manual antes da atualização",dataTypes:["users","products","sales","settings"],checksum:"f6e5d4c3b2a1",version:"1.0.0"}];f(G),localStorage.setItem("pdv_backup_history",JSON.stringify(G))}},U=()=>{const W=localStorage.getItem("auto_backup_settings");W&&S(JSON.parse(W))},M=()=>{const W=JSON.parse(localStorage.getItem("pdv_backup_history")||"[]"),G=W.filter(ue=>ue.status==="success");y({totalBackups:W.length,totalSize:E(W),lastBackup:W.length>0?He(new Date(W[0].date),"dd/MM/yyyy HH:mm",{locale:Qe}):"Nunca",successRate:W.length>0?G.length/W.length*100:100,dataIntegrity:100})},E=W=>{const G=W.reduce((ue,b)=>{const q=parseFloat(b.size.replace(" MB",""));return ue+q},0);return G>1024?`${(G/1024).toFixed(1)} GB`:`${G.toFixed(1)} MB`},H=()=>({users:tt.getAllUsers(),products:tt.getAllProducts(),suppliers:tt.getAllSuppliers(),sales:tt.getAllSales(),cashMovements:tt.getAllCashMovements(),expenses:tt.getAllExpenses(),cashRegisters:tt.getAllCashRegisters(),cashSessions:tt.getAllCashSessions(),companyData:JSON.parse(localStorage.getItem("company_data")||"{}"),companyLogo:localStorage.getItem("company_logo"),companyFavicon:localStorage.getItem("company_favicon"),customPrimaryColor:localStorage.getItem("custom_primary_color"),customSecondaryColor:localStorage.getItem("custom_secondary_color"),theme:localStorage.getItem("pdv_theme"),categories:JSON.parse(localStorage.getItem("pdv_categories")||"[]"),rolesPermissions:JSON.parse(localStorage.getItem("pdv_roles_permissions")||"[]"),autoBackupSettings:JSON.parse(localStorage.getItem("auto_backup_settings")||"{}"),backupHistory:JSON.parse(localStorage.getItem("pdv_backup_history")||"[]"),notificationSettings:JSON.parse(localStorage.getItem("notification_settings")||"{}"),currentUser:JSON.parse(localStorage.getItem("pdv_current_user")||"null"),appearanceSettings:{sidebarCollapsed:localStorage.getItem("sidebar_collapsed"),gridView:localStorage.getItem("grid_view_preference"),language:localStorage.getItem("app_language"),currency:localStorage.getItem("app_currency"),timezone:localStorage.getItem("app_timezone")},pdvSettings:{defaultPaymentMethod:localStorage.getItem("default_payment_method"),printReceipts:localStorage.getItem("auto_print_receipts"),soundEnabled:localStorage.getItem("pdv_sound_enabled"),barcodeScanner:localStorage.getItem("barcode_scanner_enabled")},reportSettings:{defaultPeriod:localStorage.getItem("default_report_period"),autoGenerate:localStorage.getItem("auto_generate_reports"),emailReports:localStorage.getItem("email_reports_enabled")},metadata:{version:"1.0.0",timestamp:new Date().toISOString(),systemInfo:{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine},dataIntegrity:{usersCount:tt.getAllUsers().length,productsCount:tt.getAllProducts().length,salesCount:tt.getAllSales().length,suppliersCount:tt.getAllSuppliers().length}}}),se=W=>{let G=0;for(let ue=0;ue<W.length;ue++){const b=W.charCodeAt(ue);G=(G<<5)-G+b,G=G&G}return Math.abs(G).toString(16)},T=async(W="manual")=>{r(!0),o(0),d("Iniciando backup...");try{const G=["Coletando dados dos usuários...","Exportando produtos e categorias...","Salvando histórico de vendas...","Coletando movimentações financeiras...","Exportando configurações do sistema...","Salvando preferências de aparência...","Coletando dados da empresa...","Exportando configurações de backup...","Gerando checksum de integridade...","Compactando dados...","Finalizando backup..."];for(let ce=0;ce<G.length;ce++)d(G[ce]),o((ce+1)/G.length*100),await new Promise(he=>setTimeout(he,300));const ue=H(),b=JSON.stringify(ue,null,2),q=se(b),F=new Blob([b],{type:"application/json"}),te=URL.createObjectURL(F),Z=document.createElement("a");Z.href=te,Z.download=`backup-pdv-completo-${He(new Date,"ddMMyyyy-HHmmss")}.json`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(te);const K=[{id:Math.random().toString(36).substr(2,9),date:new Date().toISOString(),size:`${(b.length/1024/1024).toFixed(1)} MB`,type:W,status:"success",description:W==="manual"?"Backup manual completo":"Backup automático completo",dataTypes:["users","products","sales","settings","preferences","company","categories","permissions"],checksum:q,version:"1.0.0"},...h];f(K),localStorage.setItem("pdv_backup_history",JSON.stringify(K)),M(),alert("Backup criado e baixado com sucesso!")}catch(G){console.error("Erro ao criar backup:",G),alert("Erro ao criar backup!")}finally{r(!1),o(0),d("")}},L=async W=>{a(!0);try{const G=await W.text(),ue=JSON.parse(G);if(!ue.metadata||!ue.metadata.version)throw new Error("Arquivo de backup inválido ou corrompido");if(!confirm(`Tem certeza que deseja restaurar este backup?

Data: ${He(new Date(ue.metadata.timestamp),"dd/MM/yyyy HH:mm",{locale:Qe})}
Versão: ${ue.metadata.version}
Usuários: ${ue.metadata.dataIntegrity.usersCount}
Produtos: ${ue.metadata.dataIntegrity.productsCount}
Vendas: ${ue.metadata.dataIntegrity.salesCount}

ATENÇÃO: Todos os dados atuais serão substituídos!`)){a(!1);return}ue.users&&localStorage.setItem("pdv_users",JSON.stringify(ue.users)),ue.products&&localStorage.setItem("pdv_products",JSON.stringify(ue.products)),ue.suppliers&&localStorage.setItem("pdv_suppliers",JSON.stringify(ue.suppliers)),ue.sales&&localStorage.setItem("pdv_sales",JSON.stringify(ue.sales)),ue.cashMovements&&localStorage.setItem("pdv_cash_movements",JSON.stringify(ue.cashMovements)),ue.expenses&&localStorage.setItem("pdv_expenses",JSON.stringify(ue.expenses)),ue.cashRegisters&&localStorage.setItem("pdv_cash_registers",JSON.stringify(ue.cashRegisters)),ue.cashSessions&&localStorage.setItem("pdv_cash_sessions",JSON.stringify(ue.cashSessions)),ue.companyData&&localStorage.setItem("company_data",JSON.stringify(ue.companyData)),ue.companyLogo&&localStorage.setItem("company_logo",ue.companyLogo),ue.companyFavicon&&localStorage.setItem("company_favicon",ue.companyFavicon),ue.customPrimaryColor&&localStorage.setItem("custom_primary_color",ue.customPrimaryColor),ue.customSecondaryColor&&localStorage.setItem("custom_secondary_color",ue.customSecondaryColor),ue.theme&&localStorage.setItem("pdv_theme",ue.theme),ue.categories&&localStorage.setItem("pdv_categories",JSON.stringify(ue.categories)),ue.rolesPermissions&&localStorage.setItem("pdv_roles_permissions",JSON.stringify(ue.rolesPermissions)),ue.autoBackupSettings&&localStorage.setItem("auto_backup_settings",JSON.stringify(ue.autoBackupSettings)),ue.notificationSettings&&localStorage.setItem("notification_settings",JSON.stringify(ue.notificationSettings)),ue.appearanceSettings&&Object.entries(ue.appearanceSettings).forEach(([q,F])=>{F!=null&&localStorage.setItem(q,F)}),ue.pdvSettings&&Object.entries(ue.pdvSettings).forEach(([q,F])=>{F!=null&&localStorage.setItem(q,F)}),ue.reportSettings&&Object.entries(ue.reportSettings).forEach(([q,F])=>{F!=null&&localStorage.setItem(q,F)}),alert("Backup restaurado com sucesso! A página será recarregada."),window.location.reload()}catch(G){console.error("Erro ao restaurar backup:",G),alert("Erro ao restaurar backup. Verifique se o arquivo é válido.")}finally{a(!1)}},$=W=>{var ue;const G=(ue=W.target.files)==null?void 0:ue[0];G&&L(G)},V=()=>{localStorage.setItem("auto_backup_settings",JSON.stringify(p)),alert("Configurações de backup automático salvas!")},Y=W=>{if(confirm("Deseja excluir este backup do histórico?")){const G=h.filter(ue=>ue.id!==W);f(G),localStorage.setItem("pdv_backup_history",JSON.stringify(G)),M()}},re=W=>{O(G=>G.includes(W)?G.filter(ue=>ue!==W):[...G,W])},ne=()=>{if(_.length!==0&&confirm(`Deseja excluir ${_.length} backup(s) selecionado(s)?`)){const W=h.filter(G=>!_.includes(G.id));f(W),localStorage.setItem("pdv_backup_history",JSON.stringify(W)),O([]),M()}},R=h.filter(W=>N==="all"?!0:W.type===N);return s.jsx("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900 text-white":"bg-gray-50 text-gray-800"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(zv,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Backup Avançado"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Sistema completo de backup e restauração"})]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsx("button",{onClick:()=>T("manual"),disabled:e,className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-2xl transition-all hover:scale-105 disabled:opacity-50",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:24,className:"animate-spin"}),"Criando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:24}),"Backup Completo"]})})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Total de Backups"}),s.jsx("p",{className:"text-4xl font-bold text-primary",children:g.totalBackups})]}),s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(b1,{size:32,className:"text-primary"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Tamanho Total"}),s.jsx("p",{className:"text-4xl font-bold text-secondary",children:g.totalSize})]}),s.jsx("div",{className:"w-16 h-16 bg-secondary/10 rounded-2xl flex items-center justify-center",children:s.jsx(o3,{size:32,className:"text-secondary"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Taxa de Sucesso"}),s.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[g.successRate.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:s.jsx(dt,{size:32,className:"text-green-600"})})]})}),s.jsx("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Integridade"}),s.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[g.dataIntegrity,"%"]})]}),s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center",children:s.jsx(Kn,{size:32,className:"text-blue-600"})})]})})]}),e&&s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:s.jsx(Vt,{size:24,className:"text-primary animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Criando Backup..."}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:l})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:s.jsx("div",{className:"bg-primary h-4 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:[i.toFixed(0),"% concluído"]}),s.jsx("span",{children:"Aguarde..."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:`rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(qv,{size:24,className:"text-primary"}),"Ações Rápidas"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4 bg-primary",children:s.jsx(Is,{className:"text-white",size:32})}),s.jsx("h4",{className:"text-lg font-bold mb-2",children:"Backup Completo"}),s.jsx("p",{className:`text-sm mb-4 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Inclui todos os dados, configurações e preferências"}),s.jsx("button",{onClick:()=>T("manual"),disabled:e,className:"w-full text-white py-3 px-6 rounded-xl hover:opacity-90 font-medium disabled:opacity-50 flex items-center justify-center gap-2 bg-primary",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"animate-spin",size:20}),"Criando Backup..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Criar Backup"]})})]}),s.jsx("div",{className:"border-t pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4 bg-secondary",children:s.jsx(Nn,{className:"text-white",size:32})}),s.jsx("h4",{className:"text-lg font-bold mb-2",children:"Restaurar Sistema"}),s.jsx("p",{className:`text-sm mb-4 ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Restaure todos os dados a partir de um backup"}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(Wt,{size:16}),s.jsx("span",{className:"text-sm font-medium",children:"Atenção!"})]}),s.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"A restauração substituirá TODOS os dados atuais"})]}),s.jsx("input",{type:"file",accept:".json",onChange:$,disabled:n,className:"hidden",id:"backup-upload"}),s.jsx("label",{htmlFor:"backup-upload",className:`w-full inline-flex items-center justify-center gap-2 py-3 px-6 rounded-xl font-medium cursor-pointer transition-all ${n?"opacity-50 cursor-not-allowed":"hover:opacity-90"} bg-secondary text-white`,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"animate-spin",size:20}),"Restaurando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nn,{size:20}),"Escolher Arquivo"]})})]})})]})]}),s.jsxs("div",{className:`rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(mi,{size:24,className:"text-secondary"}),"Configurações Avançadas"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Backup Automático"}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Criar backups automaticamente"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p.enabled,onChange:W=>S(G=>({...G,enabled:W.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),p.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Frequência"}),s.jsxs("select",{value:p.frequency,onChange:W=>S(G=>({...G,frequency:W.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"hourly",children:"A cada hora"}),s.jsx("option",{value:"daily",children:"Diário"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Horário"}),s.jsx("input",{type:"time",value:p.time,onChange:W=>S(G=>({...G,time:W.target.value})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Retenção (dias)"}),s.jsx("input",{type:"number",value:p.retention,onChange:W=>S(G=>({...G,retention:parseInt(W.target.value)||30})),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,min:"1",max:"365"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>v(!w),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all ${t==="dark"?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,children:[s.jsx("span",{className:"font-medium",children:"Opções Avançadas"}),s.jsx(Vt,{size:16,className:w?"rotate-180":""})]}),w&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-primary",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Compressão"}),s.jsx("input",{type:"checkbox",checked:p.compression,onChange:W=>S(G=>({...G,compression:W.target.checked})),className:"rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Incluir Mídia"}),s.jsx("input",{type:"checkbox",checked:p.includeMedia,onChange:W=>S(G=>({...G,includeMedia:W.target.checked})),className:"rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Incluir Configurações"}),s.jsx("input",{type:"checkbox",checked:p.includeSettings,onChange:W=>S(G=>({...G,includeSettings:W.target.checked})),className:"rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Incluir Dados de Usuário"}),s.jsx("input",{type:"checkbox",checked:p.includeUserData,onChange:W=>S(G=>({...G,includeUserData:W.target.checked})),className:"rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Incluir Transações"}),s.jsx("input",{type:"checkbox",checked:p.includeTransactions,onChange:W=>S(G=>({...G,includeTransactions:W.target.checked})),className:"rounded"})]})]})]})]}),s.jsx("button",{onClick:V,className:"w-full text-white py-3 px-6 rounded-xl hover:opacity-90 font-medium bg-secondary",children:"Salvar Configurações"})]})]})]}),s.jsxs("div",{className:`mt-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(l3,{size:24}),"Histórico de Backups"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:N,onChange:W=>A(W.target.value),className:`px-4 py-2 border rounded-xl ${t==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-800"}`,children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"manual",children:"Manuais"}),s.jsx("option",{value:"automatic",children:"Automáticos"})]}),_.length>0&&s.jsxs("button",{onClick:ne,className:"bg-red-600 text-white px-4 py-2 rounded-xl hover:bg-red-700 flex items-center gap-2",children:[s.jsx(ws,{size:16}),"Excluir (",_.length,")"]})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:R.length>0?s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:t==="dark"?"bg-gray-700":"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:s.jsx("input",{type:"checkbox",checked:_.length===R.length,onChange:W=>{W.target.checked?O(R.map(G=>G.id)):O([])},className:"rounded"})}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Data/Hora"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Tipo"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Tamanho"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Dados Incluídos"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium",children:"Checksum"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium",children:"Ações"})]})}),s.jsx("tbody",{className:`divide-y ${t==="dark"?"divide-gray-700":"divide-gray-200"}`,children:R.map(W=>s.jsxs("tr",{className:`hover:${t==="dark"?"bg-gray-700":"bg-gray-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:_.includes(W.id),onChange:()=>re(W.id),className:"rounded"})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:He(new Date(W.date),"dd/MM/yyyy",{locale:Qe})}),s.jsx("div",{className:"text-gray-500",children:He(new Date(W.date),"HH:mm:ss",{locale:Qe})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W.type==="manual"?"bg-blue-100 text-blue-800":W.type==="automatic"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:W.type==="manual"?s.jsxs(s.Fragment,{children:[s.jsx(uf,{size:12,className:"mr-1"}),"Manual"]}):W.type==="automatic"?s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:12,className:"mr-1"}),"Automático"]}):s.jsxs(s.Fragment,{children:[s.jsx(Jr,{size:12,className:"mr-1"}),"Agendado"]})})}),s.jsx("td",{className:"px-6 py-4 text-sm font-mono",children:W.size}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W.status==="success"?"bg-green-100 text-green-800":W.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:W.status==="success"?s.jsxs(s.Fragment,{children:[s.jsx(dt,{size:12,className:"mr-1"}),"Sucesso"]}):W.status==="error"?s.jsxs(s.Fragment,{children:[s.jsx(Wt,{size:12,className:"mr-1"}),"Erro"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:12,className:"mr-1 animate-spin"}),"Em Progresso"]})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[W.dataTypes.slice(0,3).map((G,ue)=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-800",children:G},ue)),W.dataTypes.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",W.dataTypes.length-3," mais"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm font-mono",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate max-w-20",children:W.checksum}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(W.checksum),className:"text-gray-400 hover:text-gray-600",title:"Copiar checksum",children:s.jsx(ka,{size:14})})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800",title:"Ver detalhes",children:s.jsx(Kr,{size:16})}),s.jsx("button",{onClick:()=>Y(W.id),className:"text-red-600 hover:text-red-800",title:"Excluir",children:s.jsx(ws,{size:16})})]})})]},W.id))})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(b1,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhum backup encontrado"}),s.jsx("p",{className:"text-sm text-gray-500",children:N!=="all"?`Nenhum backup ${N==="manual"?"manual":"automático"} encontrado`:"Crie seu primeiro backup para começar"})]})})]}),s.jsxs("div",{className:`mt-8 p-6 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(g3,{size:24}),"Informações do Sistema"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3 text-green-600",children:"✓ Dados Incluídos no Backup:"}),s.jsxs("ul",{className:`space-y-2 text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[s.jsx("li",{children:"• Usuários e permissões completas"}),s.jsx("li",{children:"• Produtos, categorias e fornecedores"}),s.jsx("li",{children:"• Histórico completo de vendas"}),s.jsx("li",{children:"• Movimentações e sessões de caixa"}),s.jsx("li",{children:"• Despesas e controle financeiro"}),s.jsx("li",{children:"• Configurações da empresa"}),s.jsx("li",{children:"• Preferências de cores e tema"}),s.jsx("li",{children:"• Configurações de aparência"}),s.jsx("li",{children:"• Configurações de PDV"}),s.jsx("li",{children:"• Configurações de relatórios"}),s.jsx("li",{children:"• Configurações de notificações"}),s.jsx("li",{children:"• Histórico de backups"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3 text-blue-600",children:"🔧 Recursos Avançados:"}),s.jsxs("ul",{className:`space-y-2 text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[s.jsx("li",{children:"• Backup automático programável"}),s.jsx("li",{children:"• Verificação de integridade"}),s.jsx("li",{children:"• Checksum de segurança"}),s.jsx("li",{children:"• Compressão de dados"}),s.jsx("li",{children:"• Histórico detalhado"}),s.jsx("li",{children:"• Restauração seletiva"}),s.jsx("li",{children:"• Backup incremental"}),s.jsx("li",{children:"• Múltiplos formatos"}),s.jsx("li",{children:"• Validação automática"}),s.jsx("li",{children:"• Logs de auditoria"}),s.jsx("li",{children:"• Notificações de status"}),s.jsx("li",{children:"• Gestão de retenção"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3 text-orange-600",children:"⚠ Recomendações:"}),s.jsxs("ul",{className:`space-y-2 text-sm ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:[s.jsx("li",{children:"• Faça backups regulares (diários)"}),s.jsx("li",{children:"• Mantenha backups em locais seguros"}),s.jsx("li",{children:"• Teste a restauração periodicamente"}),s.jsx("li",{children:"• Configure backup automático"}),s.jsx("li",{children:"• Verifique o espaço disponível"}),s.jsx("li",{children:"• Mantenha múltiplas cópias"}),s.jsx("li",{children:"• Monitore a integridade"}),s.jsx("li",{children:"• Documente os procedimentos"}),s.jsx("li",{children:"• Treine a equipe"}),s.jsx("li",{children:"• Mantenha logs atualizados"}),s.jsx("li",{children:"• Configure alertas"}),s.jsx("li",{children:"• Revise as configurações"})]})]})]})]}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Sistema de Backup Avançado • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},GS=()=>{const{theme:t}=$t(),{user:e}=Ln(),[r,n]=de.useState(""),[a,i]=de.useState(!1),[o,l]=de.useState([]),[d,h]=de.useState("basic"),f=localStorage.getItem("company_data"),g=f?JSON.parse(f):null,y=localStorage.getItem("company_logo"),p=k=>{l(U=>U.includes(k)?U.filter(M=>M!==k):[...U,k])},S=async()=>{i(!0);try{const k=new We,U=k.internal.pageSize.width,M=k.internal.pageSize.height;let E=20,H=1;const se=()=>{g&&(g.nomeFantasia||g.razaoSocial)&&(k.setFontSize(10),k.setFont("helvetica","normal"),k.setTextColor(100,100,100),k.text(g.nomeFantasia||g.razaoSocial,20,10))},T=()=>{k.setDrawColor(234,88,12),k.setLineWidth(.5),k.line(20,M-15,U-20,M-15),k.setFontSize(8),k.setFont("helvetica","normal"),k.setTextColor(100,100,100),k.text(`Página ${H}`,U/2,M-10,{align:"center"}),k.text("Powered by CYBERPIU",U-20,M-10,{align:"right"}),k.text(He(new Date,"dd/MM/yyyy",{locale:Qe}),20,M-10,{align:"left"})},L=(ne=10)=>{E+ne>M-20&&(T(),k.addPage(),H++,E=20,se())};if((()=>{const ne=[13,33,79],R=[234,88,12];for(let W=0;W<20;W++){const G=W/20,ue=Math.floor(ne[0]*(1-G)+R[0]*G),b=Math.floor(ne[1]*(1-G)+R[1]*G),q=Math.floor(ne[2]*(1-G)+R[2]*G);k.setFillColor(ue,b,q),k.rect(0,M/20*W,U,M/20+1,"F")}k.setFillColor(0,0,0),k.setGState(new k.GState({opacity:.3})),k.rect(0,0,U,M,"F"),k.setGState(new k.GState({opacity:1}))})(),y)try{k.setFillColor(255,255,255),k.circle(U/2,70,30,"F"),k.addImage(y,"JPEG",U/2-25,45,50,50)}catch(ne){console.error("Erro ao adicionar logo:",ne),k.setFillColor(255,255,255),k.circle(U/2,70,30,"F"),k.setFillColor(13,33,79),k.setFont("helvetica","bold"),k.setFontSize(24),k.setTextColor(13,33,79),k.text("PDV",U/2,75,{align:"center"})}else k.setFillColor(255,255,255),k.circle(U/2,70,30,"F"),k.setFillColor(13,33,79),k.setFont("helvetica","bold"),k.setFontSize(24),k.setTextColor(13,33,79),k.text("PDV",U/2,75,{align:"center"});k.setTextColor(255,255,255),k.setFontSize(38),k.setFont("helvetica","bold"),k.text("MANUAL DO USUÁRIO",U/2,140,{align:"center"}),k.setDrawColor(255,255,255),k.setLineWidth(1),k.line(U/2-60,150,U/2+60,150),k.setFontSize(22),k.setFont("helvetica","normal"),k.text("Sistema PDV Banca de Jornal",U/2,170,{align:"center"});const V=d==="basic"?"TUTORIAL BÁSICO":d==="advanced"?"TUTORIAL AVANÇADO":"TUTORIAL ADMINISTRATIVO";if(k.setFillColor(234,88,12),k.roundedRect(U/2-50,185,100,20,5,5,"F"),k.setFontSize(14),k.setFont("helvetica","bold"),k.setTextColor(255,255,255),k.text(V,U/2,198,{align:"center"}),k.setFontSize(12),k.setFont("helvetica","normal"),k.text(`Gerado em: ${He(new Date,"dd MMMM yyyy",{locale:Qe})}`,U/2,230,{align:"center"}),g){let ne="";g.nomeFantasia&&(ne+=g.nomeFantasia),g.cnpj&&(ne+=ne?` • CNPJ: ${g.cnpj}`:`CNPJ: ${g.cnpj}`),ne&&(k.setFontSize(10),k.text(ne,U/2,245,{align:"center"}))}k.setDrawColor(255,255,255),k.setLineWidth(.5),k.line(40,M-30,U-40,M-30),k.setFontSize(10),k.text("© 2024 CYBERPIU. Todos os direitos reservados.",U/2,M-20,{align:"center"}),k.addPage(),H++,E=20,k.setFillColor(252,252,252),k.rect(0,0,U,M,"F"),k.setTextColor(13,33,79),k.setFontSize(24),k.setFont("helvetica","bold"),k.text("ÍNDICE",U/2,E,{align:"center"}),k.setDrawColor(234,88,12),k.setLineWidth(1),k.line(U/2-30,E+5,U/2+30,E+5),E+=25,k.setFontSize(12),k.setFont("helvetica","normal"),_().map((ne,R)=>({title:ne.title,page:R+3})).forEach((ne,R)=>{k.setFillColor(234,88,12),k.setTextColor(13,33,79),k.setFont("helvetica","bold"),k.text(`${R+1}.`,30,E),k.setFont("helvetica","normal"),k.text(`${ne.title}`,50,E),k.setFont("helvetica","bold"),k.text(`${ne.page}`,U-30,E);const W=k.getTextWidth(`${ne.title}`),G=k.getTextWidth(`${ne.page}`),ue=55+W,b=U-30-G-5;b>ue&&(k.setDrawColor(200,200,200),k.setLineDashPattern([1,2],0),k.line(ue,E,b,E),k.setLineDashPattern([0],0)),E+=20,L()}),T(),_().forEach((ne,R)=>{k.addPage(),H++,E=30,k.setFillColor(252,252,252),k.rect(0,0,U,M,"F"),se(),k.setTextColor(13,33,79),k.setFontSize(22),k.setFont("helvetica","bold"),k.text(`${R+1}. ${ne.title}`,20,E),E+=15,k.setDrawColor(234,88,12),k.setLineWidth(1),k.line(20,E,U-20,E),E+=15,k.setTextColor(60,60,60),k.setFontSize(11),k.setFont("helvetica","italic"),k.splitTextToSize(ne.description,U-40).forEach(G=>{L(),k.text(G,20,E),E+=6}),E+=15,ne.topics.forEach((G,ue)=>{if(L(25),k.setTextColor(13,33,79),k.setFontSize(14),k.setFont("helvetica","bold"),k.text(`${R+1}.${ue+1}. ${G.title}`,20,E),E+=10,k.setTextColor(60,60,60),k.setFontSize(11),k.setFont("helvetica","normal"),k.splitTextToSize(G.content,U-40).forEach(q=>{L(),k.text(q,20,E),E+=6}),G.tips){L(20),E+=5,k.setFillColor(240,248,255),k.roundedRect(20,E-5,U-40,25+G.tips.length*6,5,5,"F"),k.setTextColor(70,130,180),k.setFontSize(10),k.setFont("helvetica","bold"),k.text("DICA:",30,E+5),k.setTextColor(60,60,60),k.setFont("helvetica","italic");const q=k.splitTextToSize(G.tips,U-80);q.forEach((F,te)=>{k.text(F,60,E+5+te*6)}),E+=25+q.length*6}E+=15}),T()});const re=d==="basic"?"basico":d==="advanced"?"avancado":"administrativo";k.save(`tutorial-${re}-${He(new Date,"ddMMyyyy")}.pdf`)}catch(k){console.error("Erro ao gerar PDF:",k),alert("Erro ao gerar o tutorial. Tente novamente.")}finally{i(!1)}},_=()=>{const k=[{title:"Introdução ao Sistema",description:"O Sistema PDV Banca de Jornal é uma solução completa para gerenciamento de vendas, estoque e controle financeiro para bancas de jornal e pequenos comércios. Este tutorial apresenta as funcionalidades básicas do sistema.",topics:[{title:"Visão Geral",content:"O sistema possui uma interface intuitiva com menu lateral para navegação entre os módulos. A tela inicial apresenta informações resumidas e acesso rápido às principais funcionalidades.",tips:'Você pode personalizar a aparência do sistema na seção "Aparência" do menu de configurações.'},{title:"Acesso ao Sistema",content:"Para acessar o sistema, utilize o nome de usuário e senha fornecidos pelo administrador. O sistema possui diferentes níveis de acesso: Vendedor, Gerente e Administrador, cada um com permissões específicas.",tips:"Por segurança, altere sua senha periodicamente e nunca compartilhe suas credenciais de acesso."}]},{title:"Realizando Vendas",description:"O módulo PDV (Ponto de Venda) permite realizar vendas de forma rápida e eficiente, com suporte a diferentes formas de pagamento e emissão de cupom não fiscal.",topics:[{title:"Acessando o PDV",content:'Clique no ícone "PDV" no menu lateral para acessar a tela de vendas. Antes de iniciar as vendas, certifique-se de que um caixa esteja aberto.',tips:"Utilize a tecla F7 para focar rapidamente na busca de produtos."},{title:"Adicionando Produtos",content:'Digite o código, nome ou código de barras do produto no campo de busca e pressione Enter. Selecione a quantidade desejada e clique em "Adicionar" ou pressione F8.',tips:'Você pode alterar a quantidade usando os botões "QTD+" e "QTD-" ou digitando diretamente no campo de quantidade.'},{title:"Finalizando a Venda",content:'Após adicionar todos os produtos, clique em "Finalizar Venda" ou pressione F10. Selecione a forma de pagamento, informe o valor recebido (se for dinheiro) e confirme a venda.',tips:"O sistema calcula automaticamente o troco quando o pagamento é em dinheiro."},{title:"Emitindo o Cupom",content:"Após finalizar a venda, o sistema exibirá o cupom não fiscal. Você pode imprimir o cupom ou salvá-lo como PDF.",tips:"Os cupons ficam armazenados no sistema e podem ser consultados posteriormente no módulo de relatórios."}]},{title:"Consulta de Produtos",description:"O módulo de Produtos permite consultar, cadastrar e gerenciar o estoque de produtos da banca.",topics:[{title:"Pesquisando Produtos",content:"Utilize o campo de busca para encontrar produtos por nome, código ou código de barras. Você também pode filtrar por categoria.",tips:"A busca é dinâmica e os resultados são atualizados conforme você digita."},{title:"Visualizando Detalhes",content:"Clique em um produto na lista para visualizar seus detalhes, como preço, estoque atual e categoria.",tips:"Produtos com estoque abaixo do mínimo são destacados com um ícone de alerta."}]}],U=[{title:"Gerenciamento de Estoque",description:"O controle de estoque é essencial para o bom funcionamento do negócio. O sistema permite o acompanhamento em tempo real do estoque de produtos.",topics:[{title:"Cadastro de Produtos",content:'Para cadastrar um novo produto, acesse o módulo "Produtos" e clique em "Novo Produto". Preencha os campos obrigatórios como nome, código, preço, categoria e estoque inicial.',tips:"Defina um estoque mínimo para receber alertas quando o produto estiver com estoque baixo."},{title:"Atualização de Estoque",content:'O estoque é atualizado automaticamente a cada venda. Para ajustes manuais, edite o produto e altere o campo "Estoque Atual".',tips:"Realize inventários periódicos para garantir a precisão do estoque no sistema."},{title:"Alertas de Estoque",content:"O sistema exibe alertas para produtos com estoque abaixo do mínimo definido. Estes alertas aparecem no Dashboard e na lista de produtos.",tips:"Configure as notificações para receber alertas por email quando o estoque estiver baixo."}]},{title:"Controle Financeiro",description:"O módulo Financeiro permite o controle completo das movimentações financeiras, incluindo entradas, saídas, despesas e relatórios.",topics:[{title:"Abertura e Fechamento de Caixa",content:"Para iniciar as operações do dia, é necessário abrir o caixa informando o valor inicial. Ao final do expediente, realize o fechamento informando o valor em caixa para conferência.",tips:"O sistema calcula automaticamente a diferença entre o valor esperado e o valor informado no fechamento."},{title:"Registro de Movimentações",content:"Além das vendas, você pode registrar outras entradas (receitas, suprimentos) e saídas (despesas, sangrias) de caixa.",tips:"Categorize corretamente as movimentações para facilitar a análise financeira posterior."},{title:"Controle de Despesas",content:"Cadastre e acompanhe as despesas fixas e variáveis do negócio. É possível definir despesas recorrentes e datas de vencimento.",tips:"Utilize o campo de observações para registrar informações adicionais sobre a despesa."}]},{title:"Relatórios Gerenciais",description:"O sistema oferece diversos relatórios para análise do desempenho do negócio, auxiliando na tomada de decisões.",topics:[{title:"Relatório de Vendas",content:"Apresenta o histórico de vendas por período, com informações sobre produtos vendidos, formas de pagamento e totais.",tips:"Utilize os filtros de data para analisar períodos específicos, como dias da semana ou horários de pico."},{title:"Relatório de Produtos",content:"Mostra os produtos mais vendidos, lucratividade por produto e alertas de estoque.",tips:"Identifique os produtos com maior giro para otimizar seu estoque e negociar melhores condições com fornecedores."},{title:"Relatório Financeiro",content:"Apresenta o fluxo de caixa, receitas, despesas e lucro líquido por período.",tips:"Compare os resultados com períodos anteriores para identificar tendências e sazonalidades."},{title:"Exportação de Dados",content:"Todos os relatórios podem ser exportados em formato PDF para análise externa ou arquivamento.",tips:"Programe a geração automática de relatórios mensais para acompanhamento consistente dos resultados."}]}],M=[{title:"Configurações do Sistema",description:"O módulo de Configurações permite personalizar o sistema de acordo com as necessidades do negócio e gerenciar usuários e permissões.",topics:[{title:"Dados da Empresa",content:"Cadastre as informações da empresa, como razão social, CNPJ, endereço e logo. Estas informações serão exibidas nos relatórios e cupons.",tips:"Mantenha os dados da empresa sempre atualizados, especialmente informações de contato."},{title:"Aparência",content:"Personalize as cores do sistema, tema (claro ou escuro) e logo. As alterações são aplicadas em tempo real para todos os usuários.",tips:"Escolha cores que representem a identidade visual da sua empresa."},{title:"Backup e Restauração",content:"Realize backups periódicos dos dados do sistema para evitar perdas em caso de problemas. O backup pode ser configurado para execução automática.",tips:"Armazene os backups em locais seguros e diferentes do computador principal."}]},{title:"Gestão de Usuários",description:"O controle de acesso ao sistema é fundamental para a segurança das informações. O módulo de Usuários permite criar e gerenciar contas de usuários com diferentes níveis de permissão.",topics:[{title:"Cadastro de Usuários",content:'Para cadastrar um novo usuário, acesse "Configurações > Usuários" e clique em "Novo Usuário". Defina nome, login, senha e tipo de usuário (Vendedor, Gerente ou Administrador).',tips:"Crie senhas fortes e oriente os usuários a alterá-las no primeiro acesso."},{title:"Permissões de Acesso",content:"Cada tipo de usuário possui permissões específicas: Vendedores têm acesso apenas ao PDV, Gerentes podem acessar relatórios e estoque, e Administradores têm acesso completo.",tips:"Siga o princípio do menor privilégio: conceda apenas as permissões necessárias para cada função."},{title:"Auditoria de Ações",content:"O sistema registra as principais ações dos usuários, como vendas, alterações de estoque e movimentações financeiras, identificando o usuário responsável.",tips:"Revise periodicamente os logs de auditoria para identificar possíveis irregularidades."}]},{title:"Fornecedores e Compras",description:"O gerenciamento de fornecedores e compras permite controlar o relacionamento com parceiros comerciais e o processo de reposição de estoque.",topics:[{title:"Cadastro de Fornecedores",content:"Registre informações completas dos fornecedores, como razão social, CNPJ, contatos e endereço. Associe produtos aos respectivos fornecedores.",tips:"Mantenha um histórico de interações com cada fornecedor para referência futura."},{title:"Pedidos de Compra",content:"Crie pedidos de compra para fornecedores, especificando produtos, quantidades e valores. Acompanhe o status dos pedidos até a entrega.",tips:"Configure alertas automáticos para produtos com estoque baixo, facilitando a decisão de reposição."},{title:"Recebimento de Mercadorias",content:"Ao receber os produtos, confira a nota fiscal com o pedido de compra e registre a entrada no estoque. O sistema atualiza automaticamente o estoque disponível.",tips:"Verifique sempre a qualidade e a quantidade dos produtos recebidos antes de confirmar o recebimento no sistema."}]},{title:"Manutenção do Sistema",description:"A manutenção regular do sistema é essencial para garantir seu bom funcionamento e a integridade dos dados.",topics:[{title:"Atualização do Sistema",content:"Mantenha o sistema sempre atualizado com as últimas versões disponibilizadas pela CYBERPIU. As atualizações podem incluir novas funcionalidades, correções e melhorias de segurança.",tips:"Realize um backup completo antes de aplicar qualquer atualização."},{title:"Limpeza de Dados",content:"Periodicamente, avalie a necessidade de arquivar ou remover dados antigos que não são mais necessários para operação diária, como vendas e movimentações de períodos passados.",tips:"Antes de remover qualquer dado, certifique-se de que ele foi devidamente arquivado em um backup."},{title:"Monitoramento de Desempenho",content:"Acompanhe o desempenho do sistema, especialmente em momentos de pico de uso. Identifique possíveis gargalos e tome medidas preventivas.",tips:"Em caso de lentidão persistente, entre em contato com o suporte técnico da CYBERPIU para diagnóstico e solução."}]}];switch(d){case"basic":return k;case"advanced":return[...k,...U];case"admin":return[...k,...U,...M];default:return k}},w=[{id:"faq-1",category:"pdv",question:"Como abrir o caixa para iniciar as vendas?",answer:'Para abrir o caixa, acesse o módulo "Controle de Caixa" no menu lateral e clique no botão "Abrir Caixa". Selecione o caixa desejado, informe o valor inicial em dinheiro e clique em "Abrir Caixa".'},{id:"faq-2",category:"pdv",question:"Como cancelar uma venda já finalizada?",answer:'Acesse o módulo "Vendas", localize a venda desejada na lista, clique no botão de opções (três pontos) e selecione "Cancelar Venda". Informe o motivo do cancelamento e confirme. Apenas usuários com permissão podem realizar esta operação.'},{id:"faq-3",category:"produtos",question:"Como cadastrar um novo produto?",answer:'Acesse o módulo "Produtos" no menu lateral e clique no botão "Novo Produto". Preencha os campos obrigatórios (nome, código, preço, categoria e estoque) e clique em "Criar Produto".'},{id:"faq-4",category:"produtos",question:"Como atualizar o estoque de um produto?",answer:'Acesse o módulo "Produtos", localize o produto desejado, clique no botão "Editar", atualize o campo "Estoque Atual" e salve as alterações. O sistema registrará esta operação no histórico de movimentações.'},{id:"faq-5",category:"financeiro",question:"Como registrar uma despesa?",answer:'Acesse o módulo "Financeiro" no menu lateral e clique no botão "Nova Despesa". Preencha os campos obrigatórios (descrição, valor, data de vencimento) e clique em "Criar Despesa".'},{id:"faq-6",category:"financeiro",question:"Como fechar o caixa no final do dia?",answer:'Acesse o módulo "Controle de Caixa" e clique no botão "Fechar Caixa". Informe o valor em dinheiro contado fisicamente, adicione observações se necessário e confirme o fechamento.'},{id:"faq-7",category:"relatorios",question:"Como gerar um relatório de vendas por período?",answer:'Acesse o módulo "Relatórios", selecione "Relatório de Vendas", defina o período desejado (dia, semana, mês ou personalizado) e clique em "Gerar Relatório". O sistema gerará um PDF que pode ser salvo ou impresso.'},{id:"faq-8",category:"sistema",question:"Como realizar backup dos dados?",answer:'Acesse "Configurações > Backup" no menu lateral e clique em "Criar Backup". O sistema gerará um arquivo que deve ser salvo em local seguro. Você também pode configurar backups automáticos periódicos.'},{id:"faq-9",category:"sistema",question:"Como adicionar um novo usuário ao sistema?",answer:'Acesse "Configurações > Usuários" no menu lateral e clique em "Novo Usuário". Preencha os dados do usuário, defina o tipo (Vendedor, Gerente ou Administrador) e clique em "Criar Usuário".'},{id:"faq-10",category:"sistema",question:"Como alterar as cores do sistema?",answer:'Acesse "Configurações > Aparência" no menu lateral. Utilize o seletor de cores para escolher as cores primária e secundária do sistema. Clique em "Aplicar Cores" para salvar as alterações.'}].filter(k=>k.question.toLowerCase().includes(r.toLowerCase())||k.answer.toLowerCase().includes(r.toLowerCase())),v=(e==null?void 0:e.tipo)==="gerente"||(e==null?void 0:e.tipo)==="administrador",N=(e==null?void 0:e.tipo)==="administrador",A=k=>{switch(k){case"pdv":return s.jsx(An,{size:18,className:"text-blue-600"});case"produtos":return s.jsx(mr,{size:18,className:"text-green-600"});case"financeiro":return s.jsx(ar,{size:18,className:"text-orange-600"});case"relatorios":return s.jsx(Xt,{size:18,className:"text-purple-600"});case"sistema":return s.jsx(mi,{size:18,className:"text-gray-600"});default:return s.jsx($0,{size:18,className:"text-gray-600"})}};return s.jsx("div",{className:`min-h-screen ${t==="dark"?"bg-gray-900":"bg-gray-50"}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto p-8",children:[s.jsx("div",{className:"mb-12",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center shadow-2xl ${t==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"}`,children:s.jsx(Dv,{size:40,className:"text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-light text-primary mb-3",children:"Tutorial"}),s.jsx("p",{className:`text-xl ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Aprenda a utilizar o sistema PDV Banca"})]})]})})}),s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[s.jsx(Xt,{size:24,className:"text-primary"}),"Tutoriais Disponíveis"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:`p-6 rounded-2xl border-2 cursor-pointer transition-all hover:scale-105 ${d==="basic"?"border-primary bg-primary/10":t==="dark"?"border-gray-700 hover:border-gray-600":"border-gray-200 hover:border-gray-300"}`,onClick:()=>h("basic"),children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-green-100",children:s.jsx(a3,{size:24,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Tutorial Básico"}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Para iniciantes"})]})]}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Introdução ao sistema, navegação básica e operações de venda."}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-3 py-1 rounded-full",children:"Todos os usuários"}),s.jsx("span",{className:"text-xs text-gray-500",children:"3 seções"})]})]}),s.jsxs("div",{className:`p-6 rounded-2xl border-2 cursor-pointer transition-all hover:scale-105 ${v?d==="advanced"?"border-primary bg-primary/10":t==="dark"?"border-gray-700 hover:border-gray-600":"border-gray-200 hover:border-gray-300":"opacity-50 cursor-not-allowed"}`,onClick:()=>v&&h("advanced"),children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-blue-100",children:s.jsx(qv,{size:24,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Tutorial Avançado"}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Para gerentes"})]})]}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Gestão de estoque, controle financeiro e relatórios gerenciais."}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:"Gerentes e Administradores"}),s.jsx("span",{className:"text-xs text-gray-500",children:"6 seções"})]})]}),s.jsxs("div",{className:`p-6 rounded-2xl border-2 cursor-pointer transition-all hover:scale-105 ${N?d==="admin"?"border-primary bg-primary/10":t==="dark"?"border-gray-700 hover:border-gray-600":"border-gray-200 hover:border-gray-300":"opacity-50 cursor-not-allowed"}`,onClick:()=>N&&h("admin"),children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-purple-100",children:s.jsx(Kn,{size:24,className:"text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:"Tutorial Administrativo"}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Para administradores"})]})]}),s.jsx("p",{className:`text-sm ${t==="dark"?"text-gray-400":"text-gray-600"}`,children:"Configurações avançadas, gestão de usuários e manutenção do sistema."}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-3 py-1 rounded-full",children:"Apenas Administradores"}),s.jsx("span",{className:"text-xs text-gray-500",children:"10 seções"})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsx("button",{onClick:S,disabled:a,className:"bg-primary text-white px-8 py-4 rounded-2xl hover:opacity-90 flex items-center gap-3 font-medium text-lg shadow-xl transition-all hover:scale-105 disabled:opacity-50 disabled:hover:scale-100",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Gerando PDF..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{size:20}),"Baixar Tutorial em PDF"]})})})]}),s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl mb-8 ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx($0,{size:24,className:"text-secondary"}),"Perguntas Frequentes"]}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Cn,{className:"absolute left-4 top-3 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar perguntas frequentes...",value:r,onChange:k=>n(k.target.value),className:`w-full pl-12 pr-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-primary/20 transition-all ${t==="dark"?"bg-gray-700 border-gray-600 text-white focus:border-primary":"bg-white border-gray-300 text-gray-800 focus:border-primary"}`})]})]}),s.jsx("div",{className:"space-y-4",children:w.length>0?w.map(k=>s.jsxs("div",{className:`border-2 rounded-xl overflow-hidden transition-all ${o.includes(k.id)?t==="dark"?"border-gray-600":"border-gray-300":t==="dark"?"border-gray-700":"border-gray-200"}`,children:[s.jsxs("button",{onClick:()=>p(k.id),className:`w-full flex items-center justify-between p-5 text-left ${o.includes(k.id)?t==="dark"?"bg-gray-700":"bg-gray-100":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[A(k.category),s.jsx("span",{className:"font-bold",children:k.question})]}),o.includes(k.id)?s.jsx(Ov,{size:20}):s.jsx(Mv,{size:20})]}),o.includes(k.id)&&s.jsx("div",{className:`p-5 border-t ${t==="dark"?"border-gray-700 bg-gray-750":"border-gray-200 bg-gray-50"}`,children:s.jsx("p",{className:"text-sm leading-relaxed",children:k.answer})})]},k.id)):s.jsxs("div",{className:`p-8 text-center rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsx($0,{size:48,className:"mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma pergunta encontrada"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tente usar termos diferentes na sua busca"})]})})]}),s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl ${t==="dark"?"bg-gray-800":"bg-white"}`,children:[s.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[s.jsx(Rv,{size:24,className:"text-primary"}),"Suporte e Ajuda"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:`p-6 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-blue-100",children:s.jsx(Xi,{size:24,className:"text-blue-600"})}),s.jsx("h3",{className:"font-bold text-lg",children:"Email de Suporte"})]}),s.jsx("p",{className:`text-sm mb-4 ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"Envie suas dúvidas ou problemas para nossa equipe de suporte."}),s.jsx("a",{href:"mailto:suporte@cyberpiu.com.br",className:"inline-block text-primary font-medium hover:underline",children:"suporte@cyberpiu.com.br"})]}),s.jsxs("div",{className:`p-6 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-green-100",children:s.jsx(Qi,{size:24,className:"text-green-600"})}),s.jsx("h3",{className:"font-bold text-lg",children:"Telefone"})]}),s.jsx("p",{className:`text-sm mb-4 ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"Atendimento de segunda a sexta, das 8h às 18h."}),s.jsx("a",{href:"tel:+551199999999",className:"inline-block text-primary font-medium hover:underline",children:"(11) 9999-9999"})]}),s.jsxs("div",{className:`p-6 rounded-xl ${t==="dark"?"bg-gray-700":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-purple-100",children:s.jsx($v,{size:24,className:"text-purple-600"})}),s.jsx("h3",{className:"font-bold text-lg",children:"Site"})]}),s.jsx("p",{className:`text-sm mb-4 ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"Acesse nosso site para mais informações e recursos."}),s.jsx("a",{href:"https://www.cyberpiu.com.br",target:"_blank",rel:"noopener noreferrer",className:"inline-block text-primary font-medium hover:underline",children:"www.cyberpiu.com.br"})]})]}),s.jsx("div",{className:`mt-8 p-6 rounded-xl border-l-4 border-blue-500 ${t==="dark"?"bg-blue-900/20 text-blue-200":"bg-blue-50 text-blue-800"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Wt,{size:24,className:"flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold mb-2",children:"Informação Importante"}),s.jsx("p",{className:"text-sm",children:"Este tutorial abrange as principais funcionalidades do sistema PDV Banca de Jornal. Para informações mais detalhadas ou suporte técnico, entre em contato com nossa equipe de atendimento."}),s.jsx("p",{className:"text-sm mt-2",children:"Mantenha seu sistema sempre atualizado para ter acesso às últimas funcionalidades e correções de segurança."})]})]})})]}),s.jsx("div",{className:`mt-8 p-4 text-center border-t ${t==="dark"?"border-gray-700 text-gray-400":"border-gray-200 text-gray-600"}`,children:s.jsxs("p",{className:"text-sm",children:["Tutorial do Sistema • Powered by ",s.jsx("span",{className:"font-bold",style:{color:"#ea580c"},children:"CYBERPIU"})]})})]})})},JS=()=>{const{isAuthenticated:t}=Ln(),[e,r]=de.useState("home"),[n,a]=de.useState(!1);if(de.useEffect(()=>{(async()=>{try{console.log("Initializing app...");const d=localStorage.getItem("company_favicon");if(d){const h=document.querySelector("link[rel*='icon']");h&&(h.href=d)}console.log("App initialized successfully"),a(!0)}catch(d){console.error("Error initializing app:",d),a(!0)}})()},[]),!n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-700",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-xl font-semibold",children:"Inicializando Sistema..."}),s.jsx("p",{className:"text-sm opacity-75 mt-2",children:"Powered by CYBERPIU"})]})});if(!t)return s.jsx(j3,{});const i=l=>{r(l)},o=()=>{switch(e){case"home":return s.jsx(w1,{});case"produtos":return s.jsx(AS,{});case"caixa":return s.jsx(FS,{});case"categorias":return s.jsx(TS,{});case"aparencia":return s.jsx(DS,{});case"fornecedores":return s.jsx(MS,{});case"financeiro":return s.jsx($S,{});case"dados-empresa":return s.jsx(RS,{});case"usuarios":return s.jsx(BS,{});case"cargos-permissoes":return s.jsx(US,{});case"notificacoes":return s.jsx(VS,{});case"backup":return s.jsx(WS,{});case"tutorial":return s.jsx(GS,{});default:return s.jsx(w1,{})}};return e==="pdv"?s.jsx(_S,{onBack:()=>r("home")}):s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s.jsx(N3,{currentPage:e,onPageChange:i}),s.jsx("div",{className:"flex-1 overflow-auto",children:o()})]})};function YS(){return s.jsx(Z4,{children:s.jsx(X4,{children:s.jsx(Y4,{children:s.jsx(JS,{})})})})}console.log("Environment:",{isElectron:!!window.electronAPI,userAgent:navigator.userAgent,location:window.location.href});const Y1=()=>{const t=document.getElementById("root");if(!t){console.error("Root element not found!");return}console.log("Initializing React app...");try{lv(t).render(s.jsx(de.StrictMode,{children:s.jsx(YS,{})})),console.log("React app initialized successfully")}catch(e){console.error("Error initializing React app:",e)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Y1):Y1();export{Ct as _,Xs as c,e5 as g};
